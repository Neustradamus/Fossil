!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/Fossil/",t(t.s=93)}([function(e,t,n){e.exports={Namespace:n(179),MUC:n(180),PubSub:n(181),Jingle:n(182),Presence:n(183)}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=n(100)},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"===typeof t?l(e,t,n):p(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"===typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function c(e,t){if(s(t),e=i(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||J(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(e,c)===o(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,d=0;d<u;d++)if(o(e,c+d)!==o(t,d)){f=!1;break}if(f)return c}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return K(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return K(Y(t),e,n,r)}function E(e,t,n,r){return S(e,t,n,r)}function O(e,t,n,r){return K(W(t),e,n,r)}function k(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return N(r)}function N(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,n,r,52,8),n+8}function H(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return X.toByteArray(H(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function J(e){return e!==e}var X=n(125),$=n(126),Q=n(57);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),$.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),$.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),$.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),$.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:V(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(2))},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(4),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){return e?e+"@"+t:t}function i(e,t,n){return n?r(e,t)+"/"+n:r(e,t)}var o=n(114),a=/^[\x00-\x7F]*$/;t.prep=function(e){var n=e.local,a=e.domain,s=e.resource,u=n;return n&&(n=o.nodeprep(n),u=t.unescape(n)),s&&(s=o.resourceprep(s)),"."===a[a.length-1]&&(a=a.slice(0,a.length-1)),a=o.nameprep(a.split(".").map(o.toUnicode).join(".")),{prepped:e.prepped||o.available,local:n,domain:a,resource:s,bare:r(n,a),full:i(n,a,s),unescapedLocal:u,unescapedBare:r(u,a),unescapedFull:i(u,a,s)}},t.parse=function(e,n){var r="",i="",o="";n=n||a.test(e);var s=e.indexOf("/");s>0&&(o=e.slice(s+1),e=e.slice(0,s));var u=e.indexOf("@");u>0&&(r=e.slice(0,u),e=e.slice(u+1)),i=e;var c=t.prep({local:r,domain:i,resource:o});return c.prepped=c.prepped||n,c},t.equal=function(e,n,r){return e=new t.JID(e),n=new t.JID(n),2===arguments.length&&(r=!0),e.local===n.local&&e.domain===n.domain&&e.resource===n.resource&&(!r||e.prepped&&n.prepped)},t.equalBare=function(e,n,r){return e=new t.JID(e),n=new t.JID(n),2===arguments.length&&(r=!0),e.local===n.local&&e.domain===n.domain&&(!r||e.prepped&&n.prepped)},t.isBare=function(e){return e=new t.JID(e),!!!e.resource},t.isFull=function(e){return e=new t.JID(e),!!e.resource},t.escape=function(e){return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},t.unescape=function(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},t.create=function(e,n,r){return new t.JID(e,n,r)},t.JID=function(e,n,r){var i={};if(!e||n||r)if(n){var o=a.test(e)&&a.test(n);r&&(o=o&&a.test(r)),i=t.prep({local:t.escape(e),domain:n,resource:r,prepped:o})}else i={};else if("string"===typeof e)i=t.parse(e);else{if(!(e._isJID||e instanceof t.JID))throw new Error("Invalid argument type");i=e}this._isJID=!0,this.local=i.local||"",this.domain=i.domain||"",this.resource=i.resource||"",this.bare=i.bare||"",this.full=i.full||"",this.unescapedLocal=i.unescapedLocal||"",this.unescapedBare=i.unescapedBare||"",this.unescapedFull=i.unescapedFull||"",this.prepped=i.prepped},t.JID.prototype.toString=function(){return this.full},t.JID.prototype.toJSON=function(){return this.full}},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"\x1b["+i.colors[n][0]+"m"+e+"\x1b["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=c(e,n);if(o)return o;var a=Object.keys(n),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(k(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(x(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return l(n)}var v="",y=!1,_=["{","}"];if(h(n)&&(y=!0,_=["[","]"]),k(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(v=" "+RegExp.prototype.toString.call(n)),E(n)&&(v=" "+Date.prototype.toUTCString.call(n)),O(n)&&(v=" "+l(n)),0===a.length&&(!y||0==n.length))return _[0]+v+_[1];if(r<0)return x(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var w;return w=y?f(e,n,r,m,a):a.map(function(t){return d(e,n,r,m,t,y)}),e.seen.pop(),p(w,v,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(n)?u(e,c.value,null):u(e,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"===typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"===typeof e}function b(e){return"string"===typeof e}function _(e){return"symbol"===typeof e}function w(e){return void 0===e}function x(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"===typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===T(e)}function O(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"===typeof e}function C(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])g(s)||!S(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var R,j={};t.debuglog=function(e){if(w(R)&&(R=Object({NODE_ENV:"production",PUBLIC_URL:"/Fossil"}).NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var n=r.pid;j[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else j[e]=function(){};return j[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=_,t.isUndefined=w,t.isRegExp=x,t.isObject=S,t.isDate=E,t.isError=O,t.isFunction=k,t.isPrimitive=C,t.isBuffer=n(135);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(136),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(2),n(10))},function(e,t){function n(){}e.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(o),this},t.once=function(e,t,n){function r(){i.off(e,r),s.apply(this,arguments)}var i=this,o=3===arguments.length,a=o?arguments[1]:void 0,s=o?arguments[2]:arguments[1];return this.on(e,a,r),this},t.releaseGroup=function(e){this.callbacks=this.callbacks||{};var t,n,r,i;for(t in this.callbacks)for(i=this.callbacks[t],n=0,r=i.length;n<r;n++)i[n]._groupName===e&&(i.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(n=r.indexOf(t),r.splice(n,1),0===r.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,i=[].slice.call(arguments,1),o=this.callbacks[e],a=this.getWildcardCallbacks(e);if(o)for(r=o.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,i);if(a)for(n=a.length,r=a.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,[e].concat(i));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},n.mixin(n)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";t.VERSION="__STANZAIO_VERSION__",t.JID=n(7).JID,t.Client=n(116),t.createClient=function(e){var r=new t.Client(e);return r.use(n(293)),r}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);c.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=n(26).nextTick,s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var u=n(21);u.inherits=n(1);var c=n(69),l=n(34);u.inherits(r,c);for(var f=s(l.prototype),d=0;d<f.length;d++){var p=f[d];r.prototype[p]||(r.prototype[p]=l.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t,n){var r=n(117),i=n(51),o=n(28),a=n(14),s=function(e,t){return function(n,r,i){return"function"==typeof r&&void 0===i&&a(n)?e(n,r):t(n,o(r,i,3))}}(r,i);e.exports=s},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function i(e){return o(e)&&d.call(e)==s}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?p.test(l.call(e)):n(e)&&u.test(e))}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,d=c.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=function(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}(Array,"isArray"),m=9007199254740991,g=h||function(e){return n(e)&&r(e.length)&&"[object Array]"==d.call(e)};e.exports=g},function(e,t,n){function r(e,t,n){for(var r=-1,i=a(t),o=i.length;++r<o;){var s=i[r],u=e[s],c=n(u,t[s],s,e,t);(c===c?c===u:u!==u)&&(void 0!==u||s in e)||(e[s]=c)}return e}var i=n(119),o=n(121),a=n(18),s=o(function(e,t,n){return n?r(e,t,n):i(e,t)});e.exports=s},function(e,t,n){function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var i=n(5).Buffer;r.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%r,c=Math.min(o-s,r-u),l=0;l<c;l++)n[u+l]=e[s+l];a+=c,s+=c,a%r===0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){e.exports=n(355)},function(e,t,n){function r(e){return null!=e&&o(v(e))}function i(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function a(e){for(var t=u(e),n=t.length,r=n&&e.length,a=!!r&&o(r)&&(f(e)||l(e)),s=-1,c=[];++s<n;){var d=t[s];(a&&i(d,r)||h.call(e,d))&&c.push(d)}return c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(f(e)||l(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,u=Array(t),c=t>0;++r<t;)u[r]=r+"";for(var d in e)c&&i(d,t)||"constructor"==d&&(a||!h.call(e,d))||u.push(d);return u}var c=n(52),l=n(118),f=n(14),d=/^\d+$/,p=Object.prototype,h=p.hasOwnProperty,m=c(Object,"keys"),g=9007199254740991,v=function(e){return function(t){return null==t?void 0:t[e]}}("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):s(e)?m(e):[]}:a;e.exports=y},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"===typeof e}function i(e){return"number"===typeof e}function o(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e,t){this.name=e,this.parent=null,this.children=[],this.attrs={},this.setAttrs(t)}var i=n(24),o=i.escapeXML,a=i.escapeXMLText,s=n(60),u=s.equal,c=s.name,l=s.attrs,f=s.children,d=n(61);r.prototype.is=function(e,t){return this.getName()===e&&(!t||this.getNS()===t)},r.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},r.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var e=this.name.substr(0,this.name.indexOf(":"));return this.findNS(e)}return this.findNS()},r.prototype.findNS=function(e){if(e){var t="xmlns:"+e;if(this.attrs[t])return this.attrs[t];if(this.parent)return this.parent.findNS(e)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},r.prototype.getXmlns=function(){var e={};this.parent&&(e=this.parent.getXmlns());for(var t in this.attrs){var n=t.match("xmlns:?(.*)");this.attrs.hasOwnProperty(t)&&n&&(e[this.attrs[t]]=n[1])}return e},r.prototype.setAttrs=function(e){"string"===typeof e?this.attrs.xmlns=e:e&&Object.keys(e).forEach(function(t){this.attrs[t]=e[t]},this)},r.prototype.getAttr=function(e,t){if(!t)return this.attrs[e];var n=this.getXmlns();return n[t]?this.attrs[[n[t],e].join(":")]:null},r.prototype.getChild=function(e,t){return this.getChildren(e,t)[0]},r.prototype.getChildren=function(e,t){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];!i.getName||i.getName()!==e||t&&i.getNS()!==t||n.push(i)}return n},r.prototype.getChildByAttr=function(e,t,n,r){return this.getChildrenByAttr(e,t,n,r)[0]},r.prototype.getChildrenByAttr=function(e,t,n,r){for(var i=[],o=0;o<this.children.length;o++){var a=this.children[o];!a.attrs||a.attrs[e]!==t||n&&a.getNS()!==n||i.push(a),r&&a.getChildrenByAttr&&i.push(a.getChildrenByAttr(e,t,n,!0))}return r&&(i=[].concat.apply([],i)),i},r.prototype.getChildrenByFilter=function(e,t){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];e(i)&&n.push(i),t&&i.getChildrenByFilter&&n.push(i.getChildrenByFilter(e,!0))}return t&&(n=[].concat.apply([],n)),n},r.prototype.getText=function(){for(var e="",t=0;t<this.children.length;t++){var n=this.children[t];"string"!==typeof n&&"number"!==typeof n||(e+=n)}return e},r.prototype.getChildText=function(e,t){var n=this.getChild(e,t);return n?n.getText():null},r.prototype.getChildElements=function(){return this.getChildrenByFilter(function(e){return e instanceof r})},r.prototype.root=function(){return this.parent?this.parent.root():this},r.prototype.tree=r.prototype.root,r.prototype.up=function(){return this.parent?this.parent:this},r.prototype.c=function(e,t){return this.cnode(new r(e,t))},r.prototype.cnode=function(e){return this.children.push(e),"object"===typeof e&&(e.parent=this),e},r.prototype.t=function(e){return this.children.push(e),this},r.prototype.remove=function(e,t){var n;return n="string"===typeof e?function(n){return!(n.is&&n.is(e,t))}:function(t){return t!==e},this.children=this.children.filter(n),this},r.prototype.clone=function(){return d(this)},r.prototype.text=function(e){return e&&1===this.children.length?(this.children[0]=e,this):this.getText()},r.prototype.attr=function(e,t){return"undefined"!==typeof t||null===t?(this.attrs||(this.attrs={}),this.attrs[e]=t,this):this.attrs[e]},r.prototype.toString=function(){var e="";return this.write(function(t){e+=t}),e},r.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(e){return e&&e.toJSON?e.toJSON():e})}},r.prototype._addChildren=function(e){e(">");for(var t=0;t<this.children.length;t++){var n=this.children[t];(n||0===n)&&(n.write?n.write(e):"string"===typeof n?e(a(n)):n.toString&&e(a(n.toString(10))))}e("</"),e(this.name),e(">")},r.prototype.write=function(e){e("<"),e(this.name);for(var t in this.attrs){var n=this.attrs[t];null!=n&&(e(" "),e(t),e('="'),"string"!==typeof n&&(n=n.toString()),e(o(n)),e('"'))}0===this.children.length?e("/>"):this._addChildren(e)},r.prototype.nameEquals=function(e){return c(this,e)},r.prototype.attrsEquals=function(e){return l(this,e)},r.prototype.childrenEquals=function(e){return f(this,e)},r.prototype.equals=function(e){return u(this,e)},e.exports=r},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"===typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"===typeof e}function s(e){return"string"===typeof e}function u(e){return"symbol"===typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function f(e){return"object"===typeof e&&null!==e}function d(e){return"[object Date]"===g(e)}function p(e){return"[object Error]"===g(e)||e instanceof Error}function h(e){return"function"===typeof e}function m(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=c,t.isRegExp=l,t.isObject=f,t.isDate=d,t.isError=p,t.isFunction=h,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,n(4).Buffer)},function(e,t,n){(function(t){!function(t,r){e.exports=r(n(367),n(47),n(3))}(0,function(e,n,r){"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return e.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),r=d.camelize(t.slice(0,n)),o=t.slice(n+1).trim();return r.startsWith("webkit")?e[i(r)]=o:e[r]=o,e},{})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(t.children||[]).map(a.bind(null,e)),i=Object.keys(t.attributes||{}).reduce(function(e,n){var r=t.attributes[n];switch(n){case"class":e.attrs.className=r,delete t.attributes.class;break;case"style":e.attrs.style=o(r);break;default:0===n.indexOf("aria-")||0===n.indexOf("data-")?e.attrs[n.toLowerCase()]=r:e.attrs[d.camelize(n)]=r}return e},{attrs:{}}),s=n.style,u=void 0===s?{}:s,c=g(n,["style"]);return i.attrs.style=m({},i.attrs.style,u),e.apply(void 0,[t.tag,m({},i.attrs,c)].concat(v(r)))}function s(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?h({},e,t):{}}function u(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},h(t,"fa-"+e.size,null!==e.size),h(t,"fa-rotate-"+e.rotation,null!==e.rotation),h(t,"fa-pull-"+e.pull,null!==e.pull),t);return Object.keys(n).map(function(e){return n[e]?e:null}).filter(function(e){return e})}function c(e){return null===e?null:"object"===("undefined"===typeof e?"undefined":p(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function l(t){var n=t.icon,i=t.mask,o=t.symbol,f=t.className,d=c(n),p=s("classes",[].concat(v(u(t)),v(f.split(" ")))),h=s("transform","string"===typeof t.transform?e.parse.transform(t.transform):t.transform),g=s("mask",c(i)),y=e.icon(d,m({},p,h,g,{symbol:o}));if(!y)return b("Could not find icon",d),null;var _=y.abstract,w=a.bind(null,r.createElement),x={};return Object.keys(t).forEach(function(e){l.defaultProps.hasOwnProperty(e)||(x[e]=t[e])}),w(_[0],x)}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var f="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},d=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){!function(t){var n=function(e,t,r){if(!c(t)||f(t)||d(t)||p(t)||u(t))return t;var i,o=0,a=0;if(l(t))for(i=[],a=t.length;o<a;o++)i.push(n(e,t[o],r));else{i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[e(s,r)]=n(e,t[s],r))}return i},r=function(e,t){t=t||{};var n=t.separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)},i=function(e){return h(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))},o=function(e){var t=i(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return r(e,t).toLowerCase()},s=Object.prototype.toString,u=function(e){return"function"===typeof e},c=function(e){return e===Object(e)},l=function(e){return"[object Array]"==s.call(e)},f=function(e){return"[object Date]"==s.call(e)},d=function(e){return"[object RegExp]"==s.call(e)},p=function(e){return"[object Boolean]"==s.call(e)},h=function(e){return(e-=0)===e},m=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!==typeof n?e:function(t,r){return n(t,e,r)}},g={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(e,t){return n(m(i,t),e)},decamelizeKeys:function(e,t){return n(m(a,t),e,t)},pascalizeKeys:function(e,t){return n(m(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=g:t.humps=g}(f)}),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,i){var s={key:e,arg:t,resolve:n,reject:i,next:null};a?a=a.next=s:(o=a=s,r(e,t))})}function r(n,o){try{var a=t[n](o),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){r("next",e)},function(e){r("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?r(o.key,o.arg):a=null}var o,a;this._invoke=n,"function"!==typeof t.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},v=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},y=!1;try{y=!0}catch(e){}var b=function(){if(!y&&console&&"function"===typeof console.error){var e;(e=console).error.apply(e,arguments)}};return l.propTypes={border:n.bool,className:n.string,mask:n.oneOfType([n.object,n.array,n.string]),fixedWidth:n.bool,flip:n.oneOf(["horizontal","vertical","both"]),icon:n.oneOfType([n.object,n.array,n.string]),listItem:n.bool,pull:n.oneOf(["right","left"]),pulse:n.bool,name:n.string,rotation:n.oneOf([90,180,270]),size:n.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:n.bool,symbol:n.oneOfType([n.bool,n.string]),transform:n.oneOfType([n.string,n.object])},l.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,name:"",rotation:null,size:null,spin:!1,symbol:!1,transform:null},e.noAuto(),l})}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e){return o[e]}function i(e){return a[e]}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},a={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'"};t.escapeXML=function(e){return e.replace(/&|<|>|"|'/g,r)},t.unescapeXML=function(e){return e.replace(/&(amp|#38|lt|#60|gt|#62|quot|#34|apos|#39);/g,i)},t.escapeXMLText=function(e){return e.replace(/&|<|>/g,r)},t.unescapeXMLText=function(e){return e.replace(/&(amp|#38|lt|#60|gt|#62);/g,i)}},function(e,t,n){(function(e,n,r,i){!function(e,n){n(t)}(0,function(t){"use strict";function o(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}function a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function s(e){setTimeout(e,0)}function u(e){return function(t){var n=o(arguments,1);e(function(){t.apply(null,n)})}}function c(e){return st(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}a(r)&&"function"===typeof r.then?r.then(function(e){l(n,null,e)},function(e){l(n,e.message?e:new Error(e))}):n(null,r)})}function l(e,t,n){try{e(t,n)}catch(e){lt(f,e)}}function f(e){throw e}function d(e){return ft&&"AsyncFunction"===e[Symbol.toStringTag]}function p(e){return d(e)?c(e):e}function h(e){return function(t){var n=o(arguments,1),r=st(function(n,r){var i=this;return e(t,function(e,t){p(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}function m(e){var t=vt.call(e,bt),n=e[bt];try{e[bt]=void 0;var r=!0}catch(e){}var i=yt.call(e);return r&&(t?e[bt]=n:delete e[bt]),i}function g(e){return wt.call(e)}function v(e){return null==e?void 0===e?St:xt:Et&&Et in Object(e)?m(e):g(e)}function y(e){if(!a(e))return!1;var t=v(e);return t==kt||t==Ct||t==Ot||t==Tt}function b(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Nt}function _(e){return null!=e&&b(e.length)&&!y(e)}function w(){}function x(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function E(e){return null!=e&&"object"==typeof e}function O(e){return E(e)&&v(e)==Rt}function k(){return!1}function C(e,t){return!!(t=null==t?Yt:t)&&("number"==typeof e||Gt.test(e))&&e>-1&&e%1==0&&e<t}function T(e){return E(e)&&b(e.length)&&!!Wt[v(e)]}function N(e,t){var n=Ut(e),r=!n&&Lt(e),i=!n&&!r&&Vt(e),o=!n&&!r&&!i&&en(e),a=n||r||i||o,s=a?S(e.length,String):[],u=s.length;for(var c in e)!t&&!nn.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||C(c,u))||s.push(c);return s}function A(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rn)}function I(e){if(!A(e))return on(e);var t=[];for(var n in Object(e))sn.call(e,n)&&"constructor"!=n&&t.push(n);return t}function M(e){return _(e)?N(e):I(e)}function R(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function j(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function P(e){var t=M(e),n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}function D(e){if(_(e))return R(e);var t=Mt(e);return t?j(t):P(e)}function L(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function U(e){return function(t,n,r){function i(e,t){if(u-=1,e)s=!0,r(e);else{if(t===At||s&&u<=0)return s=!0,r(null);o()}}function o(){for(;u<e&&!s;){var t=a();if(null===t)return s=!0,void(u<=0&&r(null));u+=1,n(t.value,t.key,L(i))}}if(r=x(r||w),e<=0||!t)return r(null);var a=D(t),s=!1,u=0;o()}}function B(e,t,n,r){U(t)(e,p(n),r)}function F(e,t){return function(n,r,i){return e(n,t,r,i)}}function H(e,t,n){function r(e,t){e?n(e):++o!==a&&t!==At||n(null)}n=x(n||w);var i=0,o=0,a=e.length;for(0===a&&n(null);i<a;i++)t(e[i],i,L(r))}function z(e){return function(t,n,r){return e(cn,t,p(n),r)}}function q(e,t,n,r){r=r||w,t=t||[];var i=[],o=0,a=p(n);e(t,function(e,t,n){var r=o++;a(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}function V(e){return function(t,n,r,i){return e(U(n),t,p(r),i)}}function Y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function G(e,t){return e&&mn(e,t,M)}function W(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function K(e){return e!==e}function J(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function X(e,t,n){return t===t?J(e,t,n):W(e,K,n)}function $(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Q(e){return"symbol"==typeof e||E(e)&&v(e)==vn}function Z(e){if("string"==typeof e)return e;if(Ut(e))return $(e,Z)+"";if(Q(e))return _n?_n.call(e):"";var t=e+"";return"0"==t&&1/e==-yn?"-0":t}function ee(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function te(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:ee(e,t,n)}function ne(e,t){for(var n=e.length;n--&&X(t,e[n],0)>-1;);return n}function re(e,t){for(var n=-1,r=e.length;++n<r&&X(t,e[n],0)>-1;);return n}function ie(e){return e.split("")}function oe(e){return wn.test(e)}function ae(e){return e.match(An)||[]}function se(e){return oe(e)?ae(e):ie(e)}function ue(e){return null==e?"":Z(e)}function ce(e,t,n){if((e=ue(e))&&(n||void 0===t))return e.replace(In,"");if(!e||!(t=Z(t)))return e;var r=se(e),i=se(t);return te(r,re(r,i),ne(r,i)+1).join("")}function le(e){return e=e.toString().replace(Pn,""),e=e.match(Mn)[2].replace(" ",""),e=e?e.split(Rn):[],e=e.map(function(e){return ce(e.replace(jn,""))})}function fe(e,t){var n={};G(e,function(e,t){function r(t,n){var r=$(i,function(e){return t[e]});r.push(n),p(e).apply(null,r)}var i,o=d(e),a=!o&&1===e.length||o&&0===e.length;if(Ut(e))i=e.slice(0,-1),e=e[e.length-1],n[t]=i.concat(i.length>0?r:e);else if(a)n[t]=e;else{if(i=le(e),0===e.length&&!o&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");o||i.pop(),n[t]=i.concat(r)}}),gn(n,t)}function de(){this.head=this.tail=null,this.length=0}function pe(e,t){e.length=1,e.head=e.tail=t}function he(e,t,n){function r(e,t,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");if(l.started=!0,Ut(e)||(e=[e]),0===e.length&&l.idle())return lt(function(){l.drain()});for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||w};t?l._tasks.unshift(o):l._tasks.push(o)}u||(u=!0,lt(function(){u=!1,l.process()}))}function i(e){return function(t){a-=1;for(var n=0,r=e.length;n<r;n++){var i=e[n],o=X(s,i,0);0===o?s.shift():o>0&&s.splice(o,1),i.callback.apply(i,arguments),null!=t&&l.error(t,i.data)}a<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=p(e),a=0,s=[],u=!1,c=!1,l={_tasks:new de,concurrency:t,payload:n,saturated:w,unsaturated:w,buffer:t/4,empty:w,drain:w,error:w,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){l.drain=w,l._tasks.empty()},unshift:function(e,t){r(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!c){for(c=!0;!l.paused&&a<l.concurrency&&l._tasks.length;){var e=[],t=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var r=0;r<n;r++){var u=l._tasks.shift();e.push(u),s.push(u),t.push(u.data)}a+=1,0===l._tasks.length&&l.empty(),a===l.concurrency&&l.saturated();var f=L(i(e));o(t,f)}c=!1}},length:function(){return l._tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return l._tasks.length+a===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,lt(l.process))}};return l}function me(e,t){return he(e,1,t)}function ge(e,t,n,r){r=x(r||w);var i=p(n);Ln(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function ve(){var e=$(arguments,p);return function(){var t=o(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=w,ge(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=o(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}function ye(e){return e}function be(e,t){return function(n,r,i,o){o=o||w;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!a?(s=!0,a=t(!0,n),o(null,At)):o()})},function(e){e?o(e):o(null,s?a:t(!1))})}}function _e(e,t){return t}function we(e){return function(t){var n=o(arguments,1);n.push(function(t){var n=o(arguments,1);"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&Y(n,function(t){console[e](t)}))}),p(t).apply(null,n)}}function xe(e,t,n){function r(e){if(e)return n(e);var t=o(arguments,1);t.push(i),s.apply(this,t)}function i(e,t){return e?n(e):t?void a(r):n(null)}n=L(n||w);var a=p(e),s=p(t);i(null,!0)}function Se(e,t,n){n=L(n||w);var r=p(e),i=function(e){if(e)return n(e);var a=o(arguments,1);if(t.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Ee(e,t,n){Se(e,function(){return!t.apply(this,arguments)},n)}function Oe(e,t,n){function r(e){if(e)return n(e);a(i)}function i(e,t){return e?n(e):t?void o(r):n(null)}n=L(n||w);var o=p(t),a=p(e);a(i)}function ke(e){return function(t,n,r){return e(t,r)}}function Ce(e,t,n){cn(e,ke(p(t)),n)}function Te(e,t,n,r){U(t)(e,ke(p(n)),r)}function Ne(e){return d(e)?e:st(function(t,n){var r=!0;t.push(function(){var e=arguments;r?lt(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Ae(e){return!e}function Ie(e){return function(t){return null==t?void 0:t[e]}}function Me(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Re(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,$(i.sort(function(e,t){return e.index-t.index}),Ie("value")))})}function je(e,t,n,r){(_(t)?Me:Re)(e,t,p(n),r||w)}function Pe(e,t){function n(e){if(e)return r(e);i(n)}var r=L(t||w),i=p(Ne(e));n()}function De(e,t,n,r){r=x(r||w);var i={},o=p(n);B(e,t,function(e,t,n){o(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}function Le(e,t){return t in e}function Ue(e,t){var n=Object.create(null),r=Object.create(null);t=t||ye;var i=p(e),a=st(function(e,a){var s=t.apply(null,e);Le(n,s)?lt(function(){a.apply(null,n[s])}):Le(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,e.concat(function(){var e=o(arguments);n[s]=e;var t=r[s];delete r[s];for(var i=0,a=t.length;i<a;i++)t[i].apply(null,e)})))});return a.memo=n,a.unmemoized=e,a}function Be(e,t,n){n=n||w;var r=_(t)?[]:{};e(t,function(e,t,n){p(e)(function(e,i){arguments.length>2&&(i=o(arguments,1)),r[t]=i,n(e)})},function(e){n(e,r)})}function Fe(e,t){Be(cn,e,t)}function He(e,t,n){Be(U(t),e,n)}function ze(e,t){if(t=x(t||w),!Ut(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)p(e[n])(t)}function qe(e,t,n,r){ge(o(e).reverse(),t,n,r)}function Ve(e){var t=p(e);return st(function(e,n){return e.push(function(e,t){if(e)n(null,{error:e});else{var r;r=arguments.length<=2?t:o(arguments,1),n(null,{value:r})}}),t.apply(this,e)})}function Ye(e){var t;return Ut(e)?t=$(e,Ve):(t={},G(e,function(e,n){t[n]=Ve.call(this,e)})),t}function Ge(e,t,n,r){je(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}function We(e){return function(){return e}}function Ke(e,t,n){function r(){s(function(e){e&&u++<a.times&&("function"!=typeof a.errorFilter||a.errorFilter(e))?setTimeout(r,a.intervalFunc(u)):n.apply(null,arguments)})}var i=5,o=0,a={times:i,intervalFunc:We(o)};if(arguments.length<3&&"function"===typeof e?(n=t||w,t=e):(!function(e,t){if("object"===typeof t)e.times=+t.times||i,e.intervalFunc="function"===typeof t.interval?t.interval:We(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||i}}(a,e),n=n||w),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var s=p(t),u=1;r()}function Je(e,t){Be(Ln,e,t)}function Xe(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}var i=p(t);ln(e,function(e,t){i(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,$(t.sort(r),Ie("value")))})}function $e(e,t,n){var r=p(e);return st(function(i,o){function a(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),u=!0,o(r)}var s,u=!1;i.push(function(){u||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(a,t),r.apply(null,i)})}function Qe(e,t,n,r){for(var i=-1,o=yr(vr((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function Ze(e,t,n,r){var i=p(n);dn(Qe(0,e,1),t,i,r)}function et(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Ut(e)?[]:{}),r=x(r||w);var i=p(n);cn(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function tt(e,t){var n,r=null;t=t||w,Kn(e,function(e,t){p(e)(function(e,i){n=arguments.length>2?o(arguments,1):i,r=e,t(!e)})},function(){t(r,n)})}function nt(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function rt(e,t,n){n=L(n||w);var r=p(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function it(e,t,n){rt(function(){return!e.apply(this,arguments)},t,n)}var ot,at=function(e){var t=o(arguments,1);return function(){var n=o(arguments);return e.apply(null,t.concat(n))}},st=function(e){return function(){var t=o(arguments),n=t.pop();e.call(this,t,n)}},ut="function"===typeof e&&e,ct="object"===typeof n&&"function"===typeof n.nextTick;ot=ut?e:ct?n.nextTick:s;var lt=u(ot),ft="function"===typeof Symbol,dt="object"==typeof r&&r&&r.Object===Object&&r,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=dt||pt||Function("return this")(),mt=ht.Symbol,gt=Object.prototype,vt=gt.hasOwnProperty,yt=gt.toString,bt=mt?mt.toStringTag:void 0,_t=Object.prototype,wt=_t.toString,xt="[object Null]",St="[object Undefined]",Et=mt?mt.toStringTag:void 0,Ot="[object AsyncFunction]",kt="[object Function]",Ct="[object GeneratorFunction]",Tt="[object Proxy]",Nt=9007199254740991,At={},It="function"===typeof Symbol&&Symbol.iterator,Mt=function(e){return It&&e[It]&&e[It]()},Rt="[object Arguments]",jt=Object.prototype,Pt=jt.hasOwnProperty,Dt=jt.propertyIsEnumerable,Lt=O(function(){return arguments}())?O:function(e){return E(e)&&Pt.call(e,"callee")&&!Dt.call(e,"callee")},Ut=Array.isArray,Bt="object"==typeof t&&t&&!t.nodeType&&t,Ft=Bt&&"object"==typeof i&&i&&!i.nodeType&&i,Ht=Ft&&Ft.exports===Bt,zt=Ht?ht.Buffer:void 0,qt=zt?zt.isBuffer:void 0,Vt=qt||k,Yt=9007199254740991,Gt=/^(?:0|[1-9]\d*)$/,Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Kt="object"==typeof t&&t&&!t.nodeType&&t,Jt=Kt&&"object"==typeof i&&i&&!i.nodeType&&i,Xt=Jt&&Jt.exports===Kt,$t=Xt&&dt.process,Qt=function(){try{return $t&&$t.binding&&$t.binding("util")}catch(e){}}(),Zt=Qt&&Qt.isTypedArray,en=Zt?function(e){return function(t){return e(t)}}(Zt):T,tn=Object.prototype,nn=tn.hasOwnProperty,rn=Object.prototype,on=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),an=Object.prototype,sn=an.hasOwnProperty,un=F(B,1/0),cn=function(e,t,n){(_(e)?H:un)(e,p(t),n)},ln=z(q),fn=h(ln),dn=V(q),pn=F(dn,1),hn=h(pn),mn=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}(),gn=function(e,t,n){function r(e,t){v.push(function(){u(e,t)})}function i(){if(0===v.length&&0===h)return n(null,d);for(;v.length&&h<t;){v.shift()()}}function a(e,t){var n=g[e];n||(n=g[e]=[]),n.push(t)}function s(e){Y(g[e]||[],function(e){e()}),i()}function u(e,t){if(!m){var r=L(function(t,r){if(h--,arguments.length>2&&(r=o(arguments,1)),t){var i={};G(d,function(e,t){i[t]=e}),i[e]=r,m=!0,g=Object.create(null),n(t,i)}else d[e]=r,s(e)});h++;var i=p(t[t.length-1]);t.length>1?i(d,r):i(r)}}function c(t){var n=[];return G(e,function(e,r){Ut(e)&&X(e,t,0)>=0&&n.push(r)}),n}"function"===typeof t&&(n=t,t=null),n=x(n||w);var l=M(e),f=l.length;if(!f)return n(null);t||(t=f);var d={},h=0,m=!1,g=Object.create(null),v=[],y=[],b={};G(e,function(t,n){if(!Ut(t))return r(n,[t]),void y.push(n);var i=t.slice(0,t.length-1),o=i.length;if(0===o)return r(n,t),void y.push(n);b[n]=o,Y(i,function(s){if(!e[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+s+"` in "+i.join(", "));a(s,function(){0===--o&&r(n,t)})})}),function(){for(var e,t=0;y.length;)e=y.pop(),t++,Y(c(e),function(e){0===--b[e]&&y.push(e)});if(t!==f)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),i()},vn="[object Symbol]",yn=1/0,bn=mt?mt.prototype:void 0,_n=bn?bn.toString:void 0,wn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),xn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Sn="\\ud83c[\\udffb-\\udfff]",En="(?:\\ud83c[\\udde6-\\uddff]){2}",On="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Cn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",En,On].join("|")+")[\\ufe0e\\ufe0f]?"+kn+")*",Tn="[\\ufe0e\\ufe0f]?"+kn+Cn,Nn="(?:"+["[^\\ud800-\\udfff]"+xn+"?",xn,En,On,"[\\ud800-\\udfff]"].join("|")+")",An=RegExp(Sn+"(?="+Sn+")|"+Nn+Tn,"g"),In=/^\s+|\s+$/g,Mn=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Rn=/,/,jn=/(=.+)?(\s*)$/,Pn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;de.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},de.prototype.empty=function(){for(;this.head;)this.shift();return this},de.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},de.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},de.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):pe(this,e)},de.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):pe(this,e)},de.prototype.shift=function(){return this.head&&this.removeLink(this.head)},de.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},de.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},de.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var Dn,Ln=F(B,1),Un=function(){return ve.apply(null,o(arguments).reverse())},Bn=Array.prototype.concat,Fn=function(e,t,n,r){r=r||w;var i=p(n);dn(e,t,function(e,t){i(e,function(e){return e?t(e):t(null,o(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=Bn.apply(n,t[i]));return r(e,n)})},Hn=F(Fn,1/0),zn=F(Fn,1),qn=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}},Vn=z(be(ye,_e)),Yn=V(be(ye,_e)),Gn=F(Yn,1),Wn=we("dir"),Kn=F(Te,1),Jn=z(be(Ae,Ae)),Xn=V(be(Ae,Ae)),$n=F(Xn,1),Qn=z(je),Zn=V(je),er=F(Zn,1),tr=function(e,t,n,r){r=r||w;var i=p(n);dn(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})},nr=F(tr,1/0),rr=F(tr,1),ir=we("log"),or=F(De,1/0),ar=F(De,1);Dn=ct?n.nextTick:ut?e:s;var sr=u(Dn),ur=function(e,t){var n=p(e);return he(function(e,t){n(e[0],t)},t,1)},cr=function(e,t){var n=ur(e,t);return n.push=function(e,t,r){if(null==r&&(r=w),"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,Ut(e)||(e=[e]),0===e.length)return lt(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;o<a;o++){var s={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}lt(n.process)},delete n.unshift,n},lr=z(Ge),fr=V(Ge),dr=F(fr,1),pr=function(e,t){t||(t=e,e=null);var n=p(t);return st(function(t,r){function i(e){n.apply(null,t.concat(e))}e?Ke(e,i,r):Ke(i,r)})},hr=z(be(Boolean,ye)),mr=V(be(Boolean,ye)),gr=F(mr,1),vr=Math.ceil,yr=Math.max,br=F(Ze,1/0),_r=F(Ze,1),wr=function(e,t){function n(t){var n=p(e[i++]);t.push(L(r)),n.apply(null,t)}function r(r){if(r||i===e.length)return t.apply(null,arguments);n(o(arguments,1))}if(t=x(t||w),!Ut(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var i=0;n([])},xr={apply:at,applyEach:fn,applyEachSeries:hn,asyncify:c,auto:gn,autoInject:fe,cargo:me,compose:Un,concat:Hn,concatLimit:Fn,concatSeries:zn,constant:qn,detect:Vn,detectLimit:Yn,detectSeries:Gn,dir:Wn,doDuring:xe,doUntil:Ee,doWhilst:Se,during:Oe,each:Ce,eachLimit:Te,eachOf:cn,eachOfLimit:B,eachOfSeries:Ln,eachSeries:Kn,ensureAsync:Ne,every:Jn,everyLimit:Xn,everySeries:$n,filter:Qn,filterLimit:Zn,filterSeries:er,forever:Pe,groupBy:nr,groupByLimit:tr,groupBySeries:rr,log:ir,map:ln,mapLimit:dn,mapSeries:pn,mapValues:or,mapValuesLimit:De,mapValuesSeries:ar,memoize:Ue,nextTick:sr,parallel:Fe,parallelLimit:He,priorityQueue:cr,queue:ur,race:ze,reduce:ge,reduceRight:qe,reflect:Ve,reflectAll:Ye,reject:lr,rejectLimit:fr,rejectSeries:dr,retry:Ke,retryable:pr,seq:ve,series:Je,setImmediate:lt,some:hr,someLimit:mr,someSeries:gr,sortBy:Xe,timeout:$e,times:br,timesLimit:Ze,timesSeries:_r,transform:et,tryEach:tt,unmemoize:nt,until:it,waterfall:wr,whilst:rt,all:Jn,allLimit:Xn,allSeries:$n,any:hr,anyLimit:mr,anySeries:gr,find:Vn,findLimit:Yn,findSeries:Gn,forEach:Ce,forEachSeries:Kn,forEachLimit:Te,forEachOf:cn,forEachOfSeries:Ln,forEachOfLimit:B,inject:ge,foldl:ge,foldr:qe,select:Qn,selectLimit:Zn,selectSeries:er,wrapSync:c};t.default=xr,t.apply=at,t.applyEach=fn,t.applyEachSeries=hn,t.asyncify=c,t.auto=gn,t.autoInject=fe,t.cargo=me,t.compose=Un,t.concat=Hn,t.concatLimit=Fn,t.concatSeries=zn,t.constant=qn,t.detect=Vn,t.detectLimit=Yn,t.detectSeries=Gn,t.dir=Wn,t.doDuring=xe,t.doUntil=Ee,t.doWhilst=Se,t.during=Oe,t.each=Ce,t.eachLimit=Te,t.eachOf=cn,t.eachOfLimit=B,t.eachOfSeries=Ln,t.eachSeries=Kn,t.ensureAsync=Ne,t.every=Jn,t.everyLimit=Xn,t.everySeries=$n,t.filter=Qn,t.filterLimit=Zn,t.filterSeries=er,t.forever=Pe,t.groupBy=nr,t.groupByLimit=tr,t.groupBySeries=rr,t.log=ir,t.map=ln,t.mapLimit=dn,t.mapSeries=pn,t.mapValues=or,t.mapValuesLimit=De,t.mapValuesSeries=ar,t.memoize=Ue,t.nextTick=sr,t.parallel=Fe,t.parallelLimit=He,t.priorityQueue=cr,t.queue=ur,t.race=ze,t.reduce=ge,t.reduceRight=qe,t.reflect=Ve,t.reflectAll=Ye,t.reject=lr,t.rejectLimit=fr,t.rejectSeries=dr,t.retry=Ke,t.retryable=pr,t.seq=ve,t.series=Je,t.setImmediate=lt,t.some=hr,t.someLimit=mr,t.someSeries=gr,t.sortBy=Xe,t.timeout=$e,t.times=br,t.timesLimit=Ze,t.timesSeries=_r,t.transform=et,t.tryEach=tt,t.unmemoize=nt,t.until=it,t.waterfall=wr,t.whilst=rt,t.all=Jn,t.allLimit=Xn,t.allSeries=$n,t.any=hr,t.anyLimit=mr,t.anySeries=gr,t.find=Vn,t.findLimit=Yn,t.findSeries=Gn,t.forEach=Ce,t.forEachSeries=Kn,t.forEachLimit=Te,t.forEachOf=cn,t.forEachOfSeries=Ln,t.forEachOfLimit=B,t.inject=ge,t.foldl=ge,t.foldr=qe,t.select=Qn,t.selectLimit=Zn,t.selectSeries=er,t.wrapSync=c,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(63).setImmediate,n(10),n(2),n(6)(e))},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(t,n(10))},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}e.exports=n},function(e,t,n){"use strict";function r(){this._LOOKUP={},this._LOOKUP_EXT={},this._TAGS={},this._CB_DEFINITION={},this._CB_TAG={},this._ID=o.v4(),this.utils=i({},a,s)}var i=n(15),o=n(30),a=n(124),s=n(31),u=n(134);r.prototype.use=function(e){return e&&"function"===typeof e?(e["__JXT_LOADED_"+this._ID]||(e(this),e["__JXT_LOADED_"+this._ID]=!0),this):this},r.prototype.getDefinition=function(e,t,n){var r=this._LOOKUP[t+"|"+e];if(n&&!r)throw new Error("Could not find definition for <"+e+' xmlns="'+t+'" />');return r},r.prototype.getExtensions=function(e,t){return this._LOOKUP_EXT[t+"|"+e]||{}},r.prototype.withDefinition=function(e,t,n){var r=t+"|"+e;this._CB_DEFINITION[r]||(this._CB_DEFINITION[r]=[]),this._CB_DEFINITION[r].push(n),this._LOOKUP[r]&&n(this._LOOKUP[r])},r.prototype.withTag=function(e,t){this._CB_TAG[e]||(this._CB_TAG[e]=[]),this._CB_TAG[e].push(t),this.tagged(e).forEach(function(e){t(e)})},r.prototype.tagged=function(e){return this._TAGS[e]||[]},r.prototype.build=function(e){var t=this.getDefinition(e.localName,e.namespaceURI);if(t)return new t(null,e)},r.prototype.parse=function(e){var t=s.parse(e);if(t)return this.build(t)},r.prototype.extend=function(e,t,n,r){var i=e.prototype._NS+"|"+e.prototype._EL,o=t.prototype._name,s=t.prototype._NS+"|"+t.prototype._EL;this._LOOKUP[s]=t,this._LOOKUP_EXT[s]||(this._LOOKUP_EXT[s]={}),this._LOOKUP_EXT[i]||(this._LOOKUP_EXT[i]={}),this._LOOKUP_EXT[i][o]=t,(!n||n&&!r)&&this.add(e,o,a.extension(t)),n&&this.add(e,n,a.multiExtension(t))},r.prototype.add=function(e,t,n){n.enumerable=!0,Object.defineProperty(e.prototype,t,n)},r.prototype.define=function(e){var t=this,n=u(this,e),r=n.prototype._NS,i=n.prototype._EL,o=n.prototype._TAGS,a=r+"|"+i;return this._LOOKUP[a]=n,o.forEach(function(e){t._TAGS[e]||(t._TAGS[e]=[]),t._TAGS[e].push(n)}),Object.keys(e.fields||{}).forEach(function(r){t.add(n,r,e.fields[r])}),this._CB_DEFINITION[a]&&this._CB_DEFINITION[a].forEach(function(e){e(n)}),o.forEach(function(e){t._CB_TAG[e]&&t._CB_TAG[e].forEach(function(e){e(n)})}),n},r.createRegistry=function(){return new r},i(r,s),i(r,a);var c=new r;r.define=c.define.bind(c),r.extend=c.extend.bind(c),r.add=c.add.bind(c),r.parse=c.parse.bind(c),r.build=c.build.bind(c),r.getExtensions=c.getExtensions.bind(c),r.getDefinition=c.getDefinition.bind(c),r.withDefinition=c.withDefinition.bind(c),r.withTag=c.withTag.bind(c),r.tagged=c.tagged.bind(c),r.getGlobalJXT=function(){return c},e.exports=r},function(e,t,n){var r=n(123),i=n(56),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";var r=n(127),i=n(133),o=t.XML_NS="http://www.w3.org/XML/1998/namespace";t.parse=function(e){var t=r.parse(e,{Element:i});if(1===t.nodeType)return t},t.createElement=function(e,n,r){var o=new i(n);return r&&r===e||t.setAttribute(o,"xmlns",e),o};var a=t.find=function(e,t,n){for(var r=[],i=e.getElementsByTagName(n),o=0,a=i.length;o<a;o++){var s=i[o];s.namespaceURI===t&&s.parentNode===e&&r.push(s)}return r};t.findOrCreate=function(e,n,r){var i=t.find(e,n,r);if(i.length)return i[0];var o=t.createElement(n,r,e.namespaceURI);return e.appendChild(o),o},t.getAttribute=function(e,t,n){return e.getAttribute(t)||n||""},t.getAttributeNS=function(e,t,n,r){return e.getAttributeNS(t,n)||r||""},t.setAttribute=function(e,t,n,r){n||r?e.setAttribute(t,n):e.removeAttribute(t)},t.setAttributeNS=function(e,t,n,r,i){r||i?e.setAttributeNS(t,n,r):e.removeAttributeNS(t,n)},t.getBoolAttribute=function(e,t,n){var r=e.getAttribute(t)||n||"";return"true"===r||"1"===r},t.setBoolAttribute=function(e,t,n){n?e.setAttribute(t,"1"):e.removeAttribute(t)},t.getSubAttribute=function(e,t,n,r,i){var o=a(e,t,n);if(!o)return"";for(var s=0;s<o.length;s++)return o[s].getAttribute(r)||i||"";return""},t.setSubAttribute=function(e,n,r,i,o){var s=a(e,n,r);if(s.length)for(var u=0;u<s.length;u++){if(o)return void s[u].setAttribute(i,o);s[u].removeAttribute(i)}else o&&(r=t.createElement(n,r,e.namespaceURI),r.setAttribute(i,o),e.appendChild(r))},t.getBoolSubAttribute=function(e,t,n,r,i){var o=e.getSubAttribute(t,n,r)||i||"";return"true"===o||"1"===o},t.setBoolSubAttribute=function(e,n,r,i,o){o=o?"1":"",t.setSubAttribute(e,n,r,i,o)},t.getText=function(e){return e.textContent},t.setText=function(e,t){e.textContent=t},t.getSubText=t.getTextSub=function(e,t,n,r){var i=a(e,t,n);return r=r||"",i.length?i[0].textContent||r:r},t.setSubText=t.setTextSub=function(e,n,r,i){var o=a(e,n,r);if(o.length)for(var s=0;s<o.length;s++)e.removeChild(o[s]);if(i){var u=t.createElement(n,r,e.namespaceURI);!0!==i&&(u.textContent=i),e.appendChild(u)}},t.getMultiSubText=function(e,t,n,r){var i=a(e,t,n),o=[];r=r||function(e){return e.textContent||""};for(var s=0;s<i.length;s++)o.push(r(i[s]));return o},t.setMultiSubText=function(e,n,r,i,o){var s=a(e,n,r),u=[];o=o||function(i){if(i){var o=t.createElement(n,r,e.namespaceURI);o.textContent=i,e.appendChild(o)}},u="string"===typeof i?(i||"").split("\n"):i;var c,l;for(c=0,l=s.length;c<l;c++)e.removeChild(s[c]);for(c=0,l=u.length;c<l;c++)o(u[c])},t.getMultiSubAttribute=function(e,n,r,i){return t.getMultiSubText(e,n,r,function(e){return t.getAttribute(e,i)})},t.setMultiSubAttribute=function(e,n,r,i,o){t.setMultiSubText(e,n,r,o,function(o){var a=t.createElement(n,r,e.namespaceURI);t.setAttribute(a,i,o),e.appendChild(a)})},t.getSubLangText=function(e,t,n,r){var i=a(e,t,n);if(!i.length)return{};for(var s,u,c={},l=[],f=0;f<i.length;f++)u=i[f],s=u.getAttributeNS(o,"lang")||r,l.push(s),c[s]=u.textContent||"";return c},t.setSubLangText=function(e,n,r,i,s){var u,c,l=a(e,n,r);if(l.length)for(var f=0;f<l.length;f++)e.removeChild(l[f]);if("string"===typeof i)u=t.createElement(n,r,e.namespaceURI),u.textContent=i,e.appendChild(u);else if("object"===typeof i)for(c in i)i.hasOwnProperty(c)&&(u=t.createElement(n,r,e.namespaceURI),c!==s&&u.setAttributeNS(o,"lang",c),u.textContent=i[c],e.appendChild(u))},t.getBoolSub=function(e,t,n){return!!a(e,t,n).length},t.setBoolSub=function(e,n,r,i){var o=a(e,n,r);if(o.length)for(var s=0;s<o.length;s++){if(i)return;e.removeChild(o[s])}else if(i){var u=t.createElement(n,r,e.namespaceURI);e.appendChild(u)}}},function(e,t,n){"use strict";(function(t){function r(e){c.call(this,"digest"),this._hash=e,this.buffers=[]}function i(e){c.call(this,"digest"),this._hash=e}var o=n(1),a=n(66),s=n(67),u=n(73),c=n(36);o(r,c),r.prototype._update=function(e){this.buffers.push(e)},r.prototype._final=function(){var e=t.concat(this.buffers),n=this._hash(e);return this.buffers=null,n},o(i,c),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new r(a):new i("rmd160"===e||"ripemd160"===e?new s:u(e))}}).call(t,n(4).Buffer)},function(e,t,n){t=e.exports=n(69),t.Stream=t,t.Readable=t,t.Writable=n(34),t.Duplex=n(12),t.Transform=n(72),t.PassThrough=n(158)},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function a(e){return j.from(e)}function s(e){return j.isBuffer(e)||e instanceof P}function u(){}function c(e,t){N=N||n(12),e=e||{};var r=t instanceof N;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){if(N=N||n(12),!L.call(l,this)&&!(this instanceof N))return new l(e);this._writableState=new c(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),R.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),T(t,n)}function d(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),T(r,o),i=!1),i}function p(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=j.from(t,n)),t}function h(e,t,n,r,i,o){if(!n){var a=p(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return u}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(T(i,r),T(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),O(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(v(n),t)g(e,n,r,t,i);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?A(b,e,n,o,i):b(e,n,o,i)}}function b(e,t,n,r){n||_(e,t),t.pendingcb--,r(),O(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),O(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,T(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function O(e,t){var n=x(t);return n&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function k(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?T(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function C(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var T=n(26).nextTick;e.exports=l;var N,A=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:T;l.WritableState=c;var I=n(21);I.inherits=n(1);var M={deprecate:n(157)},R=n(70),j=n(5).Buffer,P=i.Uint8Array||function(){},D=n(71);I.inherits(l,R),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var L;"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!L.call(this,e)||this===l&&(e&&e._writableState instanceof c)}})):L=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&s(e);return o&&!j.isBuffer(e)&&(e=a(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=u),r.ended?f(this,n):(o||d(this,r,e,n))&&(r.pendingcb++,i=h(this,r,o,e,t,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||k(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=D.destroy,l.prototype._undestroy=D.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(10),n(63).setImmediate,n(2))},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!==typeof t&&(y.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=h,this.end=m,t=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd".repeat(n+2)}}function c(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd".repeat(this.lastTotal-this.lastNeed):t}function d(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var y=n(5).Buffer,b=y.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){function r(e){o.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(5).Buffer,o=n(68).Transform,a=n(35).StringDecoder;n(1)(r,o),r.prototype.update=function(e,t,n){"string"===typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,n){"use strict";(function(t,r){function i(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function o(e,n){if(e>65536)throw new Error("requested too many random bytes");var i=new t.Uint8Array(e);e>0&&s.getRandomValues(i);var o=a.from(i.buffer);return"function"===typeof n?r.nextTick(function(){n(null,o)}):o}var a=n(5).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=o:e.exports=i}).call(t,n(2),n(10))},function(e,t,n){e.exports=n(186)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){e.exports=!n(42)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){},function(e,t,n){var r=n(32),i=n(76),o=n(300),a={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"},s=Object.keys(a);t.getHashes=function(){for(var e=[],t=o(),n=0,r=s.length;n<r;n++)t.indexOf(a[s[n]])>=0&&e.push(s[n]);return e},t.createHash=function(e){return e=e.toLowerCase(),a[e]&&(e=a[e]),r(e)},t.createHmac=function(e,t){return e=e.toLowerCase(),a[e]&&(e=a[e]),i(e,t)}},function(e,t,n){function r(e){u.call(this);var t=this;this.sid=e.sid||o.v4(),this.peer=e.peer,this.peerID=e.peerID||this.peer.full||this.peer,this.isInitiator=e.initiator||!1,this.parent=e.parent,this.state="starting",this.connectionState="starting",this.pendingApplicationTypes=e.applicationTypes||[],this.pendingAction=!1,this.processingQueue=a.queue(function(e,n){if(t.ended)return n();var r=e.action,i=e.changes,o=e.cb;if(t._log("debug",r),!c[r])return t._log("error","Invalid action: "+r),o({condition:"bad-request"}),n();t[c[r]](i,function(e,t){return o(e,t),n()})})}var i=n(8),o=n(30),a=n(25),s=n(46),u=n(9),c={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onContentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate","session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};i.inherits(r,u),Object.keys(c).forEach(function(e){var t=c[e];r.prototype[t]=function(t,n){this._log("error","Unsupported action: "+e),n()}}),Object.defineProperties(r.prototype,{state:{get:function(){return this._sessionState},set:function(e){if(e!==this._sessionState){var t=this._sessionState;this._log("info","Changing session state to: "+e),this._sessionState=e,this.emit("change:sessionState",this,e),this.emit("change:"+e,this,!0),t&&this.emit("change:"+t,this,!1)}}},connectionState:{get:function(){return this._connectionState},set:function(e){if(e!==this._connectionState){var t=this._connectionState;this._log("info","Changing connection state to: "+e),this._connectionState=e,this.emit("change:connectionState",this,e),this.emit("change:"+e,this,!0),t&&this.emit("change:"+t,this,!1)}}},starting:{get:function(){return"starting"===this._sessionState}},pending:{get:function(){return"pending"===this._sessionState}},active:{get:function(){return"active"===this._sessionState}},ended:{get:function(){return"ended"===this._sessionState}},connected:{get:function(){return"connected"===this._connectionState}},connecting:{get:function(){return"connecting"===this._connectionState}},disconnected:{get:function(){return"disconnected"===this._connectionState}},interrupted:{get:function(){return"interrupted"===this._connectionState}}}),r.prototype=s(r.prototype,{_log:function(e,t){t=this.sid+": "+t,this.emit("log:"+e,t)},send:function(e,t){t=t||{},t.sid=this.sid,t.action=e;var n={"session-inititate":!0,"session-accept":!0,"content-add":!0,"content-remove":!0,"content-reject":!0,"content-accept":!0,"content-modify":!0,"transport-replace":!0,"transport-reject":!0,"transport-accept":!0,"source-add":!0,"source-remove":!0};this.pendingAction=!!n[e]&&e,this.emit("send",{to:this.peer,id:o.v4(),type:"set",jingle:t})},process:function(e,t,n){this.processingQueue.push({action:e,changes:t,cb:n})},start:function(){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)},accept:function(){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(e,t){this.state="ended",this.processingQueue.kill(),e||(e="success"),"string"===typeof e&&(e={condition:e}),t||this.send("session-terminate",{reason:e}),this.emit("terminated",this,e)},onSessionTerminate:function(e,t){this.end(e.reason,!0),t()},onSessionInfo:function(e,t){var n={sid:!0,action:!0,initiator:!0,responder:!0},r=!1;Object.keys(e).forEach(function(e){n[e]||(r=!0)}),r?t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"}):t()},onDescriptionInfo:function(e,t){t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(e,t){t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(e,t){t(),this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(e,t){t(),this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}}),e.exports=r},function(e,t){var n=[],r=n.forEach,i=n.slice;e.exports=function(e){return r.call(i.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}},function(e,t,n){e.exports=n(368)()},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,y}}function o(e,t){try{return e(t)}catch(e){return v=e,y}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,y}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&m(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new h(t,n,a))})}function c(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);l(e,t)}function l(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=o(n,e._18);r===y?d(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===y)return d(e,v);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"===typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,p(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==y||(n=!0,d(t,v))}var g=n(96),v=null,y={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(101)},function(e,t,n){function r(e,t){return l(e,t,s)}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function o(e){return a(e)?e:Object(e)}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=n(18),u=9007199254740991,c=function(e,t){return function(n,r){var a=n?f(n):0;if(!i(a))return e(n,r);for(var s=t?a:-1,u=o(n);(t?s--:++s<a)&&!1!==r(u[s],s,u););return n}}(r),l=function(e){return function(t,n,r){for(var i=o(t),a=r(t),s=a.length,u=e?s:-1;e?u--:++u<s;){var c=a[u];if(!1===n(i[c],c,i))break}return t}}(),f=function(e){return function(t){return null==t?void 0:t[e]}}("length");e.exports=c},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function i(e){return o(e)&&d.call(e)==s}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?p.test(l.call(e)):n(e)&&u.test(e))}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,d=c.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t){function n(e){return null!=e&&o(c(e))}function r(e,t){return e="number"==typeof e||s.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&e<t}function i(e,t,i){if(!a(i))return!1;var o=typeof t;if("number"==o?n(i)&&r(t,i.length):"string"==o&&t in i){var s=i[t];return e===e?e===s:s!==s}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=/^\d+$/,u=9007199254740991,c=function(e){return function(t){return null==t?void 0:t[e]}}("length");e.exports=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=n(54),o=n(55);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(59);e.exports=function(e,t){var n;n="function"===typeof t?new t:new r(t);var i=null,o=null;if(n.on("tree",function(e){i=e}),n.on("error",function(e){o=e}),n.write(e),n.end(),o)throw o;return i}},function(e,t,n){"use strict";var r=n(19).EventEmitter,i=n(1),o=n(20),a=n(128),s=function(e){r.call(this);var t=this.Parser=e&&e.Parser||this.DefaultParser,n=this.Element=e&&e.Element||this.DefaultElement;this.parser=new t;var i,o=this;this.parser.on("startElement",function(e,t){var r=new n(e,t);i=i?i.cnode(r):r}),this.parser.on("endElement",function(e){i&&e===i.name&&(i.parent?i=i.parent:o.tree||(o.tree=i,i=void 0))}),this.parser.on("text",function(e){i&&i.t(e)}),this.parser.on("error",function(e){o.error=e,o.emit("error",e)})};i(s,r),s.prototype.DefaultParser=a,s.prototype.DefaultElement=o,s.prototype.write=function(e){this.parser.write(e)},s.prototype.end=function(e){this.parser.end(e),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},e.exports=s},function(e,t,n){"use strict";function r(e,t){return e.name===t.name}function i(e,t){var n=e.attrs,r=Object.keys(n),i=r.length;if(i!==Object.keys(t.attrs).length)return!1;for(var o=0,a=i;o<a;o++){var s=r[o],u=n[s];if(null==u||null==t.attrs[s]){if(u!==t.attrs[s])return!1}else if(u.toString()!==t.attrs[s].toString())return!1}return!0}function o(e,t){var n=e.children,r=n.length;if(r!==t.children.length)return!1;for(var i=0,o=r;i<o;i++){var a=n[i];if("string"===typeof a){if(a!==t.children[i])return!1}else if(!a.equals(t.children[i]))return!1}return!0}function a(e,t){return!!r(e,t)&&(!!i(e,t)&&!!o(e,t))}e.exports.name=r,e.exports.attrs=i,e.exports.children=o,e.exports.equal=a},function(e,t,n){"use strict";e.exports=function(e){for(var t=new e.constructor(e.name,e.attrs),n=0;n<e.children.length;n++){var r=e.children[n];t.cnode(r.clone?r.clone():r)}return t}},function(e,t,n){"use strict";var r=n(24).escapeXML;e.exports=function(){for(var e=arguments[0],t="",n=1;n<arguments.length;n++)t+=e[n-1],t+=r(arguments[n]);return t+=e[e.length-1]}},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(139),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(2))},function(e,t,n){"use strict";function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var r=e;return l(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=d(t,{uri:e}),r.callback=n,r}function o(e,t,n){return t=i(e,t,n),a(t)}function a(e){function t(){4===l.readyState&&setTimeout(a,0)}function n(){var e=void 0;if(e=l.response?l.response:l.responseText||s(l),_)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,w)}function a(){if(!p){var t;clearTimeout(h),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=w,i=null;return 0!==t?(r={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:l},l.getAllResponseHeaders&&(r.headers=f(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,r,r.body)}}if("undefined"===typeof e.callback)throw new Error("callback argument missing");var u=!1,c=function(t,n,r){u||(u=!0,e.callback(t,n,r))},l=e.xhr||null;l||(l=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var d,p,h,m=l.url=e.uri||e.url,g=l.method=e.method||"GET",v=e.body||e.data,y=l.headers=e.headers||{},b=!!e.sync,_=!1,w={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:l};if("json"in e&&!1!==e.json&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(!0===e.json?v:e.json))),l.onreadystatechange=t,l.onload=a,l.onerror=i,l.onprogress=function(){},l.onabort=function(){p=!0},l.ontimeout=i,l.open(g,m,!b,e.username,e.password),b||(l.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(h=setTimeout(function(){if(!p){p=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}},e.timeout)),l.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&l.setRequestHeader(d,y[d]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(l),l.send(v||null),l}function s(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function u(){}var c=n(140),l=n(65),f=n(141),d=n(144);e.exports=o,o.XMLHttpRequest=c.XMLHttpRequest||u,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:c.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,r){return n=i(t,n,r),n.method=e.toUpperCase(),a(n)}})},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,p=r,h=i,m=l;n=o(n,r,i,l,e[f+0],7,-680876936),l=o(l,n,r,i,e[f+1],12,-389564586),i=o(i,l,n,r,e[f+2],17,606105819),r=o(r,i,l,n,e[f+3],22,-1044525330),n=o(n,r,i,l,e[f+4],7,-176418897),l=o(l,n,r,i,e[f+5],12,1200080426),i=o(i,l,n,r,e[f+6],17,-1473231341),r=o(r,i,l,n,e[f+7],22,-45705983),n=o(n,r,i,l,e[f+8],7,1770035416),l=o(l,n,r,i,e[f+9],12,-1958414417),i=o(i,l,n,r,e[f+10],17,-42063),r=o(r,i,l,n,e[f+11],22,-1990404162),n=o(n,r,i,l,e[f+12],7,1804603682),l=o(l,n,r,i,e[f+13],12,-40341101),i=o(i,l,n,r,e[f+14],17,-1502002290),r=o(r,i,l,n,e[f+15],22,1236535329),n=a(n,r,i,l,e[f+1],5,-165796510),l=a(l,n,r,i,e[f+6],9,-1069501632),i=a(i,l,n,r,e[f+11],14,643717713),r=a(r,i,l,n,e[f+0],20,-373897302),n=a(n,r,i,l,e[f+5],5,-701558691),l=a(l,n,r,i,e[f+10],9,38016083),i=a(i,l,n,r,e[f+15],14,-660478335),r=a(r,i,l,n,e[f+4],20,-405537848),n=a(n,r,i,l,e[f+9],5,568446438),l=a(l,n,r,i,e[f+14],9,-1019803690),i=a(i,l,n,r,e[f+3],14,-187363961),r=a(r,i,l,n,e[f+8],20,1163531501),n=a(n,r,i,l,e[f+13],5,-1444681467),l=a(l,n,r,i,e[f+2],9,-51403784),i=a(i,l,n,r,e[f+7],14,1735328473),r=a(r,i,l,n,e[f+12],20,-1926607734),n=s(n,r,i,l,e[f+5],4,-378558),l=s(l,n,r,i,e[f+8],11,-2022574463),i=s(i,l,n,r,e[f+11],16,1839030562),r=s(r,i,l,n,e[f+14],23,-35309556),n=s(n,r,i,l,e[f+1],4,-1530992060),l=s(l,n,r,i,e[f+4],11,1272893353),i=s(i,l,n,r,e[f+7],16,-155497632),r=s(r,i,l,n,e[f+10],23,-1094730640),n=s(n,r,i,l,e[f+13],4,681279174),l=s(l,n,r,i,e[f+0],11,-358537222),i=s(i,l,n,r,e[f+3],16,-722521979),r=s(r,i,l,n,e[f+6],23,76029189),n=s(n,r,i,l,e[f+9],4,-640364487),l=s(l,n,r,i,e[f+12],11,-421815835),i=s(i,l,n,r,e[f+15],16,530742520),r=s(r,i,l,n,e[f+2],23,-995338651),n=u(n,r,i,l,e[f+0],6,-198630844),l=u(l,n,r,i,e[f+7],10,1126891415),i=u(i,l,n,r,e[f+14],15,-1416354905),r=u(r,i,l,n,e[f+5],21,-57434055),n=u(n,r,i,l,e[f+12],6,1700485571),l=u(l,n,r,i,e[f+3],10,-1894986606),i=u(i,l,n,r,e[f+10],15,-1051523),r=u(r,i,l,n,e[f+1],21,-2054922799),n=u(n,r,i,l,e[f+8],6,1873313359),l=u(l,n,r,i,e[f+15],10,-30611744),i=u(i,l,n,r,e[f+6],15,-1560198380),r=u(r,i,l,n,e[f+13],21,1309151649),n=u(n,r,i,l,e[f+4],6,-145523070),l=u(l,n,r,i,e[f+11],10,-1120210379),i=u(i,l,n,r,e[f+2],15,718787259),r=u(r,i,l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,p),i=c(i,h),l=c(l,m)}return[n,r,i,l]}function i(e,t,n,r,i,o){return c(l(c(c(t,e),c(r,o)),i),n)}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}var f=n(152);e.exports=function(e){return f(e,r)}},function(e,t,n){"use strict";(function(t){function r(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,a,s,u){return i(e+(t^n^r)+a+s|0,u)+o|0}function a(e,t,n,r,o,a,s,u){return i(e+(t&n|~t&r)+a+s|0,u)+o|0}function s(e,t,n,r,o,a,s,u){return i(e+((t|~n)^r)+a+s|0,u)+o|0}function u(e,t,n,r,o,a,s,u){return i(e+(t&r|n&~r)+a+s|0,u)+o|0}function c(e,t,n,r,o,a,s,u){return i(e+(t^(n|~r))+a+s|0,u)+o|0}var l=n(1),f=n(153);l(r,f),r.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,l=this._c,f=this._d,d=this._e;n=o(n,r,l,f,d,e[0],0,11),l=i(l,10),d=o(d,n,r,l,f,e[1],0,14),r=i(r,10),f=o(f,d,n,r,l,e[2],0,15),n=i(n,10),l=o(l,f,d,n,r,e[3],0,12),d=i(d,10),r=o(r,l,f,d,n,e[4],0,5),f=i(f,10),n=o(n,r,l,f,d,e[5],0,8),l=i(l,10),d=o(d,n,r,l,f,e[6],0,7),r=i(r,10),f=o(f,d,n,r,l,e[7],0,9),n=i(n,10),l=o(l,f,d,n,r,e[8],0,11),d=i(d,10),r=o(r,l,f,d,n,e[9],0,13),f=i(f,10),n=o(n,r,l,f,d,e[10],0,14),l=i(l,10),d=o(d,n,r,l,f,e[11],0,15),r=i(r,10),f=o(f,d,n,r,l,e[12],0,6),n=i(n,10),l=o(l,f,d,n,r,e[13],0,7),d=i(d,10),r=o(r,l,f,d,n,e[14],0,9),f=i(f,10),n=o(n,r,l,f,d,e[15],0,8),l=i(l,10),d=a(d,n,r,l,f,e[7],1518500249,7),r=i(r,10),f=a(f,d,n,r,l,e[4],1518500249,6),n=i(n,10),l=a(l,f,d,n,r,e[13],1518500249,8),d=i(d,10),r=a(r,l,f,d,n,e[1],1518500249,13),f=i(f,10),n=a(n,r,l,f,d,e[10],1518500249,11),l=i(l,10),d=a(d,n,r,l,f,e[6],1518500249,9),r=i(r,10),f=a(f,d,n,r,l,e[15],1518500249,7),n=i(n,10),l=a(l,f,d,n,r,e[3],1518500249,15),d=i(d,10),r=a(r,l,f,d,n,e[12],1518500249,7),f=i(f,10),n=a(n,r,l,f,d,e[0],1518500249,12),l=i(l,10),d=a(d,n,r,l,f,e[9],1518500249,15),r=i(r,10),f=a(f,d,n,r,l,e[5],1518500249,9),n=i(n,10),l=a(l,f,d,n,r,e[2],1518500249,11),d=i(d,10),r=a(r,l,f,d,n,e[14],1518500249,7),f=i(f,10),n=a(n,r,l,f,d,e[11],1518500249,13),l=i(l,10),d=a(d,n,r,l,f,e[8],1518500249,12),r=i(r,10),f=s(f,d,n,r,l,e[3],1859775393,11),n=i(n,10),l=s(l,f,d,n,r,e[10],1859775393,13),d=i(d,10),r=s(r,l,f,d,n,e[14],1859775393,6),f=i(f,10),n=s(n,r,l,f,d,e[4],1859775393,7),l=i(l,10),d=s(d,n,r,l,f,e[9],1859775393,14),r=i(r,10),f=s(f,d,n,r,l,e[15],1859775393,9),n=i(n,10),l=s(l,f,d,n,r,e[8],1859775393,13),d=i(d,10),r=s(r,l,f,d,n,e[1],1859775393,15),f=i(f,10),n=s(n,r,l,f,d,e[2],1859775393,14),l=i(l,10),d=s(d,n,r,l,f,e[7],1859775393,8),r=i(r,10),f=s(f,d,n,r,l,e[0],1859775393,13),n=i(n,10),l=s(l,f,d,n,r,e[6],1859775393,6),d=i(d,10),r=s(r,l,f,d,n,e[13],1859775393,5),f=i(f,10),n=s(n,r,l,f,d,e[11],1859775393,12),l=i(l,10),d=s(d,n,r,l,f,e[5],1859775393,7),r=i(r,10),f=s(f,d,n,r,l,e[12],1859775393,5),n=i(n,10),l=u(l,f,d,n,r,e[1],2400959708,11),d=i(d,10),r=u(r,l,f,d,n,e[9],2400959708,12),f=i(f,10),n=u(n,r,l,f,d,e[11],2400959708,14),l=i(l,10),d=u(d,n,r,l,f,e[10],2400959708,15),r=i(r,10),f=u(f,d,n,r,l,e[0],2400959708,14),n=i(n,10),l=u(l,f,d,n,r,e[8],2400959708,15),d=i(d,10),r=u(r,l,f,d,n,e[12],2400959708,9),f=i(f,10),n=u(n,r,l,f,d,e[4],2400959708,8),l=i(l,10),d=u(d,n,r,l,f,e[13],2400959708,9),r=i(r,10),f=u(f,d,n,r,l,e[3],2400959708,14),n=i(n,10),l=u(l,f,d,n,r,e[7],2400959708,5),d=i(d,10),r=u(r,l,f,d,n,e[15],2400959708,6),f=i(f,10),n=u(n,r,l,f,d,e[14],2400959708,8),l=i(l,10),d=u(d,n,r,l,f,e[5],2400959708,6),r=i(r,10),f=u(f,d,n,r,l,e[6],2400959708,5),n=i(n,10),l=u(l,f,d,n,r,e[2],2400959708,12),d=i(d,10),r=c(r,l,f,d,n,e[4],2840853838,9),f=i(f,10),n=c(n,r,l,f,d,e[0],2840853838,15),l=i(l,10),d=c(d,n,r,l,f,e[5],2840853838,5),r=i(r,10),f=c(f,d,n,r,l,e[9],2840853838,11),n=i(n,10),l=c(l,f,d,n,r,e[7],2840853838,6),d=i(d,10),r=c(r,l,f,d,n,e[12],2840853838,8),f=i(f,10),n=c(n,r,l,f,d,e[2],2840853838,13),l=i(l,10),d=c(d,n,r,l,f,e[10],2840853838,12),r=i(r,10),f=c(f,d,n,r,l,e[14],2840853838,5),n=i(n,10),l=c(l,f,d,n,r,e[1],2840853838,12),d=i(d,10),r=c(r,l,f,d,n,e[3],2840853838,13),f=i(f,10),n=c(n,r,l,f,d,e[8],2840853838,14),l=i(l,10),d=c(d,n,r,l,f,e[11],2840853838,11),r=i(r,10),f=c(f,d,n,r,l,e[6],2840853838,8),n=i(n,10),l=c(l,f,d,n,r,e[15],2840853838,5),d=i(d,10),r=c(r,l,f,d,n,e[13],2840853838,6),f=i(f,10);var p=this._a,h=this._b,m=this._c,g=this._d,v=this._e;p=c(p,h,m,g,v,e[5],1352829926,8),m=i(m,10),v=c(v,p,h,m,g,e[14],1352829926,9),h=i(h,10),g=c(g,v,p,h,m,e[7],1352829926,9),p=i(p,10),m=c(m,g,v,p,h,e[0],1352829926,11),v=i(v,10),h=c(h,m,g,v,p,e[9],1352829926,13),g=i(g,10),p=c(p,h,m,g,v,e[2],1352829926,15),m=i(m,10),v=c(v,p,h,m,g,e[11],1352829926,15),h=i(h,10),g=c(g,v,p,h,m,e[4],1352829926,5),p=i(p,10),m=c(m,g,v,p,h,e[13],1352829926,7),v=i(v,10),h=c(h,m,g,v,p,e[6],1352829926,7),g=i(g,10),p=c(p,h,m,g,v,e[15],1352829926,8),m=i(m,10),v=c(v,p,h,m,g,e[8],1352829926,11),h=i(h,10),g=c(g,v,p,h,m,e[1],1352829926,14),p=i(p,10),m=c(m,g,v,p,h,e[10],1352829926,14),v=i(v,10),h=c(h,m,g,v,p,e[3],1352829926,12),g=i(g,10),p=c(p,h,m,g,v,e[12],1352829926,6),m=i(m,10),v=u(v,p,h,m,g,e[6],1548603684,9),h=i(h,10),g=u(g,v,p,h,m,e[11],1548603684,13),p=i(p,10),m=u(m,g,v,p,h,e[3],1548603684,15),v=i(v,10),h=u(h,m,g,v,p,e[7],1548603684,7),g=i(g,10),p=u(p,h,m,g,v,e[0],1548603684,12),m=i(m,10),v=u(v,p,h,m,g,e[13],1548603684,8),h=i(h,10),g=u(g,v,p,h,m,e[5],1548603684,9),p=i(p,10),m=u(m,g,v,p,h,e[10],1548603684,11),v=i(v,10),h=u(h,m,g,v,p,e[14],1548603684,7),g=i(g,10),p=u(p,h,m,g,v,e[15],1548603684,7),m=i(m,10),v=u(v,p,h,m,g,e[8],1548603684,12),h=i(h,10),g=u(g,v,p,h,m,e[12],1548603684,7),p=i(p,10),m=u(m,g,v,p,h,e[4],1548603684,6),v=i(v,10),h=u(h,m,g,v,p,e[9],1548603684,15),g=i(g,10),p=u(p,h,m,g,v,e[1],1548603684,13),m=i(m,10),v=u(v,p,h,m,g,e[2],1548603684,11),h=i(h,10),g=s(g,v,p,h,m,e[15],1836072691,9),p=i(p,10),m=s(m,g,v,p,h,e[5],1836072691,7),v=i(v,10),h=s(h,m,g,v,p,e[1],1836072691,15),g=i(g,10),p=s(p,h,m,g,v,e[3],1836072691,11),m=i(m,10),v=s(v,p,h,m,g,e[7],1836072691,8),h=i(h,10),g=s(g,v,p,h,m,e[14],1836072691,6),p=i(p,10),m=s(m,g,v,p,h,e[6],1836072691,6),v=i(v,10),h=s(h,m,g,v,p,e[9],1836072691,14),g=i(g,10),p=s(p,h,m,g,v,e[11],1836072691,12),m=i(m,10),v=s(v,p,h,m,g,e[8],1836072691,13),h=i(h,10),g=s(g,v,p,h,m,e[12],1836072691,5),p=i(p,10),m=s(m,g,v,p,h,e[2],1836072691,14),v=i(v,10),h=s(h,m,g,v,p,e[10],1836072691,13),g=i(g,10),p=s(p,h,m,g,v,e[0],1836072691,13),m=i(m,10),v=s(v,p,h,m,g,e[4],1836072691,7),h=i(h,10),g=s(g,v,p,h,m,e[13],1836072691,5),p=i(p,10),m=a(m,g,v,p,h,e[8],2053994217,15),v=i(v,10),h=a(h,m,g,v,p,e[6],2053994217,5),g=i(g,10),p=a(p,h,m,g,v,e[4],2053994217,8),m=i(m,10),v=a(v,p,h,m,g,e[1],2053994217,11),h=i(h,10),g=a(g,v,p,h,m,e[3],2053994217,14),p=i(p,10),m=a(m,g,v,p,h,e[11],2053994217,14),v=i(v,10),h=a(h,m,g,v,p,e[15],2053994217,6),g=i(g,10),p=a(p,h,m,g,v,e[0],2053994217,14),m=i(m,10),v=a(v,p,h,m,g,e[5],2053994217,6),h=i(h,10),g=a(g,v,p,h,m,e[12],2053994217,9),p=i(p,10),m=a(m,g,v,p,h,e[2],2053994217,12),v=i(v,10),h=a(h,m,g,v,p,e[13],2053994217,9),g=i(g,10),p=a(p,h,m,g,v,e[9],2053994217,12),m=i(m,10),v=a(v,p,h,m,g,e[7],2053994217,5),h=i(h,10),g=a(g,v,p,h,m,e[10],2053994217,15),p=i(p,10),m=a(m,g,v,p,h,e[14],2053994217,8),v=i(v,10),h=o(h,m,g,v,p,e[12],0,8),g=i(g,10),p=o(p,h,m,g,v,e[15],0,5),m=i(m,10),v=o(v,p,h,m,g,e[10],0,12),h=i(h,10),g=o(g,v,p,h,m,e[4],0,9),p=i(p,10),m=o(m,g,v,p,h,e[1],0,12),v=i(v,10),h=o(h,m,g,v,p,e[5],0,5),g=i(g,10),p=o(p,h,m,g,v,e[8],0,14),m=i(m,10),v=o(v,p,h,m,g,e[7],0,6),h=i(h,10),g=o(g,v,p,h,m,e[6],0,8),p=i(p,10),m=o(m,g,v,p,h,e[2],0,13),v=i(v,10),h=o(h,m,g,v,p,e[13],0,6),g=i(g,10),p=o(p,h,m,g,v,e[14],0,5),m=i(m,10),v=o(v,p,h,m,g,e[0],0,15),h=i(h,10),g=o(g,v,p,h,m,e[3],0,13),p=i(p,10),m=o(m,g,v,p,h,e[9],0,11),v=i(v,10),h=o(h,m,g,v,p,e[11],0,11),g=i(g,10);var y=this._b+l+g|0;this._b=this._c+f+v|0,this._c=this._d+d+p|0,this._d=this._e+n+h|0,this._e=this._a+r+m|0,this._a=y},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r}).call(t,n(4).Buffer)},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(19).EventEmitter;n(1)(r,i),r.Readable=n(33),r.Writable=n(159),r.Duplex=n(160),r.Transform=n(161),r.PassThrough=n(162),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"===typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},function(e,t,n){"use strict";(function(t,r){function i(e){return L.from(e)}function o(e){return L.isBuffer(e)||e instanceof U}function a(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?j(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){R=R||n(12),e=e||{};var r=t instanceof R;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(z||(z=n(35).StringDecoder),this.decoder=new z(e.encoding),this.encoding=e.encoding)}function u(e){if(R=R||n(12),!(this instanceof u))return new u(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),D.call(this)}function c(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var s;o||(s=f(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===L.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?l(e,a,t,!1):y(e,a)):l(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function l(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),y(e,t)}function f(e,t){var n;return o(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=G?e=G:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(H("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?M(v,e):v(e))}function v(e){H("emit readable"),e.emit("readable"),E(e)}function y(e,t){t.readingMore||(t.readingMore=!0,M(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(H("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;H("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&P(e,"data")&&(t.flowing=!0,E(e))}}function w(e){H("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,M(S,e,t))}function S(e,t){t.reading||(H("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(H("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=k(e,t.buffer,t.decoder),n}function k(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?C(e,t):T(e,t),r}function C(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function T(e,t){var n=L.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,M(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var M=n(26).nextTick;e.exports=u;var R,j=n(57);u.ReadableState=s;var P=(n(19).EventEmitter,function(e,t){return e.listeners(t).length}),D=n(70),L=n(5).Buffer,U=t.Uint8Array||function(){},B=n(21);B.inherits=n(1);var F=n(154),H=void 0;H=F&&F.debuglog?F.debuglog("stream"):function(){};var z,q=n(155),V=n(71);B.inherits(u,D);var Y=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=V.destroy,u.prototype._undestroy=V.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=L.from(e,t),t=""),n=!0),c(this,e,t,!1,n)},u.prototype.unshift=function(e){return c(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return z||(z=n(35).StringDecoder),this._readableState.decoder=new z(e),this._readableState.encoding=e,this};var G=8388608;u.prototype.read=function(e){H("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return H("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):g(this),null;if(0===(e=h(e,t))&&t.ended)return 0===t.length&&N(this),null;var r=t.needReadable;H("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,H("length less than watermark",r)),t.ended||t.reading?(r=!1,H("reading or ended",r)):r&&(H("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=h(n,t)));var i;return i=e>0?O(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function n(e,t){H("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){H("onend"),e.end()}function o(){H("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",f),d.removeListener("data",s),v=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){H("ondata"),y=!1,!1!==e.write(t)||y||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==I(p.pipes,e))&&!v&&(H("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,y=!0),d.pause())}function u(t){H("onerror",t),f(),e.removeListener("error",u),0===P(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),f()}function l(){H("onfinish"),e.removeListener("close",c),f()}function f(){H("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,H("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,m=h?i:f;p.endEmitted?M(m):d.once("end",m),e.on("unpipe",n);var g=_(d);e.on("drain",g);var v=!1,y=!1;return d.on("data",s),a(e,"error",u),e.once("close",c),e.once("finish",l),e.emit("pipe",d),p.flowing||(H("pipe resume"),d.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=I(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},u.prototype.on=function(e,t){var n=D.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):M(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(H("resume"),e.flowing=!0,x(this,e)),this},u.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(H("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(H("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){t.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Y.length;o++)e.on(Y[o],this.emit.bind(this,Y[o]));return this._read=function(t){H("wrapped _read",t),r&&(r=!1,e.resume())},this},u._fromList=O}).call(t,n(2),n(10))},function(e,t,n){e.exports=n(19).EventEmitter},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(26).nextTick;e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var s=n(12),u=n(21);u.inherits=n(1),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};t.sha=n(163),t.sha1=n(164),t.sha224=n(165),t.sha256=n(74),t.sha384=n(166),t.sha512=n(75)},function(e,t,n){function r(){this.init(),this._w=h,f.call(this,64,56)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function a(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function u(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function c(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var l=n(1),f=n(16),d=n(5).Buffer,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);l(r,f),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,l=0|this._c,f=0|this._d,d=0|this._e,h=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)t[v]=e.readInt32BE(4*v);for(;v<64;++v)t[v]=c(t[v-2])+t[v-7]+u(t[v-15])+t[v-16]|0;for(var y=0;y<64;++y){var b=g+s(d)+i(d,h,m)+p[y]+t[y]|0,_=a(n)+o(n,r,l)|0;g=m,m=h,h=d,d=f+b|0,f=l,l=r,r=n,n=b+_|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=l+this._c|0,this._d=f+this._d|0,this._e=d+this._e|0,this._f=h+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var e=d.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=v,h.call(this,128,112)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function a(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function u(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function f(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function d(e,t){return e>>>0<t>>>0?1:0}var p=n(1),h=n(16),m=n(5).Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);p(r,h),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,p=0|this._ch,h=0|this._dh,m=0|this._eh,v=0|this._fh,y=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,x=0|this._cl,S=0|this._dl,E=0|this._el,O=0|this._fl,k=0|this._gl,C=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var N=t[T-30],A=t[T-30+1],I=u(N,A),M=c(A,N);N=t[T-4],A=t[T-4+1];var R=l(N,A),j=f(A,N),P=t[T-14],D=t[T-14+1],L=t[T-32],U=t[T-32+1],B=M+D|0,F=I+P+d(B,M)|0;B=B+j|0,F=F+R+d(B,j)|0,B=B+U|0,F=F+L+d(B,U)|0,t[T]=F,t[T+1]=B}for(var H=0;H<160;H+=2){F=t[H],B=t[H+1];var z=o(n,r,p),q=o(_,w,x),V=a(n,_),Y=a(_,n),G=s(m,E),W=s(E,m),K=g[H],J=g[H+1],X=i(m,v,y),$=i(E,O,k),Q=C+W|0,Z=b+G+d(Q,C)|0;Q=Q+$|0,Z=Z+X+d(Q,$)|0,Q=Q+J|0,Z=Z+K+d(Q,J)|0,Q=Q+B|0,Z=Z+F+d(Q,B)|0;var ee=Y+q|0,te=V+z+d(ee,Y)|0;b=y,C=k,y=v,k=O,v=m,O=E,E=S+Q|0,m=h+Z+d(E,S)|0,h=p,S=x,p=r,x=w,r=n,w=_,_=Q+ee|0,n=Z+te+d(_,Q)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+E|0,this._fl=this._fl+O|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+n+d(this._al,_)|0,this._bh=this._bh+r+d(this._bl,w)|0,this._ch=this._ch+p+d(this._cl,x)|0,this._dh=this._dh+h+d(this._dl,S)|0,this._eh=this._eh+m+d(this._el,E)|0,this._fh=this._fh+v+d(this._fl,O)|0,this._gh=this._gh+y+d(this._gl,k)|0,this._hh=this._hh+b+d(this._hl,C)|0},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=m.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){a.call(this,"digest"),"string"===typeof t&&(t=s.from(t));var n="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>n){t=("rmd160"===e?new c:l(e)).update(t).digest()}else t.length<n&&(t=s.concat([t,f],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),o=0;o<n;o++)r[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new c:l(e),this._hash.update(r)}var i=n(1),o=n(167),a=n(36),s=n(5).Buffer,u=n(66),c=n(67),l=n(73),f=s.alloc(128);i(r,a),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(u,t):new r(e,t)}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(79),i=n(80);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(229);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";(function(t){function r(e,n){var r=this;o.call(this),r.sm=e,r.closing=!1,r.stanzas={Open:n.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",!0),Close:n.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",!0),StreamError:n.getStreamError()},r.sendQueue=a.queue(function(e,n){r.conn&&("string"!==typeof e&&(e=e.toString()),e=new t(e,"utf8").toString(),r.emit("raw:outgoing",e),r.conn.readyState===u&&r.conn.send(e)),n()},1),r.on("connected",function(){r.send(r.startHeader())}),r.on("raw:incoming",function(e){var t,i;if(""!==(e=e.trim())){try{t=n.parse(e)}catch(e){return i=new r.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",i,e),r.send(i),r.disconnect()}if("openStream"===t._name)return r.hasStream=!0,r.stream=t,r.emit("stream:start",t.toJSON());if("closeStream"===t._name)return r.emit("stream:end"),r.disconnect();!t.lang&&r.stream&&(t.lang=r.stream.lang),r.emit("stream:data",t)}})}var i=n(8),o=n(9),a=n(25),s=n(43)&&n(43).Client?n(43).Client:window.WebSocket,u=1;i.inherits(r,o),r.prototype.connect=function(e){var n=this;n.config=e,n.hasStream=!1,n.closing=!1,n.conn=new s(e.wsURL,"xmpp",e.wsOptions),n.conn.onerror=function(e){e.preventDefault(),n.emit("disconnected",n)},n.conn.onclose=function(){n.emit("disconnected",n)},n.conn.onopen=function(){n.sm.started=!1,n.emit("connected",n)},n.conn.onmessage=function(e){n.emit("raw:incoming",new t(e.data,"utf8").toString())}},r.prototype.startHeader=function(){return new this.stanzas.Open({version:this.config.version||"1.0",lang:this.config.lang||"en",to:this.config.server})},r.prototype.closeHeader=function(){return new this.stanzas.Close},r.prototype.disconnect=function(){this.conn&&!this.closing&&this.hasStream?(this.closing=!0,this.send(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,this.conn&&this.conn.readyState===u&&this.conn.close(),this.conn=void 0)},r.prototype.restart=function(){var e=this;e.hasStream=!1,e.send(this.startHeader())},r.prototype.send=function(e){this.sendQueue.push(e)},e.exports=r}).call(t,n(4).Buffer)},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return t=o(t,n,3),r(e,t)}var i=n(288),o=n(84),a=n(292),s=n(14);e.exports=r},function(e,t,n){function r(e){return null==e?"":e+""}function i(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:x(e,t,n):null==e?b:"object"==r?s(e):void 0===t?_(e):u(e,t)}function o(e,t,n){if(null!=e){void 0!==n&&n in m(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:void 0}}function a(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=m(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(void 0===u&&!(s in e))return!1}else{var l=n?n(u,c,s):void 0;if(!(void 0===l?w(c,u,n,!0):l))return!1}}return!0}function s(e){var t=d(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(void 0!==r||n in m(e)))}}return function(e){return a(e,t)}}function u(e,t){var n=S(e),r=p(e)&&h(t),i=e+"";return e=g(e),function(a){if(null==a)return!1;var s=i;if(a=m(a),(n||!r)&&!(s in a)){if(null==(a=1==e.length?a:o(a,f(e,0,-1))))return!1;s=v(e),a=m(a)}return a[s]===t?void 0!==t||s in a:w(t,a[s],void 0,!0)}}function c(e){return function(t){return null==t?void 0:t[e]}}function l(e){var t=e+"";return e=g(e),function(n){return o(n,e,t)}}function f(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,t<0&&(t=-t>i?0:i+t),n=void 0===n||n>i?i:+n||0,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function d(e){for(var t=E(e),n=t.length;n--;)t[n][2]=h(t[n][1]);return t}function p(e,t){var n=typeof e;return!!("string"==n&&k.test(e)||"number"==n)||!S(e)&&(!O.test(e)||null!=t&&e in m(t))}function h(e){return e===e&&!y(e)}function m(e){return y(e)?e:Object(e)}function g(e){if(S(e))return e;var t=[];return r(e).replace(C,function(e,n,r,i){t.push(r?i.replace(T,"$1"):n||e)}),t}function v(e){var t=e?e.length:0;return t?e[t-1]:void 0}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return e}function _(e){return p(e)?c(e):l(e)}var w=n(289),x=n(28),S=n(14),E=n(291),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,k=/^\w*$/,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,T=/\\(\\)?/g;e.exports=i},function(e,t,n){function r(e,t){var n,r=this;a.call(this),e=e||{},e.iceServers=e.iceServers||[],this.enableChromeNativeSimulcast=!1,t&&t.optional&&window.chrome&&null===navigator.appVersion.match(/Chromium\//)&&t.optional.forEach(function(e){e.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetRestrictBandwidth&&(r.restrictBandwidth=e.andyetRestrictBandwidth)}),this.batchIceCandidates=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetBatchIce&&(r.batchIceCandidates=e.andyetBatchIce)}),this.batchedIceCandidates=[],t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.andyetFasterICE&&(r.eliminateDuplicateCandidates=e.andyetFasterICE)}),t&&t.optional&&t.optional.forEach(function(e){e.andyetDontSignalCandidates&&(r.dontSignalCandidates=e.andyetDontSignalCandidates)}),this.assumeSetLocalSuccess=!1,t&&t.optional&&t.optional.forEach(function(e){e.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=e.andyetAssumeSetLocalSuccess)}),window.navigator.mozGetUserMedia&&t&&t.optional&&(this.wtFirefox=0,t.optional.forEach(function(e){e.andyetFirefoxMakesMeSad&&(r.wtFirefox=e.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new RTCPeerConnection(e,t),"function"===typeof this.pc.getLocalStreams?this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc):this.getLocalStreams=function(){return[]},"function"===typeof this.pc.getSenders?this.getSenders=this.pc.getSenders.bind(this.pc):this.getSenders=function(){return[]},"function"===typeof this.pc.getRemoteStreams?this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc):this.getRemoteStreams=function(){return[]},"function"===typeof this.pc.getReceivers?this.getReceivers=this.pc.getReceivers.bind(this.pc):this.getReceivers=function(){return[]},this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=function(e){"function"===typeof r.pc.removeStream?r.pc.removeStream.apply(r.pc,arguments):"function"===typeof r.pc.removeTrack&&e.getTracks().forEach(function(e){r.pc.removeTrack(e)})},"function"===typeof this.pc.removeTrack&&(this.removeTrack=this.pc.removeTrack.bind(this.pc)),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onremovetrack=this.emit.bind(this,"removeTrack"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},this.iceCredentials={local:{},remote:{}};for(n in e)this.config[n]=e[n];this.config.debug&&this.on("*",function(){(e.logger||console).log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}var i=n(8),o=n(325),a=n(9),s=n(329);i.inherits(r,a),Object.defineProperty(r.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(r.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),r.prototype._role=function(){return this.isInitiator?"initiator":"responder"},r.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},r.prototype._checkLocalCandidate=function(e){var t=o.toCandidateJSON(e);"srflx"==t.type?this.hadLocalStunCandidate=!0:"relay"==t.type&&(this.hadLocalRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},r.prototype._checkRemoteCandidate=function(e){var t=o.toCandidateJSON(e);"srflx"==t.type?this.hadRemoteStunCandidate=!0:"relay"==t.type&&(this.hadRemoteRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},r.prototype.processIce=function(e,t){t=t||function(){};var n=this;if("closed"===this.pc.signalingState)return t();if(e.contents||e.jingle&&e.jingle.contents){var r=this.remoteDescription.contents.map(function(e){return e.name});(e.contents||e.jingle.contents).forEach(function(e){var i=e.transport||{},a=i.candidates||[],s=r.indexOf(e.name),u=e.name,c=n.remoteDescription.contents.find(function(t){return t.name===e.name}),l=function(){a.forEach(function(e){var t=o.toCandidateSDP(e);n.pc.addIceCandidate(new RTCIceCandidate({candidate:t,sdpMLineIndex:s,sdpMid:u}),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(t)}),t()};if(n.iceCredentials.remote[e.name]&&i.ufrag&&n.iceCredentials.remote[e.name].ufrag!==i.ufrag)if(c){c.transport.ufrag=i.ufrag,c.transport.pwd=i.pwd;var f={type:"offer",jingle:n.remoteDescription};f.sdp=o.toSessionSDP(f.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.pc.setRemoteDescription(new RTCSessionDescription(f),function(){l()},function(e){n.emit("error",e)})}else n.emit("error","ice restart failed to find matching content");else l()})}else{if(e.candidate&&0!==e.candidate.candidate.indexOf("a=")&&(e.candidate.candidate="a="+e.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(e.candidate),t();n.pc.addIceCandidate(new RTCIceCandidate(e.candidate),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate.candidate),t()}},r.prototype.offer=function(e,t){var n=this,r=2===arguments.length,i=r&&e?e:{offerToReceiveAudio:1,offerToReceiveVideo:1};if(t=r?t:e,t=t||function(){},"closed"===this.pc.signalingState)return t("Already closed");this.pc.createOffer(function(e){var r={type:"offer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),t(null,r)),n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){var i;n.config.useJingle&&(i=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,i.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.local[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),r.jingle=i),r.sdp.split(/\r?\n/).forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),n.assumeSetLocalSuccess||(n.emit("offer",r),t(null,r))},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},i)},r.prototype.handleOffer=function(e,t){t=t||function(){};var n=this;if(e.type="offer",e.jingle){if(this.enableChromeNativeSimulcast&&e.jingle.contents.forEach(function(e){"video"===e.name&&(e.application.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&e.jingle.contents.forEach(function(e){if("video"===e.name){var t=e.application.sources||[];0!==t.length&&"3735928559"===t[0].ssrc||(t.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),e.application.sources=t)}}),n.restrictBandwidth>0&&e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name){var r=e.jingle.contents[1];r.application&&r.application.bandwidth&&r.application.bandwidth.bandwidth||(e.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle}e.sdp.split(/\r?\n/).forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){t()},t)},r.prototype.answerAudioOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(t,e)},r.prototype.answerBroadcastOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(t,e)},r.prototype.answer=function(e,t){var n=2===arguments.length,r=n?t:e,i=n&&e?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(i,r)},r.prototype.handleAnswer=function(e,t){t=t||function(){};var n=this;e.jingle&&(e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle,e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})})),e.sdp.split(/\r?\n/).forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(e){n.pc.addIceCandidate(new RTCIceCandidate(e),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),t(null)},t)},r.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},r.prototype._answer=function(e,t){t=t||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return t("Already closed");n.pc.createAnswer(function(e){var r=[];if(n.enableChromeNativeSimulcast&&(e.jingle=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name)){var i=e.jingle.contents[1].application.sourceGroups||[],a=!1;if(i.forEach(function(e){"SIM"==e.semantics&&(a=!0)}),!a&&e.jingle.contents[1].application.sources.length){var u=JSON.parse(JSON.stringify(e.jingle.contents[1].application.sources[0]));u.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(u),r.push(e.jingle.contents[1].application.sources[0].ssrc),r.push(u.ssrc),i.push({semantics:"SIM",sources:r});var c=JSON.parse(JSON.stringify(u));c.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(c),i.push({semantics:"FID",sources:[u.ssrc,c.ssrc]}),e.jingle.contents[1].application.sourceGroups=i,e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var l={type:"answer",sdp:e.sdp};if(n.assumeSetLocalSuccess){var f=s(l);n.emit("answer",f),t(null,f)}n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){if(n.config.useJingle){var r=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,l.jingle=r}if(n.enableChromeNativeSimulcast&&(l.jingle||(l.jingle=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"})),l.jingle.contents[1].application.sources.forEach(function(e,t){e.parameters=e.parameters.map(function(e){return"msid"===e.key&&(e.value+="-"+Math.floor(t/2)),e})}),l.sdp=o.toSessionSDP(l.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})),l.sdp.split(/\r?\n/).forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),!n.assumeSetLocalSuccess){var i=s(l);n.emit("answer",i),t(null,i)}},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},e)},r.prototype._onIce=function(e){var t=this;if(e.candidate){if(this.dontSignalCandidates)return;var n=e.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i,a,s=o.toCandidateJSON(n.candidate);if(this.eliminateDuplicateCandidates&&"relay"===s.type&&(i=this._candidateBuffer.filter(function(e){return"relay"===e.type}).map(function(e){return e.foundation+":"+e.component}),(a=i.indexOf(s.foundation+":"+s.component))>-1&&s.priority>>24>=i[a].priority>>24))return;if("max-bundle"===this.config.bundlePolicy&&(i=this._candidateBuffer.filter(function(e){return s.type===e.type}).map(function(e){return e.address+":"+e.port}),(a=i.indexOf(s.address+":"+s.port))>-1))return;if("require"===this.config.rtcpMuxPolicy&&"2"===s.component)return;if(this._candidateBuffer.push(s),t.config.useJingle){if(n.sdpMid||(t.pc.remoteDescription&&"offer"===t.pc.remoteDescription.type?n.sdpMid=t.remoteDescription.contents[n.sdpMLineIndex].name:n.sdpMid=t.localDescription.contents[n.sdpMLineIndex].name),!t.iceCredentials.local[n.sdpMid]){o.toSessionJSON(t.pc.localDescription.sdp,{role:t._role(),direction:"outgoing"}).contents.forEach(function(e){var n=e.transport||{};n.ufrag&&(t.iceCredentials.local[e.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:t._role(),transport:{transportType:"iceUdp",ufrag:t.iceCredentials.local[n.sdpMid].ufrag,pwd:t.iceCredentials.local[n.sdpMid].pwd,candidates:[s]}}]},t.batchIceCandidates>0)return 0===t.batchedIceCandidates.length&&window.setTimeout(function(){var e={};t.batchedIceCandidates.forEach(function(t){t=t.contents[0],e[t.name]||(e[t.name]=t),e[t.name].transport.candidates.push(t.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(e).forEach(function(t){n.jingle.contents.push(e[t])}),t.batchedIceCandidates=[],t.emit("ice",n)},t.batchIceCandidates),void t.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},r.prototype._onDataChannel=function(e){var t=e.channel;this._remoteDataChannels.push(t),this.emit("addChannel",t)},r.prototype.createDataChannel=function(e,t){var n=this.pc.createDataChannel(e,t);return this._localDataChannels.push(n),n},r.prototype.getStats=function(){if("function"!==typeof arguments[0])return this.pc.getStats.apply(this.pc,arguments);var e=arguments[0];this.pc.getStats().then(function(t){e(null,t)},function(t){e(t)})},e.exports=r},function(e,t){e.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){throw new(function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(Error))("Function is not Implemented")}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return w});var u=n(17),c=n.n(u),l=n(11),f=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=window.libsignal,p=d.KeyHelper,h=d.SignalProtocolAddress,m=d.SessionBuilder,g=d.SessionCipher,v=d.Curve,y=window.crypto.subtle;t.c=function(e,t){var n=t.utils,r="eu.siacs.conversations.axolotl",i=t.define({name:"encrypted",element:"encrypted",namespace:r,fields:{payload:n.textSub(r,"payload")}}),o=t.define({element:"key",namespace:r,fields:{rid:n.attribute("rid"),prekey:n.boolAttribute("prekey"),content:n.text()}}),a=t.define({name:"header",element:"header",namespace:r,fields:{sid:n.attribute("sid"),iv:n.textSub(r,"iv")}}),s=t.define({name:"preKeyPublic",element:"preKeyPublic",namespace:r,fields:{id:n.attribute("preKeyId"),content:n.text()}}),u=t.define({name:"signedPreKeyPublic",element:"signedPreKeyPublic",namespace:r,fields:{id:n.attribute("signedPreKeyId"),content:n.text()}}),c=t.define({name:"bundle",element:"bundle",namespace:r,fields:{signedPreKeySignature:n.textSub(r,"signedPreKeySignature"),identityKey:n.textSub(r,"identityKey"),preKeys:n.subMultiExtension(r,"prekeys",s)}}),l=t.define({name:"deviceList",element:"list",namespace:r,fields:{devices:n.multiSubAttribute(r,"device","id")}}),f=t.define({name:"encryption",element:"encryption",namespace:"urn:xmpp:eme:0",fields:{name:n.attribute("name"),namespace:n.attribute("namespace")}});t.extend(c,u),t.extend(i,a),t.extend(a,o,"keys",!0),t.withMessage(function(e){t.extend(e,i),t.extend(e,f)}),t.withPubsubItem(function(e){t.extend(e,c),t.extend(e,l)}),e.createOmemo=function(t){e.omemo=new x({client:e,store:t})}};var b=function(){function e(){i(this,e),this.Direction={SENDING:1,RECEIVING:2}}return f(e,[{key:"storeDeviceIds",value:function(e,t){s()}},{key:"getDeviceIds",value:function(e){s()}},{key:"storeWhisper",value:function(e,t,n){s()}},{key:"getWhisper",value:function(e,t){s()}},{key:"getLocalRegistrationId",value:function(){s()}},{key:"storeLocalRegistrationId",value:function(e){s()}},{key:"getIdentityKeyPair",value:function(){s()}},{key:"storeIdentityKeyPair",value:function(e){s()}},{key:"isTrustedIdentity",value:function(e,t,n){s()}},{key:"loadIdentityKey",value:function(e){s()}},{key:"saveIdentity",value:function(e,t){s()}},{key:"loadPreKey",value:function(e){s()}},{key:"storePreKey",value:function(e,t){s()}},{key:"removePreKey",value:function(e){s()}},{key:"loadSignedPreKey",value:function(e){s()}},{key:"storeSignedPreKey",value:function(e,t){s()}},{key:"removeSignedPreKey",value:function(e){s()}},{key:"loadSession",value:function(e){s()}},{key:"storeSession",value:function(e,t){s()}},{key:"removeSession",value:function(e){s()}},{key:"removeAllSessions",value:function(e){s()}},{key:"wrapFunction",value:function(e,t){var n=this[e];this[e]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(void 0,[n].concat(r))}}}]),e}(),_=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"string"===typeof e?e:e.bare,n))}return a(t,e),t}(h),w=function(){function e(){i(this,e)}return f(e,null,[{key:"arrayBufferToBase64String",value:function(e){var t=new Uint8Array(e);return btoa(t.reduce(function(e,t){return e+String.fromCharCode(t)},""))}},{key:"base64StringToArrayBuffer",value:function(e){for(var t=atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return n}}]),e}(),x=function(){function e(t){var n=this,r=t.client,o=t.store,a=void 0===o?new b:o;i(this,e),this.client=r,this.store=a,this.subscriptions=new Set,this.client.on("pubsub:event",function(e){return n.handleDeviceList(e)})}return f(e,[{key:"handleDeviceList",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.event.updated){e.next=3;break}return e.abrupt("return");case 3:if("eu.siacs.conversations.axolotl.devicelist"===t.event.updated.node){e.next=5;break}return e.abrupt("return");case 5:return n=new Set(t.event.updated.published[0].deviceList.devices),e.next=8,this.store.storeDeviceIds(new l.JID(t.from).bare,n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"start",value:function(){function e(){return t.apply(this,arguments)}var t=r(c.a.mark(function e(){var t,n,i,o=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.getIdentityKeyPair();case 2:return t=e.sent,e.next=5,this.store.getLocalRegistrationId();case 5:if(n=e.sent,i=!1,this.store.wrapFunction("removePreKey",function(){var e=r(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,o.store.getLocalRegistrationId();case 3:return e.t1=e.sent,e.next=6,o.store.getIdentityKeyPair();case 6:return e.t2=e.sent,e.t3=n,e.next=10,e.t0.announce.call(e.t0,e.t1,e.t2,!1,e.t3);case 10:return e.next=12,t(n);case 12:case"end":return e.stop()}},e,o)}));return function(t,n){return e.apply(this,arguments)}}()),void 0!==t&&void 0!==n){e.next=18;break}return n=p.generateRegistrationId(),e.next=12,p.generateIdentityKeyPair();case 12:return t=e.sent,i=!0,e.next=16,this.store.storeIdentityKeyPair(t);case 16:return e.next=18,this.store.storeLocalRegistrationId(n);case 18:return e.next=20,this.announce(n,t,i);case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAnnouncedDeviceIds",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n,r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=this.client.jid),"string"!==typeof t&&(t=t.bare),this.subscriptions.has(t)){e.next=11;break}return e.prev=3,e.next=6,this.client.subscribeToNode(t,"eu.siacs.conversations.axolotl.devicelist");case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:this.subscriptions.add(t);case 11:return e.next=13,this.store.hasDeviceIds(t);case 13:if(!e.sent){e.next=17;break}return e.next=16,this.store.getDeviceIds(t);case 16:return e.abrupt("return",e.sent);case 17:return n=void 0,e.prev=18,e.next=21,this.client.getItems(t,"eu.siacs.conversations.axolotl.devicelist");case 21:n=e.sent,e.next=27;break;case 24:return e.prev=24,e.t1=e.catch(18),e.abrupt("return",new Set);case 27:r=[];try{r=n.pubsub.retrieve.item.deviceList.devices}catch(e){}return i=new Set(r.map(function(e){return parseInt(e,10)})),e.next=32,this.store.storeDeviceIds(t,i);case 32:return e.abrupt("return",i);case 33:case"end":return e.stop()}},e,this,[[3,8],[18,24]])}));return e}()},{key:"getDeviceKeyBundle",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,e.next=4,this.client.getItems("string"===typeof t?t:t.bare,"eu.siacs.conversations.axolotl.bundles:"+n);case 4:r=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:i=null;try{i=r.pubsub.retrieve.item.bundle}catch(e){console.log(r)}return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return e}()},{key:"announceDeviceIds",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.publish(this.client.jid.bare,"eu.siacs.conversations.axolotl.devicelist",{deviceList:{devices:Array.from(t)}});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"announce",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n,r){var i,o,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Announcing",{registrationId:t,identityKeyPair:n,isNew:r}),e.next=3,this.getAnnouncedDeviceIds();case 3:if(i=e.sent,!i.has(t)||!r){e.next=12;break}return console.log("deviceId already found, even tho new"),t=p.generateRegistrationId(),e.next=9,this.store.storeLocalRegistrationId(t);case 9:return e.next=11,this.announce(t,n,!0);case 11:return e.abrupt("return");case 12:if(i.has(t)){e.next=16;break}return i.add(t),e.next=16,this.announceDeviceIds(i);case 16:return e.next=18,this.getDeviceKeyBundle(this.client.jid,t);case 18:if(!(o=e.sent)||w.arrayBufferToBase64String(n.pubKey)===o.identityKey){e.next=27;break}return console.log("Different identityKey on same deviceId",{ownKey:w.arrayBufferToBase64String(n.pubKey),announcedKey:o.identityKey}),t=p.generateRegistrationId(),e.next=24,this.store.storeLocalRegistrationId(t);case 24:return e.next=26,this.announce(t,n,!0);case 26:return e.abrupt("return");case 27:return e.next=29,this.refillPreKeys(o,s);case 29:return a=e.sent,e.prev=30,e.next=33,this.client.publish(this.client.jid.bare,"eu.siacs.conversations.axolotl.bundles:"+t,{bundle:a});case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(30),console.log(e.t0);case 38:case"end":return e.stop()}},e,this,[[30,35]])}));return e}()},{key:"refillPreKeys",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n,r,i,o,a,s,u,l=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.getIdentityKeyPair();case 2:n=e.sent,t||(t={preKeys:[],signedPreKeyPublic:{id:""}}),t.identityKey=w.arrayBufferToBase64String(n.pubKey),r=t.preKeys.reduce(function(e,t){return Math.max(e,t)},1),t.preKeys=t.preKeys.filter(function(e){return void 0!==l.store.loadPreKey(e.id)||""+f===""+e.id});case 7:if(!(t.preKeys.length<100)){e.next=18;break}return e.next=10,p.generatePreKey(++r);case 10:return i=e.sent,o=i.keyPair,a=i.keyId,e.next=15,this.store.storePreKey(a,o);case 15:t.preKeys.push({id:a,content:w.arrayBufferToBase64String(o.pubKey)}),e.next=7;break;case 18:if(t.signedPreKeyPublic.id){e.next=31;break}return e.next=21,p.generateSignedPreKey(n,Math.floor(235234*Math.random()));case 21:return s=e.sent,o=s.keyPair,u=s.signature,a=s.keyId,e.next=27,this.store.storeSignedPreKey(a,o);case 27:t.signedPreKeySignature=w.arrayBufferToBase64String(u),t.signedPreKeyPublic={content:w.arrayBufferToBase64String(o.pubKey),id:""+a},console.log("Verification",window.globalShit=[n.pubKey,o.pubKey,u]),console.log("Result",v.verifySignature(n.pubKey,o.pubKey,u));case 31:return e.abrupt("return",t);case 32:case"end":return e.stop()}},e,this)}));return e}()},{key:"getRecipientSessions",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n,r,i,o,a,s,u,f,d,p,h,v,y,b,x;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.JID(t).bare,e.next=3,this.getAnnouncedDeviceIds(t);case 3:return r=e.sent,i=[],e.next=7,this.store.getLocalRegistrationId();case 7:o=e.sent,a=!0,s=!1,u=void 0,e.prev=11,f=r[Symbol.iterator]();case 13:if(a=(d=f.next()).done){e.next=43;break}if(p=d.value,""+o!==""+p){e.next=17;break}return e.abrupt("continue",40);case 17:return h=new _(n,p),e.next=20,this.store.loadSession(h.toString());case 20:if(void 0!==(v=e.sent)){e.next=39;break}return e.next=24,this.getDeviceKeyBundle(n,p);case 24:if(y=e.sent){e.next=27;break}return e.abrupt("continue",40);case 27:return b=new m(this.store,h),x=y.preKeys[Math.floor(Math.random()*y.preKeys.length)],console.info("Trying to process PreKey["+n+":"+x.id+"]"),e.prev=30,e.next=33,b.processPreKey({registrationId:p,identityKey:w.base64StringToArrayBuffer(y.identityKey),signedPreKey:{keyId:parseInt(y.signedPreKeyPublic.id,10),publicKey:w.base64StringToArrayBuffer(y.signedPreKeyPublic.content),signature:w.base64StringToArrayBuffer(y.signedPreKeySignature)},preKey:{keyId:parseInt(x.id,10),publicKey:w.base64StringToArrayBuffer(x.content)}});case 33:e.next=39;break;case 35:return e.prev=35,e.t0=e.catch(30),console.log("Failed processing PreKey["+n+":"+x.id+"]"),e.abrupt("continue",40);case 39:i.push(new g(this.store,h));case 40:a=!0,e.next=13;break;case 43:e.next=49;break;case 45:e.prev=45,e.t1=e.catch(11),s=!0,u=e.t1;case 49:e.prev=49,e.prev=50,!a&&f.return&&f.return();case 52:if(e.prev=52,!s){e.next=55;break}throw u;case 55:return e.finish(52);case 56:return e.finish(49);case 57:return e.abrupt("return",i);case 58:case"end":return e.stop()}},e,this,[[11,45,49,57],[30,35],[50,,52,56]])}));return e}()},{key:"decryptMessage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n,r,i,o,a,s,u,l,f,d,p,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.encrypted.header,e.next=3,this.store.getLocalRegistrationId();case 3:r=e.sent,i=n.keys.filter(function(e){return""+e.rid===""+r}),o=w.base64StringToArrayBuffer(n.iv),a=w.base64StringToArrayBuffer(t.encrypted.payload),s=!0,u=!1,l=void 0,e.prev=10,f=i[Symbol.iterator]();case 12:if(s=(d=f.next()).done){e.next=29;break}return p=d.value,e.prev=14,e.next=17,this.decryptWhisper(t,p);case 17:return h=e.sent,e.next=20,this.decryptData(h,o,a);case 20:return e.abrupt("return",e.sent);case 23:e.prev=23,e.t0=e.catch(14),console.warn("Failed decrypting",e.t0);case 26:s=!0,e.next=12;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e.catch(10),u=!0,l=e.t1;case 35:e.prev=35,e.prev=36,!s&&f.return&&f.return();case 38:if(e.prev=38,!u){e.next=41;break}throw l;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",null);case 44:case"end":return e.stop()}},e,this,[[10,31,35,43],[14,23],[36,,38,42]])}));return e}()},{key:"decryptWhisper",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n){var r,i,o,a,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.getWhisper(t.from.toString(),t.id);case 2:if(void 0===(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:if(i=new _(t.from,t.encrypted.header.sid),o=new g(this.store,i),a=null,s=w.base64StringToArrayBuffer(n.content),!n.prekey){e.next=15;break}return e.next=12,o.decryptPreKeyWhisperMessage(s,"binary");case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,o.decryptWhisperMessage(s,"binary");case 17:a=e.sent;case 18:return e.next=20,this.store.storeWhisper(t.from.toString(),t.id,a);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"decryptData",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n,r){var i,o,a,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.slice(0,16),o=new Uint8Array(t.byteLength-16),o.set(new Uint8Array(t.slice(16))),e.next=5,y.importKey("raw",i,{name:"AES-GCM"},!1,["decrypt","encrypt"]);case 5:return a=e.sent,s=new Uint8Array(r.byteLength+o.byteLength),s.set(new Uint8Array(r)),s.set(o,r.byteLength),console.info("Decrypting",{iv:w.arrayBufferToBase64String(n),authTag:w.arrayBufferToBase64String(o),tagLength:8*o.byteLength,payload:w.arrayBufferToBase64String(r),key:w.arrayBufferToBase64String(i),whisperMessage:w.arrayBufferToBase64String(t)}),e.prev=10,e.next=13,y.decrypt({name:"AES-GCM",iv:n,tagLength:0===o.byteLength?128:8*o.byteLength},a,s);case 13:return e.abrupt("return",e.sent);case 16:e.prev=16,e.t0=e.catch(10),console.error("Failed decrypting data"),console.error(e.t0.stack);case 20:case"end":return e.stop()}},e,this,[[10,16]])}));return e}()},{key:"sendMessage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n=t.id,r=void 0===n?void 0:n,i=t.to,o=t.from,a=t.body,s=t.type,u=void 0===s?"chat":s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.client,e.t1=r,e.t2=i,e.t3=o,e.t4=u,e.next=7,this.createMessage(a,[i,new l.JID(o).bare]);case 7:return e.t5=e.sent,e.t6={namespace:"eu.siacs.conversations.axolotl",name:"OMEMO"},e.t7={id:e.t1,to:e.t2,from:e.t3,type:e.t4,body:"[This message is OMEMO encrypted]",store:!0,encrypted:e.t5,encryption:e.t6},e.next=12,e.t0.sendMessage.call(e.t0,e.t7);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"createMessage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n){var r,i,o,a,s,u,l,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Uint8Array(32),e.next=3,window.crypto.getRandomValues(r);case 3:return i=r.slice(0,16),o=r.slice(16),e.next=7,y.importKey("raw",i,{name:"AES-GCM"},!1,["decrypt","encrypt"]);case 7:return a=e.sent,s=(new TextEncoder).encode(t),e.next=11,y.encrypt({name:"AES-GCM",iv:o,tagLength:128},a,s.buffer);case 11:return u=e.sent,l=u.slice(0,u.byteLength-16),f=u.slice(u.byteLength-16),e.next=16,this.createHeader(i,f,o,n);case 16:return e.t0=e.sent,e.t1=w.arrayBufferToBase64String(l),e.abrupt("return",{header:e.t0,payload:e.t1});case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"createHeader",value:function(){function e(e,n,r,i){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t,n,r,i){var o,a,s,u,l,f,d,p,h,m,g,v,y,b,_,x,S,E,O,k,C,T,N;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=new Set(i.map(function(e){return"string"===typeof e?e:e.bare})),a=[],s=new ArrayBuffer(t.byteLength+n.byteLength),u=new Uint8Array(s),l=new Uint8Array(t),f=new Uint8Array(n),u.set(l),u.set(f,l.byteLength),d=!0,p=!1,h=void 0,e.prev=11,m=o[Symbol.iterator]();case 13:if(d=(g=m.next()).done){e.next=57;break}return v=g.value,e.next=17,this.getRecipientSessions(v);case 17:y=e.sent,b=!0,_=!1,x=void 0,e.prev=21,S=y[Symbol.iterator]();case 23:if(b=(E=S.next()).done){e.next=40;break}return O=E.value,e.next=27,O.encrypt(s);case 27:return k=e.sent,C=k.type,T=k.body,e.next=32,O.getRemoteRegistrationId();case 32:e.t0=e.sent,e.t1=btoa(T),N={rid:e.t0,content:e.t1},3===C&&(N.prekey=!0),a.push(N);case 37:b=!0,e.next=23;break;case 40:e.next=46;break;case 42:e.prev=42,e.t2=e.catch(21),_=!0,x=e.t2;case 46:e.prev=46,e.prev=47,!b&&S.return&&S.return();case 49:if(e.prev=49,!_){e.next=52;break}throw x;case 52:return e.finish(49);case 53:return e.finish(46);case 54:d=!0,e.next=13;break;case 57:e.next=63;break;case 59:e.prev=59,e.t3=e.catch(11),p=!0,h=e.t3;case 63:e.prev=63,e.prev=64,!d&&m.return&&m.return();case 66:if(e.prev=66,!p){e.next=69;break}throw h;case 69:return e.finish(66);case 70:return e.finish(63);case 71:return e.t4=w.arrayBufferToBase64String(r),e.t5=a,e.next=75,this.store.getLocalRegistrationId();case 75:return e.t6=e.sent,e.abrupt("return",{iv:e.t4,keys:e.t5,sid:e.t6});case 77:case"end":return e.stop()}},e,this,[[11,59,63,71],[21,42,46,54],[47,,49,53],[64,,66,70]])}));return e}()}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return u});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){o(this,e)}return a(e,[{key:"getDescription",value:function(){return""}},{key:"getTitle",value:function(){return"-"}},{key:"getImage",value:function(){return"data:,"}},{key:"getType",value:function(){return"none"}},{key:"getId",value:function(){return this.getType()+"/"+this.getTitle()}},{key:"getJSON",value:function(){return{}}},{key:"getLastMessage",value:function(){return null}}],[{key:"fromJSON",value:function(e,t){switch(e.type){case"contact":var n=t.findContact(e.data);return n||(t.roster.indexContact({jid:e.data,phantom:!0}),n=t.findContact(e.data)),new u({contact:n,client:t.client});default:return null}}}]),e}();t.b=s;var u=function(e){function t(e){var n=e.contact,i=e.client;o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.contact=n,a.client=i,a}return i(t,e),a(t,[{key:"getType",value:function(){return"contact"}},{key:"getDescription",value:function(){return this.contact.jid.bare}},{key:"getTitle",value:function(){return this.contact.getDisplayName()}},{key:"getImage",value:function(){return this.contact.getAvatar()}},{key:"getId",value:function(){return"contact/"+this.contact.jid.bare}},{key:"getJSON",value:function(){return this.contact.jid.bare}},{key:"getLastMessage",value:function(){return this.contact.getLastMessage()}}]),t}(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(378),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function i(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}function o(e,t){var n=e.nodeName.toLowerCase();return(u.test(n)&&!e.disabled||("a"===n?e.href||t:t))&&i(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}function s(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var u=/input|select|textarea|button|object/;e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function i(e){var t=e;if("string"===typeof t){var n=document.querySelectorAll(t);r(n,t),t="length"in n?n[0]:n}return d=t||d}function o(e){return!(!e&&!d)||((0,f.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}function a(e){o(e)&&(e||d).setAttribute("aria-hidden","true")}function s(e){o(e)&&(e||d).removeAttribute("aria-hidden")}function u(){d=null}function c(){d=null}Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=r,t.setElement=i,t.validateElement=o,t.hide=a,t.show=s,t.documentNotReadyOrSSRTesting=u,t.resetForTesting=c;var l=n(382),f=function(e){return e&&e.__esModule?e:{default:e}}(l),d=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r=n(384),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},function(e,t,n){n(94),e.exports=n(99)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(95).enable(),window.Promise=n(97)),n(98),Object.assign=n(27)},function(e,t,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=l++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(48),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof t?t:self,f=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(2))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(48);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return l;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];g.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n.n(r),o=n(50),a=n.n(o),s=n(110),u=(n.n(s),n(111)),c=n(388);a.a.render(i.a.createElement(u.a,null),document.getElementById("root")),Object(c.a)()},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function o(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function u(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)M.call(t,r)&&!R.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:x,type:e,key:o,ref:a,props:i,_owner:I.current}}function c(e){return"object"===typeof e&&null!==e&&e.$$typeof===x}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function f(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function p(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case x:case S:case E:case O:a=!0}}if(a)return n(i,e,""===t?"."+h(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+h(o,s);a+=p(o,u,n,i)}else if(null===e||"undefined"===typeof e?u=null:(u=C&&e[C]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+h(o,s++),a+=p(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function h(e,t){return"object"===typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,r,n,_.thatReturnsArgument):null!=e&&(c(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:x,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function v(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),t=f(t,o,r,i),null==e||p(e,"",g,t),d(t)}var y=n(27),b=n(49),_=n(23),w="function"===typeof Symbol&&Symbol.for,x=w?Symbol.for("react.element"):60103,S=w?Symbol.for("react.call"):60104,E=w?Symbol.for("react.return"):60105,O=w?Symbol.for("react.portal"):60106,k=w?Symbol.for("react.fragment"):60107,C="function"===typeof Symbol&&Symbol.iterator,T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var N=o.prototype=new a;N.constructor=o,y(N,i.prototype),N.isPureReactComponent=!0;var A=s.prototype=new a;A.constructor=s,y(A,i.prototype),A.unstable_isAsyncReactComponent=!0,A.render=function(){return this.props.children};var I={current:null},M=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,P=[],D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=f(null,null,t,n),null==e||p(e,"",m,t),d(t)},count:function(e){return null==e?0:p(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return v(e,t,null,_.thatReturnsArgument),t},only:function(e){return c(e)||r("143"),e}},Component:i,PureComponent:o,unstable_AsyncComponent:s,Fragment:k,createElement:u,cloneElement:function(e,t,n){var r=y({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)M.call(t,u)&&!R.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:x,type:e.type,key:i,ref:o,props:r,_owner:a}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:y}},L=Object.freeze({default:D}),U=L&&D||L;e.exports=U.default?U.default:U},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t){return(e&t)===t}function o(e,t){if(Nn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Nn.hasOwnProperty(e)?e=!0:(t=a(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(e){return In.hasOwnProperty(e)?In[e]:null}function s(e){return e[1].toUpperCase()}function u(e,t,n,r,i,o,a,s,u){Vn._hasCaughtError=!1,Vn._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){Vn._caughtError=e,Vn._hasCaughtError=!0}}function c(){if(Vn._hasRethrowError){var e=Vn._rethrowError;throw Vn._rethrowError=null,Vn._hasRethrowError=!1,e}}function l(){if(Yn)for(var e in Gn){var t=Gn[e],n=Yn.indexOf(e);if(-1<n||r("96",e),!Wn[n]){t.extractEvents||r("97",e),Wn[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],s=t,u=i;Kn.hasOwnProperty(u)&&r("99",u),Kn[u]=a;var c=a.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&f(c[o],s,u);o=!0}else a.registrationName?(f(a.registrationName,s,u),o=!0):o=!1;o||r("98",i,e)}}}}function f(e,t,n){Jn[e]&&r("100",e),Jn[e]=t,Xn[e]=t.eventTypes[n].dependencies}function d(e){Yn&&r("101"),Yn=Array.prototype.slice.call(e),l()}function p(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Gn.hasOwnProperty(t)&&Gn[t]===i||(Gn[t]&&r("102",t),Gn[t]=i,n=!0)}n&&l()}function h(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),Vn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function m(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function g(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function v(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)h(e,t,n[i],r[i]);else n&&h(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function y(e){return v(e,!0)}function b(e){return v(e,!1)}function _(e,t){var n=e.stateNode;if(!n)return null;var i=Qn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&r("231",t,typeof n),n)}function w(e,t,n,r){for(var i,o=0;o<Wn.length;o++){var a=Wn[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=m(i,a))}return i}function x(e){e&&(tr=m(tr,e))}function S(e){var t=tr;tr=null,t&&(e?g(t,y):g(t,b),tr&&r("95"),Vn.rethrowCaughtError())}function E(e){if(e[or])return e[or];for(var t=[];!e[or];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[or];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[or]);e=t.pop())n=r;return n}function O(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function k(e){return e[ar]||null}function C(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function T(e,t,n){for(var r=[];e;)r.push(e),e=C(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function N(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function A(e){e&&e.dispatchConfig.phasedRegistrationNames&&T(e._targetInst,N,e)}function I(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?C(t):null,T(t,N,e)}}function M(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.registrationName&&M(e._targetInst,null,e)}function j(e){g(e,A)}function P(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=C(s))a++;s=0;for(var u=o;u;u=C(u))s++;for(;0<a-s;)i=C(i),a--;for(;0<s-a;)o=C(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=C(i),o=C(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=C(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=C(r);for(r=0;r<i.length;r++)M(i[r],"bubbled",e);for(e=n.length;0<e--;)M(n[e],"captured",t)}function D(){return!cr&&_n.canUseDOM&&(cr="textContent"in document.documentElement?"textContent":"innerText"),cr}function L(){if(lr._fallbackText)return lr._fallbackText;var e,t,n=lr._startText,r=n.length,i=U(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return lr._fallbackText=i.slice(e,1<t?1-t:void 0),lr._fallbackText}function U(){return"value"in lr._root?lr._root.value:lr._root[D()]}function B(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?xn.thatReturnsTrue:xn.thatReturnsFalse,this.isPropagationStopped=xn.thatReturnsFalse,this}function F(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function H(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function z(e){e.eventPool=[],e.getPooled=F,e.release=H}function q(e,t,n,r){return B.call(this,e,t,n,r)}function V(e,t,n,r){return B.call(this,e,t,n,r)}function Y(e,t){switch(e){case"topKeyUp":return-1!==pr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function G(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function W(e,t){switch(e){case"topCompositionEnd":return G(t);case"topKeyPress":return 32!==t.which?null:(Sr=!0,wr);case"topTextInput":return e=t.data,e===wr&&Sr?null:e;default:return null}}function K(e,t){if(Er)return"topCompositionEnd"===e||!hr&&Y(e,t)?(e=L(),lr._root=null,lr._startText=null,lr._fallbackText=null,Er=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _r?null:t.data;default:return null}}function J(e){if(e=Zn(e)){kr&&"function"===typeof kr.restoreControlledState||r("194");var t=Qn(e.stateNode);kr.restoreControlledState(e.stateNode,e.type,t)}}function X(e){Cr?Tr?Tr.push(e):Tr=[e]:Cr=e}function $(){if(Cr){var e=Cr,t=Tr;if(Tr=Cr=null,J(e),t)for(e=0;e<t.length;e++)J(t[e])}}function Q(e,t){return e(t)}function Z(e,t){if(Ir)return Q(e,t);Ir=!0;try{return Q(e,t)}finally{Ir=!1,$()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mr[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!_n.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"===typeof n[t]),!n&&yr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function oe(e){e._valueTracker||(e._valueTracker=ie(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=B.getPooled(Rr.change,e,t,n),e.type="change",X(n),j(e),e}function ue(e){x(e),S(!1)}function ce(e){if(ae(O(e)))return e}function le(e,t){if("topChange"===e)return t}function fe(){jr&&(jr.detachEvent("onpropertychange",de),Pr=jr=null)}function de(e){"value"===e.propertyName&&ce(Pr)&&(e=se(Pr,e,te(e)),Z(ue,e))}function pe(e,t,n){"topFocus"===e?(fe(),jr=t,Pr=n,jr.attachEvent("onpropertychange",de)):"topBlur"===e&&fe()}function he(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return ce(Pr)}function me(e,t){if("topClick"===e)return ce(t)}function ge(e,t){if("topInput"===e||"topChange"===e)return ce(t)}function ve(e,t,n,r){return B.call(this,e,t,n,r)}function ye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ur[e])&&!!t[e]}function be(){return ye}function _e(e,t,n,r){return B.call(this,e,t,n,r)}function we(e){return e=e.type,"string"===typeof e?e:"function"===typeof e?e.displayName||e.name:null}function xe(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Se(e){return!!(e=e._reactInternalFiber)&&2===xe(e)}function Ee(e){2!==xe(e)&&r("188")}function Oe(e){var t=e.alternate;if(!t)return t=xe(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Ee(o),e;if(s===i)return Ee(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function ke(e){if(!(e=Oe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ce(e){if(!(e=Oe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Te(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=E(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],Vr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function Ne(e){qr=!!e}function Ae(e,t,n){return n?Sn.listen(n,t,Me.bind(null,e)):null}function Ie(e,t,n){return n?Sn.capture(n,t,Me.bind(null,e)):null}function Me(e,t){if(qr){var n=te(t);if(n=E(n),null===n||"number"!==typeof n.tag||2===xe(n)||(n=null),zr.length){var r=zr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(Te,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>zr.length&&zr.push(e)}}}function Re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function je(e){if(Wr[e])return Wr[e];if(!Gr[e])return e;var t,n=Gr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Kr)return Wr[e]=n[t];return""}function Pe(e){return Object.prototype.hasOwnProperty.call(e,Qr)||(e[Qr]=$r++,Xr[e[Qr]]={}),Xr[e[Qr]]}function De(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Le(e,t){var n=De(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=De(n)}}function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Be(e,t){if(ii||null==ti||ti!==En())return null;var n=ti;return"selectionStart"in n&&Ue(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&On(ri,n)?null:(ri=n,e=B.getPooled(ei.select,ni,e,t),e.type="select",e.target=ti,j(e),e)}function Fe(e,t,n,r){return B.call(this,e,t,n,r)}function He(e,t,n,r){return B.call(this,e,t,n,r)}function ze(e,t,n,r){return B.call(this,e,t,n,r)}function qe(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function Ve(e,t,n,r){return B.call(this,e,t,n,r)}function Ye(e,t,n,r){return B.call(this,e,t,n,r)}function Ge(e,t,n,r){return B.call(this,e,t,n,r)}function We(e,t,n,r){return B.call(this,e,t,n,r)}function Ke(e,t,n,r){return B.call(this,e,t,n,r)}function Je(e){0>di||(e.current=fi[di],fi[di]=null,di--)}function Xe(e,t){di++,fi[di]=e.current,e.current=t}function $e(e){return Ze(e)?mi:pi.current}function Qe(e,t){var n=e.type.contextTypes;if(!n)return Tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&(Je(hi,e),Je(pi,e))}function tt(e,t,n){null!=pi.cursor&&r("168"),Xe(pi,t,e),Xe(hi,n,e)}function nt(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",we(e)||"Unknown",o);return wn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tn,mi=pi.current,Xe(pi,t,e),Xe(hi,hi.current,e),!0}function it(e,t){var n=e.stateNode;if(n||r("169"),t){var i=nt(e,mi);n.__reactInternalMemoizedMergedChildContext=i,Je(hi,e),Je(pi,e),Xe(pi,i,e)}else Je(hi,e);Xe(hi,t,e)}function ot(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function at(e,t,n){var r=e.alternate;return null===r?(r=new ot(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var i=void 0,o=e.type,a=e.key;return"function"===typeof o?(i=o.prototype&&o.prototype.isReactComponent?new ot(2,a,t):new ot(0,a,t),i.type=o,i.pendingProps=e.props):"string"===typeof o?(i=new ot(5,a,t),i.type=o,i.pendingProps=e.props):"object"===typeof o&&null!==o&&"number"===typeof o.tag?(i=o,i.pendingProps=e.props):r("130",null==o?o:typeof o,""),i.expirationTime=n,i}function ut(e,t,n,r){return t=new ot(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function ct(e,t,n){return t=new ot(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function lt(e,t,n){return t=new ot(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function ft(e,t,n){return e=new ot(9,null,t),e.expirationTime=n,e}function dt(e,t,n){return t=new ot(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pt(e){return function(t){try{return e(t)}catch(e){}}}function ht(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);gi=pt(function(e){return t.onCommitFiberRoot(n,e)}),vi=pt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function mt(e){"function"===typeof gi&&gi(e)}function gt(e){"function"===typeof vi&&vi(e)}function vt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function yt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function bt(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=vt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=vt(null)):e=null,e=e!==r?e:null,null===e?yt(r,t):null===r.last||null===e.last?(yt(r,t),yt(e,t)):(yt(r,t),e.last=t)}function _t(e,t,n,r){return e=e.partialState,"function"===typeof e?e.call(t,n,r):e}function wt(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var c=s.expirationTime;if(c>o){var l=n.expirationTime;(0===l||l>c)&&(n.expirationTime=c),u||(u=!0,n.baseState=e)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=_t(s,r,e,i),a=!0):(c=_t(s,r,e,i))&&(e=a?wn({},e,c):wn(e,c),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(c=n.callbackList,null===c&&(c=n.callbackList=[]),c.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),u||(n.baseState=e),e}function xt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],o=i.callback;i.callback=null,"function"!==typeof o&&r("191",o),o.call(t)}}function St(e,t,n,i){function o(e,t){t.updater=a,e.stateNode=t,t._reactInternalFiber=e}var a={isMounted:Se,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);bt(n,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);bt(n,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=t(n);bt(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(e,t){var n=e.type,r=$e(e),i=2===e.tag&&null!=e.type.contextTypes,a=i?Qe(e,r):Tn;return t=new n(t,a),o(e,t),i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,o=i.state||null,s=e.pendingProps;s||r("158");var u=$e(e);i.props=s,i.state=e.memoizedState=o,i.refs=Tn,i.context=Qe(e,u),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"===typeof i.componentWillMount&&(o=i.state,i.componentWillMount(),o!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(i.state=wt(n,e,o,i,s,t))),"function"===typeof i.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,o){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,c=t.pendingProps;c||null==(c=u)&&r("159");var l=s.context,f=$e(t);if(f=Qe(t,f),"function"!==typeof s.componentWillReceiveProps||u===c&&l===f||(l=s.state,s.componentWillReceiveProps(c,f),s.state!==l&&a.enqueueReplaceState(s,s.state,null)),l=t.memoizedState,o=null!==t.updateQueue?wt(e,t,t.updateQueue,s,c,o):l,!(u!==c||l!==o||hi.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),!1;var d=c;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)d=!0;else{var p=t.stateNode,h=t.type;d="function"===typeof p.shouldComponentUpdate?p.shouldComponentUpdate(d,o,f):!h.prototype||!h.prototype.isPureReactComponent||(!On(u,d)||!On(l,o))}return d?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(c,o,f),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),n(t,c),i(t,o)),s.props=c,s.state=o,s.context=f,d}}}function Et(e){return null===e||"undefined"===typeof e?null:(e=Ei&&e[Ei]||e["@@iterator"],"function"===typeof e?e:null)}function Ot(e,t){var n=t.ref;if(null!==n&&"function"!==typeof n){if(t._owner){t=t._owner;var i=void 0;t&&(2!==t.tag&&r("110"),i=t.stateNode),i||r("147",n);var o=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(e){var t=i.refs===Tn?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},e._stringRef=o,e)}"string"!==typeof n&&r("148"),t._owner||r("149",n)}return n}function kt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ct(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=at(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=ct(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=o(t,n.props,r),r.ref=Ot(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=Ot(t,n),r.return=e,r)}function l(e,t,n,r){return null===t||7!==t.tag?(t=lt(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function f(e,t,n,r){return null===t||9!==t.tag?(t=ft(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=o(t,null,r),t.type=n.value,t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=dt(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function p(e,t,n,r,i){return null===t||10!==t.tag?(t=ut(n,e.internalContextTag,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=ct(""+t,e.internalContextTag,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case bi:return t.type===Si?(t=ut(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=Ot(null,t),n.return=e,n);case _i:return t=lt(t,e.internalContextTag,n),t.return=e,t;case wi:return n=ft(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case xi:return t=dt(t,e.internalContextTag,n),t.return=e,t}if(Oi(t)||Et(t))return t=ut(t,e.internalContextTag,n,null),t.return=e,t;kt(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===Si?p(e,t,n.props.children,r,i):c(e,t,n,r):null;case _i:return n.key===i?l(e,t,n,r):null;case wi:return null===i?f(e,t,n,r):null;case xi:return n.key===i?d(e,t,n,r):null}if(Oi(n)||Et(n))return null!==i?null:p(e,t,n,r,null);kt(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bi:return e=e.get(null===r.key?n:r.key)||null,r.type===Si?p(t,e,r.props.children,i,r.key):c(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i);case wi:return e=e.get(n)||null,f(t,e,r,i);case xi:return e=e.get(null===r.key?n:r.key)||null,d(t,e,r,i)}if(Oi(r)||Et(r))return e=e.get(n)||null,p(t,e,r,i,null);kt(t,r)}return null}function v(r,o,s,u){for(var c=null,l=null,f=o,d=o=0,p=null;null!==f&&d<s.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var v=m(r,f,s[d],u);if(null===v){null===f&&(f=p);break}e&&f&&null===v.alternate&&t(r,f),o=a(v,o,d),null===l?c=v:l.sibling=v,l=v,f=p}if(d===s.length)return n(r,f),c;if(null===f){for(;d<s.length;d++)(f=h(r,s[d],u))&&(o=a(f,o,d),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(r,f);d<s.length;d++)(p=g(f,r,d,s[d],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),o=a(p,o,d),null===l?c=p:l.sibling=p,l=p);return e&&f.forEach(function(e){return t(r,e)}),c}function y(o,s,u,c){var l=Et(u);"function"!==typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var f=l=null,d=s,p=s=0,v=null,y=u.next();null!==d&&!y.done;p++,y=u.next()){d.index>p?(v=d,d=null):v=d.sibling;var b=m(o,d,y.value,c);if(null===b){d||(d=v);break}e&&d&&null===b.alternate&&t(o,d),s=a(b,s,p),null===f?l=b:f.sibling=b,f=b,d=v}if(y.done)return n(o,d),l;if(null===d){for(;!y.done;p++,y=u.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,p),null===f?l=y:f.sibling=y,f=y);return l}for(d=i(o,d);!y.done;p++,y=u.next())null!==(y=g(d,o,p,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?p:y.key),s=a(y,s,p),null===f?l=y:f.sibling=y,f=y);return e&&d.forEach(function(e){return t(o,e)}),l}return function(e,i,a,u){"object"===typeof a&&null!==a&&a.type===Si&&null===a.key&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case bi:e:{var l=a.key;for(c=i;null!==c;){if(c.key===l){if(10===c.tag?a.type===Si:c.type===a.type){n(e,c.sibling),i=o(c,a.type===Si?a.props.children:a.props,u),i.ref=Ot(c,a),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===Si?(i=ut(a.props.children,e.internalContextTag,u,a.key),i.return=e,e=i):(u=st(a,e.internalContextTag,u),u.ref=Ot(i,a),u.return=e,e=u)}return s(e);case _i:e:{for(c=a.key;null!==i;){if(i.key===c){if(7===i.tag){n(e,i.sibling),i=o(i,a,u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=lt(a,e.internalContextTag,u),i.return=e,e=i}return s(e);case wi:e:{if(null!==i){if(9===i.tag){n(e,i.sibling),i=o(i,null,u),i.type=a.value,i.return=e,e=i;break e}n(e,i)}i=ft(a,e.internalContextTag,u),i.type=a.value,i.return=e,e=i}return s(e);case xi:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=dt(a,e.internalContextTag,u),i.return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a,u)):(n(e,i),i=ct(a,e.internalContextTag,u)),i.return=e,e=i,s(e);if(Oi(a))return v(e,i,a,u);if(Et(a))return y(e,i,a,u);if(c&&kt(e,a),"undefined"===typeof a)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function Tt(e,t,n,i,o){function a(e,t,n){var r=t.expirationTime;t.child=null===e?Ci(t,null,n,r):ki(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function u(e,t,n,r){if(s(e,t),!n)return r&&it(t,!1),l(e,t);n=t.stateNode,Hr.current=t;var i=n.render();return t.effectTag|=1,a(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&it(t,!0),t.child}function c(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),g(e,t.containerInfo)}function l(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=at(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=at(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function f(e,t){switch(t.tag){case 3:c(t);break;case 2:rt(t);break;case 4:g(t,t.stateNode.containerInfo)}return null}var d=e.shouldSetTextContent,p=e.useSyncScheduling,h=e.shouldDeprioritizeSubtree,m=t.pushHostContext,g=t.pushHostContainer,v=n.enterHydrationState,y=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;e=St(i,o,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,w=e.constructClassInstance,x=e.mountClassInstance,S=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return f(e,t);switch(t.tag){case 0:null!==e&&r("155");var i=t.type,o=t.pendingProps,E=$e(t);return E=Qe(t,E),i=i(o,E),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render?(t.tag=2,o=rt(t),_(t,i),x(t,n),t=u(e,t,!0,o)):(t.tag=1,a(e,t,i),t.memoizedProps=o,t=t.child),t;case 1:e:{if(o=t.type,n=t.pendingProps,i=t.memoizedProps,hi.current)null===n&&(n=i);else if(null===n||i===n){t=l(e,t);break e}i=$e(t),i=Qe(t,i),o=o(n,i),t.effectTag|=1,a(e,t,o),t.memoizedProps=n,t=t.child}return t;case 2:return o=rt(t),i=void 0,null===e?t.stateNode?r("153"):(w(t,t.pendingProps),x(t,n),i=!0):i=S(e,t,n),u(e,t,i,o);case 3:return c(t),o=t.updateQueue,null!==o?(i=t.memoizedState,o=wt(e,t,o,null,null,n),i===o?(y(),t=l(e,t)):(i=o.element,E=t.stateNode,(null===e||null===e.child)&&E.hydrate&&v(t)?(t.effectTag|=2,t.child=Ci(t,null,i,n)):(y(),a(e,t,i)),t.memoizedState=o,t=t.child)):(y(),t=l(e,t)),t;case 5:m(t),null===e&&b(t),o=t.type;var O=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=O)&&r("154"),E=null!==e?e.memoizedProps:null,hi.current||null!==i&&O!==i?(O=i.children,d(o,i)?O=null:E&&d(o,E)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!p&&h(o,i)?(t.expirationTime=2147483647,t=null):(a(e,t,O),t.memoizedProps=i,t=t.child)):t=l(e,t),t;case 6:return null===e&&b(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return o=t.pendingProps,hi.current?null===o&&null===(o=e&&e.memoizedProps)&&r("154"):null!==o&&t.memoizedProps!==o||(o=t.memoizedProps),i=o.children,t.stateNode=null===e?Ci(t,t.stateNode,i,n):ki(t,t.stateNode,i,n),t.memoizedProps=o,t.stateNode;case 9:return null;case 4:e:{if(g(t,t.stateNode.containerInfo),o=t.pendingProps,hi.current)null===o&&null==(o=e&&e.memoizedProps)&&r("154");else if(null===o||t.memoizedProps===o){t=l(e,t);break e}null===e?t.child=ki(t,null,o,n):a(e,t,o),t.memoizedProps=o,t=t.child}return t;case 10:e:{if(n=t.pendingProps,hi.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=l(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:c(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?f(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Ci(t,null,null,n):ki(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function Nt(e,t,n){function i(e){e.effectTag|=4}var o=e.createInstance,a=e.createTextInstance,s=e.appendInitialChild,u=e.finalizeInitialChildren,c=e.prepareUpdate,l=e.persistence,f=t.getRootHostContainer,d=t.popHostContext,p=t.getHostContext,h=t.popHostContainer,m=n.prepareToHydrateHostInstance,g=n.prepareToHydrateHostTextInstance,v=n.popHydrationState,y=void 0,b=void 0,_=void 0;return e.mutation?(y=function(){},b=function(e,t,n){(t.updateQueue=n)&&i(t)},_=function(e,t,n,r){n!==r&&i(t)}):r(l?"235":"236"),{completeWork:function(e,t,n){var l=t.pendingProps;switch(null===l?l=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return h(t),Je(hi,t),Je(pi,t),l=t.stateNode,l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==e&&null!==e.child||(v(t),t.effectTag&=-3),y(t),null;case 5:d(t),n=f();var w=t.type;if(null!==e&&null!=t.stateNode){var x=e.memoizedProps,S=t.stateNode,E=p();S=c(S,w,x,l,n,E),b(e,t,S,w,x,l,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!l)return null===t.stateNode&&r("166"),null;if(e=p(),v(t))m(t,n,e)&&i(t);else{e=o(w,l,n,e,t);e:for(x=t.child;null!==x;){if(5===x.tag||6===x.tag)s(e,x.stateNode);else if(4!==x.tag&&null!==x.child){x.child.return=x,x=x.child;continue}if(x===t)break;for(;null===x.sibling;){if(null===x.return||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u(e,w,l,n)&&i(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)_(e,t,e.memoizedProps,l);else{if("string"!==typeof l)return null===t.stateNode&&r("166"),null;e=f(),n=p(),v(t)?g(t)&&i(t):t.stateNode=a(l,e,n,t)}return null;case 7:(l=t.memoizedProps)||r("165"),t.tag=8,w=[];e:for((x=t.stateNode)&&(x.return=t);null!==x;){if(5===x.tag||6===x.tag||4===x.tag)r("247");else if(9===x.tag)w.push(x.type);else if(null!==x.child){x.child.return=x,x=x.child;continue}for(;null===x.sibling;){if(null===x.return||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}return x=l.handler,l=x(l.props,w),t.child=ki(t,null!==e?e.child:null,l,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return h(t),y(t),null;case 0:r("167");default:r("156")}}}}function At(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){switch("function"===typeof gt&&gt(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"===typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:o(e.stateNode);break;case 4:c&&s(e)}}function o(e){for(var t=e;;)if(i(t),null===t.child||c&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function a(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,a=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,s=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)o(t),s?b(a,t.stateNode):y(a,t.stateNode);else if(4===t.tag?a=t.stateNode.containerInfo:i(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var u=e.getPublicInstance,c=e.mutation;e=e.persistence,c||r(e?"235":"236");var l=c.commitMount,f=c.commitUpdate,d=c.resetTextContent,p=c.commitTextUpdate,h=c.appendChild,m=c.appendChildToContainer,g=c.insertBefore,v=c.insertInContainerBefore,y=c.removeChild,b=c.removeChildFromContainer;return{commitResetTextContent:function(e){d(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(a(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(d(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?i?v(t,o.stateNode,n):g(t,o.stateNode,n):i?m(t,o.stateNode):h(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&f(n,a,o,e,i,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,p(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t=t.updateQueue,null!==t&&xt(t,n);break;case 3:n=t.updateQueue,null!==n&&xt(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&l(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(u(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function It(e){function t(e){return e===Ti&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,o={current:Ti},a={current:Ti},s={current:Ti};return{getHostContext:function(){return t(o.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){Je(o,e),Je(a,e),Je(s,e)},popHostContext:function(e){a.current===e&&(Je(o,e),Je(a,e))},pushHostContainer:function(e,t){Xe(s,t,e),t=i(t),Xe(a,e,e),Xe(o,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(o.current);r=n(i,e.type,r),i!==r&&(Xe(a,e,e),Xe(o,r,e))},resetHostContainer:function(){o.current=Ti,s.current=Ti}}}function Mt(e){function t(e,t){var n=new ot(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;d=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,c=e.getFirstHydratableChild,l=e.hydrateInstance,f=e.hydrateTextInstance,d=null,p=null,h=!1;return{enterHydrationState:function(e){return p=c(e.stateNode.containerInfo),d=e,h=!0},resetHydrationState:function(){p=d=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=p;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=2,h=!1,void(d=e);t(d,p)}d=e,p=c(r)}else e.effectTag|=2,h=!1,d=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return f(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==d)return!1;if(!h)return i(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=p;n;)t(e,n),n=u(n);return i(e),p=d?u(e.stateNode):null,!0}}}function Rt(e){function t(e){oe=J=!0;var t=e.stateNode;if(t.current===e&&r("177"),t.isReadyForCommit=!1,Hr.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(V(),Z=n;null!==Z;){var i=!1,o=void 0;try{for(;null!==Z;){var a=Z.effectTag;if(16&a&&R(Z),128&a){var s=Z.alternate;null!==s&&B(s)}switch(-242&a){case 2:j(Z),Z.effectTag&=-3;break;case 6:j(Z),Z.effectTag&=-3,D(Z.alternate,Z);break;case 4:D(Z.alternate,Z);break;case 8:ae=!0,P(Z),ae=!1}Z=Z.nextEffect}}catch(e){i=!0,o=e}i&&(null===Z&&r("178"),u(Z,o),null!==Z&&(Z=Z.nextEffect))}for(Y(),t.current=e,Z=n;null!==Z;){n=!1,i=void 0;try{for(;null!==Z;){var c=Z.effectTag;if(36&c&&L(Z.alternate,Z),128&c&&U(Z),64&c)switch(o=Z,a=void 0,null!==ee&&(a=ee.get(o),ee.delete(o),null==a&&null!==o.alternate&&(o=o.alternate,a=ee.get(o),ee.delete(o))),null==a&&r("184"),o.tag){case 2:o.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===re&&(re=a.error);break;default:r("157")}var l=Z.nextEffect;Z.nextEffect=null,Z=l}}catch(e){n=!0,i=e}n&&(null===Z&&r("178"),u(Z,i),null!==Z&&(Z=Z.nextEffect))}return J=oe=!1,"function"===typeof mt&&mt(e.stateNode),ne&&(ne.forEach(m),ne=null),null!==re&&(e=re,re=null,S(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=M(e.alternate,e,Q),n=e.return,r=e.sibling,i=e;if(2147483647===Q||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var o=0;else o=i.updateQueue,o=null===o?0:o.expirationTime;for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function i(e){var t=A(e.alternate,e,Q);return null===t&&(t=n(e)),Hr.current=null,t}function o(e){var t=I(e.alternate,e,Q);return null===t&&(t=n(e)),Hr.current=null,t}function a(e){if(null!==ee){if(!(0===Q||Q>e))if(Q<=W)for(;null!==X;)X=c(X)?o(X):i(X);else for(;null!==X&&!x();)X=c(X)?o(X):i(X)}else if(!(0===Q||Q>e))if(Q<=W)for(;null!==X;)X=i(X);else for(;null!==X&&!x();)X=i(X)}function s(e,t){if(J&&r("243"),J=!0,e.isReadyForCommit=!1,e!==$||t!==Q||null===X){for(;-1<di;)fi[di]=null,di--;mi=Tn,pi.current=Tn,hi.current=!1,T(),$=e,Q=t,X=at($.current,null,t)}var n=!1,i=null;try{a(t)}catch(e){n=!0,i=e}for(;n;){if(ie){re=i;break}var s=X;if(null===s)ie=!0;else{var c=u(s,i);if(null===c&&r("183"),!ie){try{for(n=c,i=t,c=n;null!==s;){switch(s.tag){case 2:et(s);break;case 5:C(s);break;case 3:k(s);break;case 4:k(s)}if(s===c||s.alternate===c)break;s=s.return}X=o(n),a(i)}catch(e){n=!0,i=e;continue}break}}}return t=re,ie=J=!1,re=null,null!==t&&S(t),e.isReadyForCommit?e.current.alternate:null}function u(e,t){var n=Hr.current=null,r=!1,i=!1,o=null;if(3===e.tag)n=e,l(e)&&(ie=!0);else for(var a=e.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(r=!0,o=we(a),n=a,i=!0):3===a.tag&&(n=a),l(a)){if(ae||null!==ne&&(ne.has(a)||null!==a.alternate&&ne.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";a=e;do{e:switch(a.tag){case 0:case 1:case 2:case 5:var u=a._debugOwner,c=a._debugSource,f=we(a),d=null;u&&(d=we(u)),u=c,f="\n    in "+(f||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":d?" (created by "+d+")":"");break e;default:f=""}s+=f,a=a.return}while(a);a=s,e=we(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},ee.set(n,t);try{var p=t.error;p&&p.suppressReactErrorLogging||console.error(p)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return oe?(null===ne&&(ne=new Set),ne.add(n)):m(n),n}return null===re&&(re=t),null}function c(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function l(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function f(){return 20*(1+((g()+100)/20|0))}function d(e){return 0!==K?K:J?oe?1:Q:!q||1&e.internalContextTag?f():1}function p(e,t){return h(e,t,!1)}function h(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!J&&n===$&&t<Q&&(X=$=null,Q=0);var i=n,o=t;if(xe>_e&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=o,null===ue?(se=ue=i,i.nextScheduledRoot=i):(ue=ue.nextScheduledRoot=i,ue.nextScheduledRoot=se);else{var a=i.remainingExpirationTime;(0===a||o<a)&&(i.remainingExpirationTime=o)}fe||(ye?be&&(de=i,pe=1,w(de,pe)):1===o?_(1,null):v(o)),!J&&n===$&&t<Q&&(X=$=null,Q=0)}e=e.return}}function m(e){h(e,1,!0)}function g(){return W=2+((F()-G)/10|0)}function v(e){if(0!==ce){if(e>ce)return;z(le)}var t=F()-G;ce=e,le=H(b,{timeout:10*(e-2)-t})}function y(){var e=0,t=null;if(null!==ue)for(var n=ue,i=se;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===ue)&&r("244"),i===i.nextScheduledRoot){se=ue=i.nextScheduledRoot=null;break}if(i===se)se=o=i.nextScheduledRoot,ue.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===ue){ue=n,ue.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===ue)break;n=i,i=i.nextScheduledRoot}}n=de,null!==n&&n===t?xe++:xe=0,de=t,pe=e}function b(e){_(0,e)}function _(e,t){for(ve=t,y();null!==de&&0!==pe&&(0===e||pe<=e)&&!he;)w(de,pe),y();if(null!==ve&&(ce=0,le=-1),0!==pe&&v(pe),ve=null,he=!1,xe=0,me)throw e=ge,ge=null,me=!1,e}function w(e,n){if(fe&&r("245"),fe=!0,n<=g()){var i=e.finishedWork;null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(e.remainingExpirationTime=t(i)))}else i=e.finishedWork,null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(x()?e.finishedWork=i:e.remainingExpirationTime=t(i)));fe=!1}function x(){return!(null===ve||ve.timeRemaining()>Se)&&(he=!0)}function S(e){null===de&&r("246"),de.remainingExpirationTime=0,me||(me=!0,ge=e)}var E=It(e),O=Mt(e),k=E.popHostContainer,C=E.popHostContext,T=E.resetHostContainer,N=Tt(e,E,O,p,d),A=N.beginWork,I=N.beginFailedWork,M=Nt(e,E,O).completeWork;E=At(e,u);var R=E.commitResetTextContent,j=E.commitPlacement,P=E.commitDeletion,D=E.commitWork,L=E.commitLifeCycles,U=E.commitAttachRef,B=E.commitDetachRef,F=e.now,H=e.scheduleDeferredCallback,z=e.cancelDeferredCallback,q=e.useSyncScheduling,V=e.prepareForCommit,Y=e.resetAfterCommit,G=F(),W=2,K=0,J=!1,X=null,$=null,Q=0,Z=null,ee=null,te=null,ne=null,re=null,ie=!1,oe=!1,ae=!1,se=null,ue=null,ce=0,le=-1,fe=!1,de=null,pe=0,he=!1,me=!1,ge=null,ve=null,ye=!1,be=!1,_e=1e3,xe=0,Se=1;return{computeAsyncExpiration:f,computeExpirationForFiber:d,scheduleWork:p,batchedUpdates:function(e,t){var n=ye;ye=!0;try{return e(t)}finally{(ye=n)||fe||_(1,null)}},unbatchedUpdates:function(e){if(ye&&!be){be=!0;try{return e()}finally{be=!1}}return e()},flushSync:function(e){var t=ye;ye=!0;try{e:{var n=K;K=1;try{var i=e();break e}finally{K=n}i=void 0}return i}finally{ye=t,fe&&r("187"),_(1,null)}},deferredUpdates:function(e){var t=K;K=f();try{return e()}finally{K=t}}}}function jt(e){function t(e){return e=ke(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=Rt(e);var i=e.computeAsyncExpiration,o=e.computeExpirationForFiber,a=e.scheduleWork;return{createContainer:function(e,t){var n=new ot(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var u=t.current;if(n){n=n._reactInternalFiber;var c;e:{for(2===xe(n)&&2===n.tag||r("170"),c=n;3!==c.tag;){if(Ze(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}(c=c.return)||r("171")}c=c.stateNode.context}n=Ze(n)?nt(n,c):c}else n=Tn;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?i():o(u),bt(u,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(u,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Ce(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return ht(wn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Pt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:xi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dt(e){return!!Ki.hasOwnProperty(e)||!Wi.hasOwnProperty(e)&&(Gi.test(e)?Ki[e]=!0:(Wi[e]=!0,!1))}function Lt(e,t,n){var r=a(t);if(r&&o(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Bt(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Ut(e,t,o(t,n)?n:null)}function Ut(e,t,n){Dt(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function Bt(e,t){var n=a(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Ft(e,t){var n=t.value,r=t.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Ht(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function zt(e,t){null!=(t=t.checked)&&Lt(e,"checked",t)}function qt(e,t){zt(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function Vt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Yt(e){var t="";return bn.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function Gt(e,t){return e=wn({children:void 0},t),(t=Yt(t.children))&&(e.children=t),e}function Wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Kt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Jt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function $t(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Qt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Qi.hasOwnProperty(i)&&Qi[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function rn(e,t,n){t&&(eo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!==typeof t.style&&r("62",n()))}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Pe(e);t=Xn[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?Ie("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(Ie("topFocus","focus",e),Ie("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(ne("cancel",!0)&&Ie("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(ne("close",!0)&&Ie("topClose","close",e),n.topClose=!0):Jr.hasOwnProperty(i)&&Ae(i,Jr[i],e),n[i]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===to&&(r=Zt(e)),r===to?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function un(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function cn(e,t,n,r){var i=on(t,n);switch(t){case"iframe":case"object":Ae("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in ro)ro.hasOwnProperty(o)&&Ae(o,ro[o],e);o=n;break;case"source":Ae("topError","error",e),o=n;break;case"img":case"image":Ae("topError","error",e),Ae("topLoad","load",e),o=n;break;case"form":Ae("topReset","reset",e),Ae("topSubmit","submit",e),o=n;break;case"details":Ae("topToggle","toggle",e),o=n;break;case"input":Ht(e,n),o=Ft(e,n),Ae("topInvalid","invalid",e),an(r,"onChange");break;case"option":o=Gt(e,n);break;case"select":Kt(e,n),o=wn({},n,{value:void 0}),Ae("topInvalid","invalid",e),an(r,"onChange");break;case"textarea":Xt(e,n),o=Jt(e,n),Ae("topInvalid","invalid",e),an(r,"onChange");break;default:o=n}rn(t,o,no);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?nn(e,u,no):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&$i(e,u):"children"===a?"string"===typeof u?("textarea"!==t||""!==u)&&tn(e,u):"number"===typeof u&&tn(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Jn.hasOwnProperty(a)?null!=u&&an(r,a):i?Ut(e,a,u):null!=u&&Lt(e,a,u))}switch(t){case"input":oe(e),Vt(e,n);break;case"textarea":oe(e),Qt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Wt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Wt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=xn)}}function ln(e,t,n,r,i){var o=null;switch(t){case"input":n=Ft(e,n),r=Ft(e,r),o=[];break;case"option":n=Gt(e,n),r=Gt(e,r),o=[];break;case"select":n=wn({},n,{value:void 0}),r=wn({},r,{value:void 0}),o=[];break;case"textarea":n=Jt(e,n),r=Jt(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=xn)}rn(t,r,no);var a,s;e=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in t=n[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Jn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(t=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==t&&(null!=u||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(o||(o=[]),o.push(a,e)),e=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(o=o||[]).push(a,""+u)):"children"===a?t===u||"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Jn.hasOwnProperty(a)?(null!=u&&an(i,a),o||t===u||(o=[])):(o=o||[]).push(a,u))}return e&&(o=o||[]).push("style",e),o}function fn(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&zt(e,i),on(n,r),r=on(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?nn(e,s,no):"dangerouslySetInnerHTML"===a?$i(e,s):"children"===a?tn(e,s):r?null!=s?Ut(e,a,s):e.removeAttribute(a):null!=s?Lt(e,a,s):Bt(e,a)}switch(n){case"input":qt(e,i);break;case"textarea":$t(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Wt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Wt(e,!!i.multiple,i.defaultValue,!0):Wt(e,!!i.multiple,i.multiple?[]:"",!1))}}function dn(e,t,n,r,i){switch(t){case"iframe":case"object":Ae("topLoad","load",e);break;case"video":case"audio":for(var o in ro)ro.hasOwnProperty(o)&&Ae(o,ro[o],e);break;case"source":Ae("topError","error",e);break;case"img":case"image":Ae("topError","error",e),Ae("topLoad","load",e);break;case"form":Ae("topReset","reset",e),Ae("topSubmit","submit",e);break;case"details":Ae("topToggle","toggle",e);break;case"input":Ht(e,n),Ae("topInvalid","invalid",e),an(i,"onChange");break;case"select":Kt(e,n),Ae("topInvalid","invalid",e),an(i,"onChange");break;case"textarea":Xt(e,n),Ae("topInvalid","invalid",e),an(i,"onChange")}rn(t,n,no),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?e.textContent!==o&&(r=["children",o]):"number"===typeof o&&e.textContent!==""+o&&(r=["children",""+o]):Jn.hasOwnProperty(a)&&null!=o&&an(i,a));switch(t){case"input":oe(e),Vt(e,n);break;case"textarea":oe(e),Qt(e,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=xn)}return r}function pn(e,t){return e.nodeValue!==t}function hn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mn(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function gn(e,t,n,i,o){hn(n)||r("200");var a=n._reactRootContainer;if(a)so.updateContainer(t,a,e,o);else{if(!(i=i||mn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=so.createContainer(n,i);a=n._reactRootContainer=s,so.unbatchedUpdates(function(){so.updateContainer(t,s,e,o)})}return so.getPublicRootInstance(a)}function vn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return hn(t)||r("200"),Pt(e,t,null,n)}function yn(e,t){this._reactRootContainer=so.createContainer(e,t)}var bn=n(3),_n=n(102),wn=n(27),xn=n(23),Sn=n(103),En=n(104),On=n(105),kn=n(106),Cn=n(109),Tn=n(49);bn||r("227");var Nn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},An={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=An,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){In.hasOwnProperty(s)&&r("48",s);var u=s.toLowerCase(),c=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(c,t.MUST_USE_PROPERTY),hasBooleanValue:i(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(c,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",s),a.hasOwnProperty(s)&&(u.attributeName=a[s]),o.hasOwnProperty(s)&&(u.attributeNamespace=o[s]),e.hasOwnProperty(s)&&(u.mutationMethod=e[s]),In[s]=u}}},In={},Mn=An,Rn=Mn.MUST_USE_PROPERTY,jn=Mn.HAS_BOOLEAN_VALUE,Pn=Mn.HAS_NUMERIC_VALUE,Dn=Mn.HAS_POSITIVE_NUMERIC_VALUE,Ln=Mn.HAS_OVERLOADED_BOOLEAN_VALUE,Un=Mn.HAS_STRING_BOOLEAN_VALUE,Bn={Properties:{allowFullScreen:jn,async:jn,autoFocus:jn,autoPlay:jn,capture:Ln,checked:Rn|jn,cols:Dn,contentEditable:Un,controls:jn,default:jn,defer:jn,disabled:jn,download:Ln,draggable:Un,formNoValidate:jn,hidden:jn,loop:jn,multiple:Rn|jn,muted:Rn|jn,noValidate:jn,open:jn,playsInline:jn,readOnly:jn,required:jn,reversed:jn,rows:Dn,rowSpan:Pn,scoped:jn,seamless:jn,selected:Rn|jn,size:Dn,start:Pn,span:Dn,spellCheck:Un,style:0,tabIndex:0,itemScope:jn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Un},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Fn=Mn.HAS_STRING_BOOLEAN_VALUE,Hn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},zn={Properties:{autoReverse:Fn,externalResourcesRequired:Fn,preserveAlpha:Fn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Hn.xlink,xlinkArcrole:Hn.xlink,xlinkHref:Hn.xlink,xlinkRole:Hn.xlink,xlinkShow:Hn.xlink,xlinkTitle:Hn.xlink,xlinkType:Hn.xlink,xmlBase:Hn.xml,xmlLang:Hn.xml,xmlSpace:Hn.xml}},qn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(qn,s);zn.Properties[t]=0,zn.DOMAttributeNames[t]=e}),Mn.injectDOMPropertyConfig(Bn),Mn.injectDOMPropertyConfig(zn);var Vn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!==typeof e.invokeGuardedCallback&&r("197"),u=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,c){u.apply(Vn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(Vn.invokeGuardedCallback.apply(this,arguments),Vn.hasCaughtError()){var c=Vn.clearCaughtError();Vn._hasRethrowError||(Vn._hasRethrowError=!0,Vn._rethrowError=c)}},rethrowCaughtError:function(){return c.apply(Vn,arguments)},hasCaughtError:function(){return Vn._hasCaughtError},clearCaughtError:function(){if(Vn._hasCaughtError){var e=Vn._caughtError;return Vn._caughtError=null,Vn._hasCaughtError=!1,e}r("198")}},Yn=null,Gn={},Wn=[],Kn={},Jn={},Xn={},$n=Object.freeze({plugins:Wn,eventNameDispatchConfigs:Kn,registrationNameModules:Jn,registrationNameDependencies:Xn,possibleRegistrationNames:null,injectEventPluginOrder:d,injectEventPluginsByName:p}),Qn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:d,injectEventPluginsByName:p},rr=Object.freeze({injection:nr,getListener:_,extractEvents:w,enqueueEvents:x,processEventQueue:S}),ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(e,t){t[or]=e},getClosestInstanceFromNode:E,getInstanceFromNode:function(e){return e=e[or],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:O,getFiberCurrentPropsFromNode:k,updateFiberProps:function(e,t){e[ar]=t}}),ur=Object.freeze({accumulateTwoPhaseDispatches:j,accumulateTwoPhaseDispatchesSkipTarget:function(e){g(e,I)},accumulateEnterLeaveDispatches:P,accumulateDirectDispatches:function(e){g(e,R)}}),cr=null,lr={_root:null,_startText:null,_fallbackText:null},fr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),dr={type:null,target:null,currentTarget:xn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(B.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=xn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=xn.thatReturnsTrue)},persist:function(){this.isPersistent=xn.thatReturnsTrue},isPersistent:xn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<fr.length;t++)this[fr[t]]=null}}),B.Interface=dr,B.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;wn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=wn({},this.Interface,t),e.augmentClass=this.augmentClass,z(e)},z(B),B.augmentClass(q,{data:null}),B.augmentClass(V,{data:null});var pr=[9,13,27,32],hr=_n.canUseDOM&&"CompositionEvent"in window,mr=null;_n.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var gr;if(gr=_n.canUseDOM&&"TextEvent"in window&&!mr){var vr=window.opera;gr=!("object"===typeof vr&&"function"===typeof vr.version&&12>=parseInt(vr.version(),10))}var yr,br=gr,_r=_n.canUseDOM&&(!hr||mr&&8<mr&&11>=mr),wr=String.fromCharCode(32),xr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Sr=!1,Er=!1,Or={eventTypes:xr,extractEvents:function(e,t,n,r){var i;if(hr)e:{switch(e){case"topCompositionStart":var o=xr.compositionStart;break e;case"topCompositionEnd":o=xr.compositionEnd;break e;case"topCompositionUpdate":o=xr.compositionUpdate;break e}o=void 0}else Er?Y(e,n)&&(o=xr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=xr.compositionStart);return o?(_r&&(Er||o!==xr.compositionStart?o===xr.compositionEnd&&Er&&(i=L()):(lr._root=r,lr._startText=U(),Er=!0)),o=q.getPooled(o,t,n,r),i?o.data=i:null!==(i=G(n))&&(o.data=i),j(o),i=o):i=null,(e=br?W(e,n):K(e,n))?(t=V.getPooled(xr.beforeInput,t,n,r),t.data=e,j(t)):t=null,[i,t]}},kr=null,Cr=null,Tr=null,Nr={injectFiberControlledHostComponent:function(e){kr=e}},Ar=Object.freeze({injection:Nr,enqueueStateRestore:X,restoreStateIfNeeded:$}),Ir=!1,Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(yr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Rr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},jr=null,Pr=null,Dr=!1;_n.canUseDOM&&(Dr=ne("input")&&(!document.documentMode||9<document.documentMode));var Lr={eventTypes:Rr,_isInputEventSupported:Dr,extractEvents:function(e,t,n,r){var i=t?O(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=le;else if(ee(i))if(Dr)a=ge;else{a=he;var s=pe}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=me);if(a&&(a=a(e,t)))return se(a,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};B.augmentClass(ve,{view:null,detail:null});var Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};ve.augmentClass(_e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:be,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Fr={eventTypes:Br,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?E(t):null):e=null,e===t)return null;var o=null==e?i:O(e);i=null==t?i:O(t);var a=_e.getPooled(Br.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=_e.getPooled(Br.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,P(a,n,e,t),[a,n]}},Hr=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zr=[],qr=!0,Vr=void 0,Yr=Object.freeze({get _enabled(){return qr},get _handleTopLevel(){return Vr},setHandleTopLevel:function(e){Vr=e},setEnabled:Ne,isEnabled:function(){return qr},trapBubbledEvent:Ae,trapCapturedEvent:Ie,dispatchEvent:Me}),Gr={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionend:Re("Transition","TransitionEnd")},Wr={},Kr={};_n.canUseDOM&&(Kr=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);var Jr={topAbort:"abort",topAnimationEnd:je("animationend")||"animationend",topAnimationIteration:je("animationiteration")||"animationiteration",topAnimationStart:je("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:je("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Xr={},$r=0,Qr="_reactListenersID"+(""+Math.random()).slice(2),Zr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ti=null,ni=null,ri=null,ii=!1,oi={eventTypes:ei,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Pe(o),i=Xn.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?O(t):window,e){case"topFocus":(ee(o)||"true"===o.contentEditable)&&(ti=o,ni=t,ri=null);break;case"topBlur":ri=ni=ti=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,Be(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return Be(n,r)}return null}};B.augmentClass(Fe,{animationName:null,elapsedTime:null,pseudoElement:null}),B.augmentClass(He,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ve.augmentClass(ze,{relatedTarget:null});var ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};ve.augmentClass(Ve,{key:function(e){if(e.key){var t=ai[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=qe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:be,charCode:function(e){return"keypress"===e.type?qe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_e.augmentClass(Ye,{dataTransfer:null}),ve.augmentClass(Ge,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:be}),B.augmentClass(We,{propertyName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(Ke,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var ui={},ci={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},ui[e]=n,ci[t]=n});var li={eventTypes:ui,extractEvents:function(e,t,n,r){var i=ci[e];if(!i)return null;switch(e){case"topKeyPress":if(0===qe(n))return null;case"topKeyDown":case"topKeyUp":e=Ve;break;case"topBlur":case"topFocus":e=ze;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=_e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=Ye;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=Ge;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Fe;break;case"topTransitionEnd":e=We;break;case"topScroll":e=ve;break;case"topWheel":e=Ke;break;case"topCopy":case"topCut":case"topPaste":e=He;break;default:e=B}return t=e.getPooled(i,t,n,r),j(t),t}};Vr=function(e,t,n,r){e=w(e,t,n,r),x(e),S(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:li,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Lr,SelectEventPlugin:oi,BeforeInputEventPlugin:Or});var fi=[],di=-1;new Set;var pi={current:Tn},hi={current:!1},mi=Tn,gi=null,vi=null,yi="function"===typeof Symbol&&Symbol.for,bi=yi?Symbol.for("react.element"):60103,_i=yi?Symbol.for("react.call"):60104,wi=yi?Symbol.for("react.return"):60105,xi=yi?Symbol.for("react.portal"):60106,Si=yi?Symbol.for("react.fragment"):60107,Ei="function"===typeof Symbol&&Symbol.iterator,Oi=Array.isArray,ki=Ct(!0),Ci=Ct(!1),Ti={},Ni=Object.freeze({default:jt}),Ai=Ni&&jt||Ni,Ii=Ai.default?Ai.default:Ai,Mi="object"===typeof performance&&"function"===typeof performance.now,Ri=void 0;Ri=Mi?function(){return performance.now()}:function(){return Date.now()};var ji=void 0,Pi=void 0;if(_n.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Di,Li=null,Ui=!1,Bi=-1,Fi=!1,Hi=0,zi=33,qi=33;Di=Mi?{didTimeout:!1,timeRemaining:function(){var e=Hi-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Hi-Date.now();return 0<e?e:0}};var Vi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Vi){if(Ui=!1,e=Ri(),0>=Hi-e){if(!(-1!==Bi&&Bi<=e))return void(Fi||(Fi=!0,requestAnimationFrame(Yi)));Di.didTimeout=!0}else Di.didTimeout=!1;Bi=-1,e=Li,Li=null,null!==e&&e(Di)}},!1);var Yi=function(e){Fi=!1;var t=e-Hi+qi;t<qi&&zi<qi?(8>t&&(t=8),qi=t<zi?zi:t):zi=t,Hi=e+qi,Ui||(Ui=!0,window.postMessage(Vi,"*"))};ji=function(e,t){return Li=e,null!=t&&"number"===typeof t.timeout&&(Bi=Ri()+t.timeout),Fi||(Fi=!0,requestAnimationFrame(Yi)),0},Pi=function(){Li=null,Ui=!1,Bi=-1}}else ji=window.requestIdleCallback,Pi=window.cancelIdleCallback;else ji=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Pi=function(e){clearTimeout(e)};var Gi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wi={},Ki={},Ji={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Xi=void 0,$i=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Ji.svg||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Qi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(e){Zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qi[t]=Qi[e]})});var eo=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),to=Ji.html,no=xn.thatReturns(""),ro={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},io=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:cn,diffProperties:ln,updateProperties:fn,diffHydratedProperties:dn,diffHydratedText:pn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=k(i);o||r("90"),ae(i),qt(i,o)}}}break;case"textarea":$t(e,n);break;case"select":null!=(t=n.value)&&Wt(e,!!n.multiple,t,!1)}}});Nr.injectFiberControlledHostComponent(io);var oo=null,ao=null,so=Ii({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){oo=qr;var e=En();if(Ue(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,c=0,l=e,f=null;t:for(;;){for(var d;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(d=l.firstChild);)f=l,l=d;for(;;){if(l===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++c===n&&(s=o),null!==(d=l.nextSibling))break;l=f,f=l.parentNode}l=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;ao={focusedElem:e,selectionRange:t},Ne(!1)},resetAfterCommit:function(){var e=ao,t=En(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&kn(document.documentElement,n)){if(Ue(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[D()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=Le(n,e);var o=Le(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(Cn(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}ao=null,Ne(oo),oo=null},createInstance:function(e,t,n,r,i){return e=sn(e,t,n,r),e[or]=i,e[ar]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){cn(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return ln(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=un(e,t),e[or]=r,e},now:Ri,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){e[ar]=i,fn(e,t,n,r,i)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[or]=o,e[ar]=n,dn(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[or]=n,pn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:ji,cancelDeferredCallback:Pi,useSyncScheduling:!0});Q=so.batchedUpdates,yn.prototype.render=function(e,t){so.updateContainer(e,this._reactRootContainer,null,t)},yn.prototype.unmount=function(e){so.updateContainer(null,this._reactRootContainer,null,e)};var uo={createPortal:vn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return so.findHostInstance(t);"function"===typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return gn(null,e,t,!0,n)},render:function(e,t,n){return gn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),gn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return hn(e)||r("40"),!!e._reactRootContainer&&(so.unbatchedUpdates(function(){gn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:vn,unstable_batchedUpdates:Z,unstable_deferredUpdates:so.deferredUpdates,flushSync:so.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:$n,EventPropagators:ur,ReactControlledComponent:Ar,ReactDOMComponentTree:sr,ReactDOMEventListener:Yr}};so.injectIntoDevTools({findFiberByHostInstance:E,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var co=Object.freeze({default:uo}),lo=co&&uo||co;e.exports=lo.default?lo.default:lo},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(23),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(107);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(108);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),u=n(112),c=(n.n(u),n(113)),l=n(365),f=n(373),d=n(374),p=n(89),h=n.n(p),m=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();h.a.setAppElement("#root"),h.a.portalClassName="modal-portal";var v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fossil=new c.a({onState:function(e){return n.setState(e)}}),n.state=n.fossil,n}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this.fossil.start()}},{key:"activateConversation",value:function(e){var t=e.split("/",2),n=m(t,2),r=n[0],i=n[1],o=void 0===i?"":i;"contact"===r&&this.fossil.activateContact(o)}},{key:"getWindow",value:function(){var e=this;if(this.fossil.loggedIn){var t=this.fossil.activeContact;return s.a.createElement("div",{className:"chat-state"+(this.fossil.windowState.seeChat?" see-chat":"")},s.a.createElement(d.a,{fossil:this.fossil,onSelect:function(t){return e.activateConversation(t)},conversations:this.state.conversations,active:t?t.jid:null}),s.a.createElement("div",{className:"window"},t?s.a.createElement(l.a,{key:t.jid.toString(),owner:this.fossil.jid,fossil:this.fossil,contact:t}):null))}return s.a.createElement(f.a,{fossil:this.fossil})}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},this.getWindow())}}]),t}(a.Component);t.a=v},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return f});var i=n(11),o=n.n(i),a=n(87),s=n(357),u=n(358),c=n(364),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(t){var n=this,i=t.onState,o=t.storage,a=void 0===o?new c.b:o;r(this,e),window.fossil=this,this.storage=a,this.onState=i,this.jid=null,this.createClient(),this.roster=new u.a({storage:this.storage,onState:function(){return n.onState(n)},client:this.client}),this.booted=!1,this._loggedIn=!1,this.activeContact=null,this.windowState={seeChat:!1},this.conversations=[]}return l(e,[{key:"setResource",value:function(e){this.storage.setResource(e),this.createClient()}},{key:"createClient",value:function(){var e=this;this.client&&this.client.disconnect(),this.client=o.a.createClient({useStreamManagement:!0,softwareVersion:{name:"Fossil",version:"v0.1.0",os:"Web"},resource:this.storage.getResource()}),this.client.use(a.c),this.client.use(s.a),this.client.createOmemo(new c.a(this.storage.store)),this.client.on("session:started",function(){return e.boot()}),this.client.on("message",function(t){return e.handleMessage(t)}),this.client.on("carbon:sent",function(t){return e.handleMessage(t.carbonSent.forwarded.message)}),this.client.on("message:sent",function(t){return e.handleMessage(t)})}},{key:"handleMessage",value:function(e){var t=e.to.bare;this.client.jid.bare===t&&(t=e.from.bare);var n=this.findContact(t);n&&(n.timeline.indexMessage(new Date,e),this.onState(this))}},{key:"findContact",value:function(e){return e?this.roster.contacts.find(function(t){return t.jid.toString()===e.toString()}):null}},{key:"indexConversation",value:function(e){e.getId()in this.conversationsById||(this.conversations.push(e),this.conversationsById[e.getId()]=e,this.storage.setConversations(this.conversations))}},{key:"start",value:function(){this.storage.hasUser()&&(this.loggedIn=!0,this.jid=new i.JID(this.storage.getUser().jid),this.client.connect(this.storage.getUser())),this.conversations=this.storage.getConversations(this),this.conversationsById=this.conversations.reduce(function(e,t){return e[t.getId()]=t,e},{}),this.activateContact(this.storage.getActiveContact())}},{key:"boot",value:function(){this.booted||(this.loggedIn=!0,this.booted=!0,this.jid=this.client.jid,this.client.sendPresence(),this.client.enableCarbons(),this.roster.boot(),this.client.omemo.start())}},{key:"activateContact",value:function(e){this.activeContact=this.findContact(e),this.storage.setActiveContact(e),this.windowState.seeChat=!!e,this.onState(this)}},{key:"loggedIn",get:function(){return this._loggedIn},set:function(e){this._loggedIn=e,this.onState(this)}}]),e}()},function(e,t,n){"use strict";var r=n(115);t.available=!1,t.toUnicode=r.toUnicode,t.nameprep=function(e){return e.toLowerCase()},t.nodeprep=function(e){return e.toLowerCase()},t.resourceprep=function(e){return e}},function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(M[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(I,"."),r+s(e.split("."),t).join(".")}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=P(e>>>10&1023|55296),e=56320|1023&e),t+=P(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?j(e/O):e>>1,e+=j(e/t);e>R*S>>1;r+=w)e=j(e/R);return j(r+(R+1)*e/(e+E))}function h(e){var t,n,r,i,o,s,u,c,d,h,m=[],g=e.length,v=0,y=C,b=k;for(n=e.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,u=w;i>=g&&a("invalid-input"),c=f(e.charCodeAt(i++)),(c>=w||c>j((_-v)/s))&&a("overflow"),v+=c*s,d=u<=b?x:u>=b+S?S:u-b,!(c<d);u+=w)h=w-d,s>j(_/h)&&a("overflow"),s*=h;t=m.length+1,b=p(v-o,t,0==o),j(v/t)>_-y&&a("overflow"),y+=j(v/t),v%=t,m.splice(v++,0,y)}return l(m)}function m(e){var t,n,r,i,o,s,u,l,f,h,m,g,v,y,b,E=[];for(e=c(e),g=e.length,t=C,n=0,o=k,s=0;s<g;++s)(m=e[s])<128&&E.push(P(m));for(r=i=E.length,i&&E.push(T);r<g;){for(u=_,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(v=r+1,u-t>j((_-n)/v)&&a("overflow"),n+=(u-t)*v,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>_&&a("overflow"),m==t){for(l=n,f=w;h=f<=o?x:f>=o+S?S:f-o,!(l<h);f+=w)b=l-h,y=w-h,E.push(P(d(h+b%y,0))),l=j(b/y);E.push(P(d(l,0))),o=p(n,v,r==i),n=0,++r}++n,++t}return E.join("")}function g(e){return u(e,function(e){return N.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return u(e,function(e){return A.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var b,_=2147483647,w=36,x=1,S=26,E=38,O=700,k=72,C=128,T="-",N=/^xn--/,A=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=w-x,j=Math.floor,P=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:c,encode:l},decode:h,encode:m,toASCII:v,toUnicode:g},void 0!==(i=function(){return b}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(6)(e),n(2))},function(e,t,n){"use strict";function r(e,t,n){var r;return Promise.race([e,new Promise(function(e,i){r=setTimeout(function(){i({id:t,type:"error",error:{condition:"timeout"}})},n)})]).then(function(e){return clearTimeout(r),e})}function i(e){var t=this;c.call(this),e=e||{},this._initConfig(e),this.stanzas=u.getGlobalJXT(),this.jid=new d,this.stanzas=u.createRegistry(),this.stanzas.use(n(177)),this.stanzas.use(n(185)),this.use(n(278)),this.use(n(279)),this.use(n(280)),this.use(n(281)),this.use(n(282)),this.sm=new p(this),this.transports={},this.on("stream:data",function(e){var n=e.toJSON();if("iq"===e._name&&(n._xmlChildCount=0,o(e.xml.childNodes,function(e){1===e.nodeType&&(n._xmlChildCount+=1)})),t.emit(e._eventname||e._name,n),"message"===e._name||"presence"===e._name||"iq"===e._name)t.sm.handle(n),t.emit("stanza",n);else{if("smAck"===e._name)return t.sm.process(n);if("smRequest"===e._name)return t.sm.ack()}n.id&&(t.emit("id:"+n.id,n),t.emit(e._name+":id:"+n.id,n))}),this.on("disconnected",function(){t.transport&&(t.transport.off("*"),delete t.transport),t.releaseGroup("connection")}),this.on("auth:success",function(){t.transport&&(t.transport.authenticated=!0)}),this.on("iq",function(e){var n=e.type,r=e._xmlChildCount;delete e._xmlChildCount;var i=Object.keys(e).filter(function(e){return"id"!==e&&"to"!==e&&"from"!==e&&"lang"!==e&&"type"!==e&&"errorReply"!==e&&"resultReply"!==e});if("get"===e.type||"set"===e.type){if(1!==r)return t.sendIq(e.errorReply({error:{type:"modify",condition:"bad-request"}}));if(!i.length)return t.sendIq(e.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}));var o="iq:"+n+":"+i[0];t.callbacks[o]?t.emit(o,e):t.sendIq(e.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}}),this.on("message",function(e){Object.keys(e.$body||{}).length&&("chat"===e.type||"normal"===e.type?t.emit("chat",e):"groupchat"===e.type&&t.emit("groupchat",e)),"error"===e.type&&t.emit("message:error",e)}),this.on("presence",function(e){var n=e.type||"available";"error"===n&&(n="presence:error"),t.emit(n,e)})}var o=n(13),a=n(15),s=n(14),u=n(29),c=n(9),l=n(8),f=n(30),d=n(7).JID,p=n(137),h=n(138),m=n(146),g={external:n(148),"scram-sha-1":n(150),"digest-md5":n(170),"x-oauth2":n(171),plain:n(173),anonymous:n(175)};l.inherits(i,c),Object.defineProperty(i.prototype,"stream",{get:function(){return this.transport?this.transport.stream:void 0}}),i.prototype._initConfig=function(e){var t=this,n=this.config||{};this.config=a({useStreamManagement:!0,transports:["websocket","bosh"],sasl:["external","scram-sha-1","digest-md5","plain","anonymous"]},n,e),s(this.config.sasl)||(this.config.sasl=[this.config.sasl]),this.SASLFactory=new m,this.config.sasl.forEach(function(e){if("string"===typeof e){var n=g[e.toLowerCase()];n&&n.prototype&&n.prototype.name&&t.SASLFactory.use(n)}else t.SASLFactory.use(e)}),this.config.jid=new d(this.config.jid),this.config.server||(this.config.server=this.config.jid.domain),this.config.password&&(this.config.credentials=this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password),this.config.transport&&(this.config.transports=[this.config.transport]),s(this.config.transports)||(this.config.transports=[this.config.transports])},i.prototype.use=function(e){"function"===typeof e&&e(this,this.stanzas,this.config)},i.prototype.nextId=function(){return f.v4()},i.prototype.discoverBindings=function(e,t){h(e,function(e,n){if(e)return t(e,[]);var r={websocket:[],bosh:[]};(n.links||[]).forEach(function(e){e.href&&"urn:xmpp:alt-connections:websocket"===e.rel&&r.websocket.push(e.href),e.href&&"urn:xmpp:altconnect:websocket"===e.rel&&r.websocket.push(e.href),e.href&&"urn:xmpp:alt-connections:xbosh"===e.rel&&r.bosh.push(e.href),e.href&&"urn:xmpp:altconnect:bosh"===e.rel&&r.bosh.push(e.href)}),t(!1,r)})},i.prototype._getConfiguredCredentials=function(){var e=this.config.credentials||{},t=new d(this.config.jid),n=e.username||t.local,r=e.server||t.domain,i={username:n,password:this.config.password,server:r,host:r,realm:r,serviceType:"xmpp",serviceName:r};return a(i,e)},i.prototype.getCredentials=function(e){return e(null,this._getConfiguredCredentials())},i.prototype.connect=function(e,t){var r=this;if(this._initConfig(e),t||1!==r.config.transports.length||(t={},t.name=r.config.transports[0]),t&&t.name){"websocket"!==t.name&&"old-websocket"!==t.name||(this.use(n(283)),this.use(n(284))),"bosh"===t.name&&this.use(n(286));var i=r.transport=new r.transports[t.name](r.sm,r.stanzas);return i.on("*",function(e,t){r.emit(e,t)}),i.connect(r.config)}return r.discoverBindings(r.config.server,function(e,t){if(e)return console.error("Could not find https://"+r.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports."),r.disconnect();for(var n=0,i=r.config.transports.length;n<i;n++){var o=r.config.transports[n];console.log("Checking for %s endpoints",o);for(var a=0,s=(t[o]||[]).length;a<s;a++){var u=t[o][a];if(0===u.indexOf("wss://")||0===u.indexOf("https://"))return"websocket"===o?r.config.wsURL=u:r.config.boshURL=u,console.log("Using %s endpoint: %s",o,u),r.connect(null,{name:o,url:u});console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",o,u)}}return console.error("No endpoints found for the requested transports."),r.disconnect()})},i.prototype.disconnect=function(){this.sessionStarted&&(this.releaseGroup("session"),this.sm.started||this.emit("session:end")),this.sessionStarted=!1,this.releaseGroup("connection"),this.transport?this.transport.disconnect():this.emit("disconnected")},i.prototype.send=function(e){this.sm.track(e),this.transport&&this.transport.send(e)},i.prototype.sendMessage=function(e){e=e||{},e.id||(e.id=this.nextId());var t=this.stanzas.getMessage(),n=new t(e);return this.emit("message:sent",n.toJSON()),this.send(n),e.id},i.prototype.sendPresence=function(e){e=e||{},e.id||(e.id=this.nextId());var t=this.stanzas.getPresence();return this.send(new t(e)),e.id},i.prototype.sendIq=function(e,t){var n,i,o,a,s=this;e=e||{},e.id||(e.id=this.nextId());var u=this.stanzas.getIq(),c=e.toJSON?e:new u(e);return"error"===e.type||"result"===e.type?void this.send(c):(a=new d(e.to),o={},o[""]=!0,o[a.full]=!0,o[a.bare]=!0,o[a.domain]=!0,o[s.jid.bare]=!0,o[s.jid.domain]=!0,i="iq:id:"+e.id,n=new Promise(function(e,t){var n=function(r){o[r.from.full]&&("result"!==r.type&&"error"!==r.type||(s.off(i,n),r.error?t(r):e(r)))};s.on(i,"session",n)}),this.send(c),r(n,e.id,1e3*(s.config.timeout||15)).then(function(e){return t&&t(null,e),e},function(e){if(t)return t(e);throw e}))},i.prototype.sendStreamError=function(e){e=e||{};var t=this.stanzas.getStreamError(),n=new t(e);this.emit("stream:error",n.toJSON()),this.send(n),this.disconnect()},e.exports=i},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t){function n(e){return i(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||m.call(e)==l)}function r(e){return null!=e&&a(e.length)&&!o(e)}function i(e){return u(e)&&r(e)}function o(e){var t=s(e)?m.call(e):"";return t==f||t==d}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return!!e&&"object"==typeof e}var c=9007199254740991,l="[object Arguments]",f="[object Function]",d="[object GeneratorFunction]",p=Object.prototype,h=p.hasOwnProperty,m=p.toString,g=p.propertyIsEnumerable;e.exports=n},function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=n(120),o=n(18);e.exports=r},function(e,t){function n(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}e.exports=n},function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=a<3?void 0:s,a=1);++r<a;){var l=n[r];l&&e(t,l,s)}return t})}var i=n(28),o=n(53),a=n(122);e.exports=r},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",i=Math.max;e.exports=n},function(e,t,n){function r(e,t,n){var r=t&&n||0,l=t||[];e=e||{};var f=e.node||i,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=a();null==f&&(f=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-u+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>u)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,c=m,o=d,h+=122192928e5;var v=(1e4*(268435455&h)+m)%4294967296;l[r++]=v>>>24&255,l[r++]=v>>>16&255,l[r++]=v>>>8&255,l[r++]=255&v;var y=h/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=d>>>8|128,l[r++]=255&d;for(var b=0;b<6;++b)l[r+b]=f[b];return t||s(l)}var i,o,a=n(54),s=n(55),u=0,c=0;e.exports=r},function(e,t,n){"use strict";(function(e){var r=n(31),i=n(15),o=r.find,a=r.createElement,s=t.field=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return{get:function(){return e.apply(null,[this.xml].concat(n))},set:function(e){t.apply(null,[this.xml].concat(n).concat([e]))}}}};t.boolAttribute=s(r.getBoolAttribute,r.setBoolAttribute),t.subAttribute=s(r.getSubAttribute,r.setSubAttribute),t.boolSubAttribute=s(r.getSubBoolAttribute,r.setSubBoolAttribute),t.text=s(r.getText,r.setText),t.textSub=t.subText=s(r.getSubText,r.setSubText),t.multiTextSub=t.multiSubText=s(r.getMultiSubText,r.setMultiSubText),t.multiSubAttribute=s(r.getMultiSubAttribute,r.setMultiSubAttribute),t.langTextSub=t.subLangText=s(r.getSubLangText,r.setSubLangText),t.boolSub=s(r.getBoolSub,r.setBoolSub),t.langAttribute=s(function(e){return e.getAttributeNS(r.XML_NS,"lang")||""},function(e,t){e.setAttributeNS(r.XML_NS,"lang",t)}),t.b64Text=s(function(t){return t.textContent&&"="!==t.textContent?new e(t.textContent,"base64"):""},function(t,n){if("string"===typeof n){var r=new e(n).toString("base64");t.textContent=r||"="}else t.textContent=""}),t.dateAttribute=function(e,t){return{get:function(){var n=r.getAttribute(this.xml,e);return n?new Date(n):t?new Date(Date.now()):void 0},set:function(t){t&&("string"!==typeof t&&(t=t.toISOString()),r.setAttribute(this.xml,e,t))}}},t.dateSub=function(e,t,n){return{get:function(){var i=r.getSubText(this.xml,e,t);return i?new Date(i):n?new Date(Date.now()):void 0},set:function(n){n&&("string"!==typeof n&&(n=n.toISOString()),r.setSubText(this.xml,e,t,n))}}},t.dateSubAttribute=function(e,t,n,i){return{get:function(){var o=r.getSubAttribute(this.xml,e,t,n);return o?new Date(o):i?new Date(Date.now()):void 0},set:function(i){i&&("string"!==typeof i&&(i=i.toISOString()),r.setSubAttribute(this.xml,e,t,n,i))}}},t.numberAttribute=function(e,t,n){return{get:function(){var i=t?parseFloat:parseInt,o=r.getAttribute(this.xml,e,"");if(!o)return n;var a=i(o,10);return isNaN(a)?n:a},set:function(t){r.setAttribute(this.xml,e,t.toString())}}},t.numberSub=function(e,t,n,i){return{get:function(){var o=n?parseFloat:parseInt,a=r.getSubText(this.xml,e,t,"");if(!a)return i;var s=o(a,10);return isNaN(s)?i:s},set:function(n){r.setSubText(this.xml,e,t,n.toString())}}},t.attribute=function(e,t){return{get:function(){return r.getAttribute(this.xml,e,t)},set:function(t){r.setAttribute(this.xml,e,t)}}},t.attributeNS=function(e,t,n){return{get:function(){return r.getAttributeNS(this.xml,e,t,n)},set:function(n){r.setAttributeNS(this.xml,e,t,n)}}},t.extension=function(e){return{get:function(){var t=this,n=e.prototype._name;if(!this._extensions[n]){var r=o(this.xml,e.prototype._NS,e.prototype._EL);r.length?this._extensions[n]=new e(null,r[0],t):(this._extensions[n]=new e({},null,t),this.xml.appendChild(this._extensions[n].xml)),this._extensions[n].parent=this}return this._extensions[n]},set:function(t){if(t){var n=this[e.prototype._name];!0===t&&(t={}),i(n,t)}}}},t.multiExtension=function(e){return{get:function(){for(var t=this,n=o(this.xml,e.prototype._NS,e.prototype._EL),r=[],i=0,a=n.length;i<a;i++)r.push(new e({},n[i],t));return r},set:function(t){t=t||[];var n,r,i=this,a=o(this.xml,e.prototype._NS,e.prototype._EL);for(n=0,r=a.length;n<r;n++)i.xml.removeChild(a[n]);for(n=0,r=t.length;n<r;n++){var s=new e(t[n],null,i);i.xml.appendChild(s.xml)}}}},t.enumSub=function(e,t){return{get:function(){var n=this,r=[];return t.forEach(function(t){var i=o(n.xml,e,t);i.length&&r.push(i[0].nodeName)}),r[0]||""},set:function(n){var r=this,i=!1;if(t.forEach(function(t){var a=o(r.xml,e,t);a.length&&(t===n?i=!0:r.xml.removeChild(a[0]))}),n&&!i){var s=a(e,n);this.xml.appendChild(s)}}}},t.subExtension=function(e,t,n,r){return{get:function(){if(!this._extensions[e]){var i=o(this.xml,t,n);i.length?i=i[0]:(i=a(t,n,this._NS),this.xml.appendChild(i));var s=o(i,r.prototype._NS,r.prototype._EL);s.length?this._extensions[e]=new r(null,s[0],{xml:i}):(this._extensions[e]=new r({},null,{xml:i}),i.appendChild(this._extensions[e].xml)),this._extensions[e].parent=this}return this._extensions[e]},set:function(r){var a=o(this.xml,t,n);if(a.length&&!r&&this.xml.removeChild(a[0]),r){var s=this[e];!0===r&&(r={}),i(s,r)}}}},t.subMultiExtension=function(e,t,n){return{get:function(){var r=this,i=[],a=o(this.xml,e,t);return a.length?(a=a[0],o(a,n.prototype._NS,n.prototype._EL).forEach(function(e){i.push(new n({},e,r))}),i):i},set:function(r){var i=this,s=o(this.xml,e,t);s.length&&i.xml.removeChild(s[0]),r.length&&(s=a(e,t,this._NS),r.forEach(function(t){var r=new n(t,null,{xml:{namespaceURI:e}});s.appendChild(r.xml)}),i.xml.appendChild(s))}}}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0;t<n;t+=4)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],i+=c[t>>2],i+=c[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=c[t>>10],i+=c[t>>4&63],i+=c[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=u;for(var c=[],l=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)c[p]=d[p],l[d.charCodeAt(p)]=p;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},function(e,t,n){"use strict";var r=n(58),i=n(59),o=n(24),a=n(20),s=n(60),u=n(129),c=n(130),l=n(62),f=n(131),d=n(61),p=n(132);t=e.exports=function(){return c.apply(null,arguments)},t.Element=a,t.equal=s.equal,t.nameEqual=s.name,t.attrsEqual=s.attrs,t.childrenEqual=s.children,t.isNode=f.isNode,t.isElement=f.isElement,t.isText=f.isText,t.clone=d,t.createElement=u,t.escapeXML=o.escapeXML,t.unescapeXML=o.unescapeXML,t.escapeXMLText=o.escapeXMLText,t.unescapeXMLText=o.unescapeXMLText,t.Parser=i,t.parse=r,t.tag=c,t.tagString=l,t.stringify=p},function(e,t,n){"use strict";var r=n(1),i=n(19).EventEmitter,o=n(24).unescapeXML,a=e.exports=function(){i.call(this);var e,t,n,r,a,s,u,c=0,l=0;this._handleTagOpening=function(e,t,n){e?this.emit("endElement",t):(this.emit("startElement",t,n),a&&this.emit("endElement",t))},this.write=function(i){function f(){if("number"===typeof l){var e=i.slice(l,d);return l=void 0,e}}"string"!==typeof i&&(i=i.toString());var d=0;for(e&&(i=e+i,d+=e.length,e=null);d<i.length;d++){var p=i.charCodeAt(d);switch(c){case 0:if(60===p){var h=f();h&&this.emit("text",o(h)),c=3,l=d+1,n={}}break;case 9:if(93===p&&"]>"===i.substr(d+1,2)){var m=f();m&&this.emit("text",m),c=1}break;case 3:47===p&&l===d?(l=d+1,r=!0):33===p?"[CDATA["===i.substr(d+1,7)?(l=d+8,c=9):(l=void 0,c=1):63===p?(l=void 0,c=2):(p<=32||47===p||62===p)&&(t=f(),d--,c=4);break;case 1:if(62===p){var g=i.charCodeAt(d-1),v=i.charCodeAt(d-2);(45===g&&45===v||93===g&&93===v)&&(c=0)}break;case 2:if(62===p){63===i.charCodeAt(d-1)&&(c=0)}break;case 4:62===p?(this._handleTagOpening(r,t,n),t=void 0,n=void 0,r=void 0,a=void 0,c=0,l=d+1):47===p?a=!0:p>32&&(l=d,c=5);break;case 5:(p<=32||61===p)&&(u=f(),d--,c=6);break;case 6:61===p&&(c=7);break;case 7:34!==p&&39!==p||(s=p,c=8,l=d+1);break;case 8:if(p===s){var y=o(f());n[u]=y,u=void 0,c=4}}}"number"===typeof l&&l<=i.length&&(e=i.slice(l),l=0)}};r(a,i),a.prototype.end=function(e){e&&this.write(e),this.write=function(){}}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){for(var n=new r(e,t),i=2;i<arguments.length;i++){var o=arguments[i];o&&n.cnode(o)}return n}},function(e,t,n){"use strict";var r=n(62),i=n(58);e.exports=function(){return i(r.apply(null,arguments))}},function(e,t,n){"use strict";var r=n(20);e.exports.isNode=function(e){return e instanceof r||"string"===typeof e},e.exports.isElement=function(e){return e instanceof r},e.exports.isText=function(e){return"string"===typeof e}},function(e,t,n){"use strict";function r(e,t,n){"number"===typeof t&&(t=" ".repeat(t)),n||(n=1);var i="";return i+="<"+e.name,Object.keys(e.attrs).forEach(function(t){i+=" "+t+'="'+e.attrs[t]+'"'}),e.children.length?(i+=">",e.children.forEach(function(e,o){t&&(i+="\n"+t.repeat(n)),i+="string"===typeof e?e:r(e,t,n+1)}),t&&(i+="\n"+t.repeat(n-1)),i+="</"+e.name+">"):i+="/>",i}e.exports=r},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),this.nodeType=1,this.nodeName=this.localName}var i=n(1),o=n(20);i(r,o),r.prototype._getElement=function(e,t){return new r(e,t)},Object.defineProperty(r.prototype,"localName",{get:function(){return this.getName()}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return this.getNS()}}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return this.children}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.getText()},set:function(e){this.children.push(e)}}),r.prototype.getElementsByTagName=function(e){return this.getChildren(e)},r.prototype.getAttribute=function(e){return this.getAttr(e)},r.prototype.setAttribute=function(e,t){this.attr(e,t)},r.prototype.getAttributeNS=function(e,t){return"http://www.w3.org/XML/1998/namespace"===e?this.getAttr(["xml",t].join(":")):this.getAttr(t,e)},r.prototype.setAttributeNS=function(e,t,n){var r;if("http://www.w3.org/XML/1998/namespace"===e)r="xml";else{r=this.getXmlns()[e]||""}r&&this.attr([r,t].join(":"),n)},r.prototype.removeAttribute=function(e){this.attr(e,null)},r.prototype.removeAttributeNS=function(e,t){var n;if("http://www.w3.org/XML/1998/namespace"===e)n="xml";else{n=this.getXmlns()[e]||""}n&&this.attr([n,t].join(":"),null)},r.prototype.appendChild=function(e){this.cnode(e)},r.prototype.removeChild=function(e){this.remove(e)},r.createElement=function(e,t){var n=new r(e,t);return Array.prototype.slice.call(arguments,2).forEach(function(e){n.appendChild(e)}),n},e.exports=r},function(e,t,n){"use strict";var r=n(31),i=n(15),o={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};e.exports=function(e,t){function n(n,o,a){var s=this,u=(o||{}).parentNode||(a||{}).xml,c=(u||{}).namespaceURI;s.xml=o||r.createElement(s._NS,s._EL,c),Object.keys(s._PREFIXES).forEach(function(e){var t=s._PREFIXES[e];s.xml.setAttribute("xmlns:"+e,t)}),s._extensions={};for(var l=0,f=s.xml.childNodes.length;l<f;l++){var d=s.xml.childNodes[l],p=e.getDefinition(d.localName,d.namespaceURI);if(void 0!==p){var h=p.prototype._name;s._extensions[h]=new p(null,d),s._extensions[h].parent=s}}return i(s,n),t.init&&t.init.apply(s,[n]),s}return n.prototype._isJXT=!0,n.prototype._name=t.name,n.prototype._eventname=t.eventName,n.prototype._NS=t.namespace,n.prototype._EL=t.element||t.name,n.prototype._PREFIXES=t.prefixes||{},n.prototype._TAGS=t.tags||[],n.prototype.toString=function(){return this.xml.toString()},n.prototype.toJSON=function(){var t,n={};for(t in this._extensions)this._extensions[t].toJSON&&"_"!==t[0]&&(n[t]=this._extensions[t].toJSON());for(t in this){var r=!o[t]&&"_"!==t[0],i=e.getExtensions(this._EL,this._NS)[t];if(r&&!i){var a=this[t];if("function"===typeof a)continue;var s=Object.prototype.toString.call(a);if(s.indexOf("Object")>=0)Object.keys(a).length>0&&(a._isJXT?n[t]=a.toJSON():n[t]=a);else if(s.indexOf("Array")>=0){if(a.length>0){for(var u=[],c=a.length,l=0;l<c;l++){var f=a[l];"undefined"!==typeof f&&(f._isJXT?u.push(f.toJSON()):u.push(f))}n[t]=u}}else void 0!==a&&!1!==a&&""!==a&&(n[t]=a)}}return n},n}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){return(e%t+t)%t}function i(e){this.client=e,this.id=!1,this.allowResume=!0,this.started=!1,this.inboundStarted=!1,this.outboundStarted=!1,this.lastAck=0,this.handled=0,this.windowSize=1,this.unacked=[],this.pendingAck=!1;var t="urn:xmpp:sm:3";this.stanzas={Enable:e.stanzas.getDefinition("enable",t),Resume:e.stanzas.getDefinition("resume",t),Ack:e.stanzas.getDefinition("a",t),Request:e.stanzas.getDefinition("r",t)}}var o=Math.pow(2,32);i.prototype={constructor:{value:i},enable:function(){var e=new this.stanzas.Enable;e.resume=this.allowResume,this.client.send(e),this.handled=0,this.outboundStarted=!0},resume:function(){var e=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(e),this.outboundStarted=!0},enabled:function(e){this.id=e.id,this.handled=0,this.inboundStarted=!0},resumed:function(e){this.id=e.previd,e.h&&this.process(e,!0),this.inboundStarted=!0},failed:function(){this.inboundStarted=!1,this.outboundStarted=!1,this.id=!1,this.lastAck=0,this.handled=0,this.unacked=[]},ack:function(){this.client.send(new this.stanzas.Ack({h:this.handled}))},request:function(){this.pendingAck=!0,this.client.send(new this.stanzas.Request)},process:function(e,t){var n=this,i=r(e.h-this.lastAck,o);this.pendingAck=!1;for(var a=0;a<i&&this.unacked.length>0;a++)this.client.emit("stanza:acked",this.unacked.shift());if(this.lastAck=e.h,t){var s=this.unacked;this.unacked=[],s.forEach(function(e){n.client.send(e)})}this.needAck()&&this.request()},track:function(e){var t=e._name,n={message:!0,presence:!0,iq:!0};this.outboundStarted&&n[t]&&(this.unacked.push(e),this.needAck()&&this.request())},handle:function(){this.inboundStarted&&(this.handled=r(this.handled+1,o))},needAck:function(){return!this.pendingAck&&this.unacked.length>=this.windowSize}},Object.defineProperties(i.prototype,{started:{get:function(){return this.outboundStarted&&this.inboundStarted},set:function(e){e||(this.outboundStarted=!1,this.inboundStarted=!1)}}}),e.exports=i},function(e,t,n){"use strict";var r=n(25),i=n(64),o=n(29).createRegistry();o.use(n(145)),e.exports=function(e,t){"string"===typeof e&&(e={host:e});var n={ssl:!0,json:!0,xrd:!0};for(var a in e)n[a]=e[a];var s=n.ssl?"https://":"http://";r.parallel([function(e){i(s+n.host+"/.well-known/host-meta.json",function(t,n,r){if(t)return e(null);var i;try{i=JSON.parse(r)}catch(e){i=null}return e(i)})},function(e){i(s+n.host+"/.well-known/host-meta",function(t,n,r){if(t)return e(null);var i=o.parse(r);return e(i.toJSON())})}],function(e){e?t(null,e):t("no-host-meta")})}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(t,n(2),n(10))},function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(t,n(2))},function(e,t,n){var r=n(142),i=n(143),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));"undefined"===typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"===typeof e?o(e,t,n):a(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)c.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)c.call(e,r)&&t.call(n,e[r],r,e)}var s=n(65);e.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";var r=n(29),i="http://docs.oasis-open.org/ns/xri/xrd-1.0";e.exports=function(e){var t={get:function(){for(var e={},t=r.find(this.xml,i,"Property"),n=0,o=t.length;n<o;n++){var a=t[n];e[r.getAttribute(a,"type")]=a.textContent}return e}},n=e.define({name:"xrd",namespace:i,element:"XRD",fields:{subject:r.subText(i,"Subject"),expires:r.dateSub(i,"Expires"),aliases:r.multiSubText(i,"Alias"),properties:t}}),o=e.define({name:"_xrdlink",namespace:i,element:"Link",fields:{rel:r.attribute("rel"),href:r.attribute("href"),type:r.attribute("type"),template:r.attribute("template"),titles:r.subLangText(i,"Title","default"),properties:t}});return e.extend(n,o,"links"),n}},function(e,t,n){(function(e){!function(r,i){i(t,e,n(147))}(0,function(e,t,n){e=t.exports=n,e.Factory=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(n,r){r(t,e)}(0,function(e,t){function n(){this._mechs=[]}n.prototype.use=function(e,t){return t||(t=e,e=t.prototype.name),this._mechs.push({name:e,mech:t}),this},n.prototype.create=function(e){for(var t=0,n=this._mechs.length;t<n;t++)for(var r=0,i=e.length;r<i;r++){var o=this._mechs[t];if(o.name==e[r])return new o.mech}return null},t.exports=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(r,i){i(t,e,n(149))}(0,function(e,t,n){e=t.exports=n,e.Mechanism=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(n,r){r(t,e)}(0,function(e,t){function n(){}n.prototype.name="EXTERNAL",n.prototype.clientFirst=!0,n.prototype.response=function(e){return e.authzid||""},n.prototype.challenge=function(e){},t.exports=n})}).call(t,n(6)(e))},function(e,t,n){(function(t){function r(e){e=e||{},this._genNonce=e.genNonce||o.genNonce,this._stage="initial"}var i=n(151),o=n(169),a={};r.Mechanism=r,r.prototype.name="SCRAM-SHA-1",r.prototype.clientFirst=!0,r.prototype.response=function(e){return a[this._stage](this,e)},r.prototype.challenge=function(e){var n=o.parse(e);return this._salt=new t(n.s||"","base64"),this._iterationCount=parseInt(n.i,10),this._nonce=n.r,this._verifier=n.v,this._error=n.e,this._challenge=e,this},a.initial=function(e,t){e._cnonce=e._genNonce();var n="";t.authzid&&(n="a="+o.saslname(t.authzid)),e._gs2Header="n,"+n+",";var r="r="+e._cnonce,i="n="+o.saslname(t.username||"");e._clientFirstMessageBare=i+","+r;var a=e._gs2Header+e._clientFirstMessageBare;return e._stage="challenge",a},a.challenge=function(e,n){var r=new t(e._gs2Header).toString("base64");e._clientFinalMessageWithoutProof="c="+r+",r="+e._nonce;var o,a,s;n.salt&&0===t.compare(n.salt,e._salt)?n.clientKey&&n.serverKey?(a=n.clientKey,s=n.serverKey):n.saltedPassword&&(o=n.saltedPassword,a=i.HMAC(o,"Client Key"),s=i.HMAC(o,"Server Key")):(o=i.Hi(n.password||"",e._salt,e._iterationCount),a=i.HMAC(o,"Client Key"),s=i.HMAC(o,"Server Key"));var u=i.H(a),c=e._clientFirstMessageBare+","+e._challenge+","+e._clientFinalMessageWithoutProof,l=i.HMAC(u,c),f=i.XOR(a,l).toString("base64");e._serverSignature=i.HMAC(s,c);var d=e._clientFinalMessageWithoutProof+",p="+f;return e._stage="final",e.cache={salt:e._salt,saltedPassword:o,clientKey:a,serverKey:s},d},a.final=function(){return""},e.exports=r}).call(t,n(4).Buffer)},function(e,t,n){(function(e){var r=n(32),i=n(76),o=n(168);t.XOR=o,t.H=function(e){return r("sha1").update(e).digest()},t.HMAC=function(e,t){return i("sha1",e).update(t).digest()},t.Hi=function(n,r,i){for(var o=t.HMAC(n,e.concat([r,new e([0,0,0,1],"binary")])),a=o,s=0;s<i-1;s++)o=t.HMAC(n,o),a=t.XOR(a,o);return a}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";(function(t){function n(e){if(e.length%r!==0){var n=e.length+(r-e.length%r);e=t.concat([e,i],n)}for(var o=new Array(e.length>>>2),a=0,s=0;a<e.length;a+=r,s++)o[s]=e.readInt32LE(a);return o}var r=4,i=new t(r);i.fill(0);e.exports=function(e,r){var i=r(n(e),8*e.length);e=new t(16);for(var o=0;o<i.length;o++)e.writeInt32LE(i[o],o<<2,!0);return e}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){i.call(this),this._block=new t(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=n(68).Transform;n(1)(r,i),r.prototype._transform=function(e,n,r){var i=null;try{"buffer"!==n&&(e=new t(e,n)),this.update(e)}catch(e){i=e}r(i)},r.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},r.prototype.update=function(e,n){if(!t.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=new t(e,n||"binary"));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(e){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r}).call(t,n(4).Buffer)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(5).Buffer,a=n(156);e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(2))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(72),o=n(21);o.inherits=n(1),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(34)},function(e,t,n){e.exports=n(12)},function(e,t,n){e.exports=n(33).Transform},function(e,t,n){e.exports=n(33).PassThrough},function(e,t,n){function r(){this.init(),this._w=f,u.call(this,64,56)}function i(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function a(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var s=n(1),u=n(16),c=n(5).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);s(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,s=0|this._c,u=0|this._d,c=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var d=0;d<80;++d){var p=~~(d/20),h=i(n)+a(p,r,s,u)+c+t[d]+l[p]|0;c=u,u=s,s=o(r),r=n,n=h}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var e=c.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=d,c.call(this,64,56)}function i(e){return e<<1|e>>>31}function o(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function s(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var u=n(1),c=n(16),l=n(5).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);u(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,u=0|this._c,c=0|this._d,l=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=i(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var p=0;p<80;++p){var h=~~(p/20),m=o(n)+s(h,r,u,c)+l+t[p]+f[h]|0;l=c,c=u,u=a(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=u,a.call(this,64,56)}var i=n(1),o=n(74),a=n(16),s=n(5).Buffer,u=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=u,a.call(this,128,112)}var i=n(1),o=n(75),a=n(16),s=n(5).Buffer,u=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){a.call(this,"digest"),"string"===typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>u?t=e(t):t.length<u&&(t=o.concat([t,s],u));for(var n=this._ipad=o.allocUnsafe(u),r=this._opad=o.allocUnsafe(u),i=0;i<u;i++)n[i]=54^t[i],r[i]=92^t[i];this._hash=[n]}var i=n(1),o=n(5).Buffer,a=n(36),s=o.alloc(128),u=64;i(r,a),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=r},function(e,t,n){(function(t){function n(e,n){t.isBuffer(e)||(e=new t(e)),t.isBuffer(n)||(n=new t(n));var r=[];if(e.length>n.length)for(var i=0;i<n.length;i++)r.push(e[i]^n[i]);else for(var i=0;i<e.length;i++)r.push(e[i]^n[i]);return new t(r)}e.exports=n}).call(t,n(4).Buffer)},function(e,t,n){var r=n(37).randomBytes||n(37);t.parse=function(e){for(var t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/),r=0,i=n.length;r<i;r++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[r]);o&&(t[o[1]]=o[2])}return t},t.saslname=function(e){for(var t=[],n="",r=0;r<e.length;r++)n=e[r],","===n?t.push("=2C"):"="===n?t.push("=3D"):t.push(n);return t.join("")},t.genNonce=function(e){return r((e||32)/2).toString("hex")}},function(e,t,n){function r(e){for(var t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/),r=0,i=n.length;r<i;r++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[r]);o&&(t[o[1]]=o[2])}return t}function i(){return a(16).toString("hex")}function o(e){e=e||{},this._genNonce=e.genNonce||i}var a=n(37),s=n(32);o.Mechanism=o,o.prototype.name="DIGEST-MD5",o.prototype.clientFirst=!1,o.prototype.response=function(e){if(!this._completed){var t=e.serviceType+"/"+e.host;e.serviceName&&e.host!==e.serviceName&&(t+="/"+e.serviceName);var n=e.realm||this._realm||"",r=this._genNonce(),i="00000001",o="auth",a="";a+='username="'+e.username+'"',n&&(a+=',realm="'+n+'"'),a+=',nonce="'+this._nonce+'"',a+=',cnonce="'+r+'"',a+=",nc="+i,a+=",qop=auth",a+=',digest-uri="'+t+'"';var u=s("md5").update(e.username).update(":").update(n).update(":").update(e.password).digest(),c=s("md5").update(u).update(":").update(this._nonce).update(":").update(r);e.authzid&&c.update(":").update(e.authzid),c=c.digest("hex");var l=s("md5").update("AUTHENTICATE:").update(t);l=l.digest("hex");return a+=",response="+s("md5").update(c).update(":").update(this._nonce).update(":").update(i).update(":").update(r).update(":").update(o).update(":").update(l).digest("hex"),"utf-8"===this._charset&&(a+=",charset=utf-8"),e.authzid&&(a+='authzid="'+e.authzid+'"'),a}},o.prototype.challenge=function(e){var t=r(e);return this._completed=!!t.rspauth,this._realm=t.realm,this._nonce=t.nonce,this._qop=(t.qop||"auth").split(","),this._stale=t.stale,this._maxbuf=parseInt(t.maxbuf)||65536,this._charset=t.charset,this._algo=t.algorithm,this._cipher=t.cipher,this._cipher&&this._cipher.split(","),this},e.exports=o},function(e,t,n){(function(e){!function(r,i){i(t,e,n(172))}(0,function(e,t,n){e=t.exports=n,e.Mechanism=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(n,r){r(t,e)}(0,function(e,t){function n(){}n.prototype.name="X-OAUTH2",n.prototype.clientFirst=!0,n.prototype.response=function(e){var t="";return t+="\0",t+=e.username,t+="\0",t+=e.token},n.prototype.challenge=function(e){},t.exports=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(r,i){i(t,e,n(174))}(0,function(e,t,n){e=t.exports=n,e.Mechanism=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(n,r){r(t,e)}(0,function(e,t){function n(){}n.prototype.name="PLAIN",n.prototype.clientFirst=!0,n.prototype.response=function(e){var t="";return t+=e.authzid||"",t+="\0",t+=e.username,t+="\0",t+=e.password},n.prototype.challenge=function(e){return this},t.exports=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(r,i){i(t,e,n(176))}(0,function(e,t,n){e=t.exports=n,e.Mechanism=n})}).call(t,n(6)(e))},function(e,t,n){(function(e){!function(n,r){r(t,e)}(0,function(e,t){function n(){}n.prototype.name="ANONYMOUS",n.prototype.clientFirst=!0,n.prototype.response=function(e){return e.trace||""},n.prototype.challenge=function(e){},t.exports=n})}).call(t,n(6)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(178),o=r(i),a=n(184),s=r(a);t.default=function(e){e.use(s.default),e.use(o.default)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={client:r.Namespace.CLIENT,server:r.Namespace.SERVER,component:r.Namespace.COMPONENT};t.default=function(e){e.extendMessage=function(e,t){var n=this;this.withMessage(function(r){n.extend(r,e,t)})},e.extendPresence=function(e,t){var n=this;this.withPresence(function(r){n.extend(r,e,t)})},e.extendIQ=function(e,t){var n=this;this.withIQ(function(r){n.extend(r,e,t)})},e.extendStreamFeatures=function(e){var t=this;this.withStreamFeatures(function(n){t.extend(n,e)})},e.extendPubsubItem=function(e){var t=this;this.withPubsubItem(function(n){t.extend(n,e)})},e.withIQ=function(e){this.withDefinition("iq",r.Namespace.CLIENT,e),this.withDefinition("iq",r.Namespace.COMPONENT,e)},e.withMessage=function(e){this.withDefinition("message",r.Namespace.CLIENT,e),this.withDefinition("message",r.Namespace.COMPONENT,e)},e.withPresence=function(e){this.withDefinition("presence",r.Namespace.CLIENT,e),this.withDefinition("presence",r.Namespace.COMPONENT,e)},e.withStreamFeatures=function(e){this.withDefinition("features",r.Namespace.STREAM,e)},e.withStanzaError=function(e){this.withDefinition("error",r.Namespace.CLIENT,e),this.withDefinition("error",r.Namespace.COMPONENT,e)},e.withDataForm=function(e){this.withDefinition("x",r.Namespace.DATAFORM,e)},e.withPubsubItem=function(e){this.withDefinition("item",r.Namespace.PUBSUB,e),this.withDefinition("item",r.Namespace.PUBSUB_EVENT,e)},e.getMessage=function(){var e=void 0===arguments[0]?"client":arguments[0];return this.getDefinition("message",i[e])},e.getPresence=function(){var e=void 0===arguments[0]?"client":arguments[0];return this.getDefinition("presence",i[e])},e.getIQ=function(){var e=void 0===arguments[0]?"client":arguments[0];return this.getDefinition("iq",i[e])},e.getStreamError=function(){return this.getDefinition("error",r.Namespace.STREAM)},e.getIq=e.getIQ,e.withIq=e.withIQ},e.exports=t.default},function(e,t){e.exports={BIND:"urn:ietf:params:xml:ns:xmpp-bind",CLIENT:"jabber:client",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",SERVER:"jabber:server",SESSION:"urn:ietf:params:xml:ns:xmpp-session",STANZA_ERROR:"urn:ietf:params:xml:ns:xmpp-stanzas",STREAM:"http://etherx.jabber.org/streams",STREAM_ERROR:"urn:ietf:params:xml:ns:xmpp-streams",ROSTER:"jabber:iq:roster",ROSTER_VERSIONING:"urn:xmpp:features:rosterver",SUBSCRIPTION_PREAPPROVAL:"urn:xmpp:features:pre-approval",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",DATAFORM:"jabber:x:data",RPC:"jabber:iq:rpc",LAST_ACTIVITY:"jabber:iq:last",PRIVACY:"jabber:iq:privacy",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",ADDRESS:"http://jabber.org/protocol/address",MUC:"http://jabber.org/protocol/muc",MUC_ADMIN:"http://jabber.org/protocol/muc#admin",MUC_OWNER:"http://jabber.org/protocol/muc#owner",MUC_USER:"http://jabber.org/protocol/muc#user",IBB:"http://jabber.org/protocol/ibb",BOOKMARKS:"storage:bookmarks",PRIVATE:"jabber:iq:private",ADHOC_COMMANDS:"http://jabber.org/protocol/commands",VCARD_TEMP:"vcard-temp",SEARCH:"jabber:iq:search",RSM:"http://jabber.org/protocol/rsm",PUBSUB:"http://jabber.org/protocol/pubsub",PUBSUB_ERRORS:"http://jabber.org/protocol/pubsub#errors",PUBSUB_EVENT:"http://jabber.org/protocol/pubsub#event",PUBSUB_OWNER:"http://jabber.org/protocol/pubsub#owner",SOCKS5:"http://jabber.org/protocol/bytestreams",OOB_IQ:"jabber:iq:oob",OOB:"jabber:x:oob",HTTP_AUTH:"http://jabber.org/protocol/http-auth",XHTML_IM:"http://jabber.org/protocol/xhtml-im",REGISTER:"jabber:iq:register",AMP:"http://jabber.org/protocol/amp",GEOLOC:"http://jabber.org/protocol/geoloc",ROSTER_DELIMITER:"roster:delimiter",AVATAR_DATA:"urn:xmpp:avatar:data",AVATAR_METADATA:"urn:xmpp:avatar:metadata",CHAT_STATES:"http://jabber.org/protocol/chatstates",VERSION:"jabber:iq:version",MOOD:"http://jabber.org/protocol/mood",ACTIVITY:"http://jabber.org/protocol/activity",COMPONENT:"jabber:component:accept",CAPS:"http://jabber.org/protocol/caps",TUNE:"http://jabber.org/protocol/tune",DATAFORM_VALIDATION:"http://jabber.org/protocol/xdata-validate",BOSH:"http://jabber.org/protocol/httpbind",SHIM:"http://jabber.org/protocol/shim",COMPRESSION:"http://jabber.org/features/compress",DATAFORM_LAYOUT:"http://jabber.org/protocol/xdata-layout",ROSTER_EXCHANGE:"http://jabber.org/protocol/rosterx",ROSTER_NOTES:"storage:rosternotes",REACH_0:"urn:xmpp:reach:0",VCARD_TEMP_UPDATE:"vcard-temp:x:update",CAPTCHA:"urn:xmpp:captcha",JINGLE_1:"urn:xmpp:jingle:1",JINGLE_ERRORS_1:"urn:xmpp:jingle:errors:1",JINGLE_RTP_1:"urn:xmpp:jingle:apps:rtp:1",JINGLE_RTP_ERRORS_1:"urn:xmpp:jingle:apps:rtp:errors:1",JINGLE_RTP_INFO_1:"urn:xmpp:jingle:apps:rtp:info:1",LANG_TRANS:"urn:xmpp:langtrans",LANG_TRANS_ITEMS:"urn:xmpp:langtrans:items",NICK:"http://jabber.org/protocol/nick",JINGLE_ICE_UDP_1:"urn:xmpp:jingle:transports:ice-udp:1",JINGLE_RAW_UDP_1:"urn:xmpp:jingle:transports:raw-udp:1",RECEIPTS:"urn:xmpp:receipts",INVISIBLE_0:"urn:xmpp:invisible:0",BLOCKING:"urn:xmpp:blocking",SMACKS_3:"urn:xmpp:sm:3",PING:"urn:xmpp:ping",TIME:"urn:xmpp:time",DELAY:"urn:xmpp:delay",BOSH_XMPP:"urn:xmpp:xbosh",DISCO_EXTERNAL_1:"urn:xmpp:extdisco:1",DATAFORM_MEDIA:"urn:xmpp:media-element",ATTENTION_0:"urn:xmpp:attention:0",BOB:"urn:xmpp:bob",FILE_TRANSFER_3:"urn:xmpp:jingle:apps:file-transfer:3",FILE_TRANSFER_4:"urn:xmpp:jingle:apps:file-transfer:4",FILE_TRANSFER_5:"urn:xmpp:jingle:apps:file-transfer:5",MUC_DIRECT_INVITE:"jabber:x:conference",SEC_LABEL_0:"urn:xmpp:sec-label:0",SEC_LABEL_CATALOG_2:"urn:xmpp:sec-label:catalog:2",SEC_LABEL_ESS_0:"urn:xmpp:sec-label:ess:0",JINGLE_SOCKS5_1:"urn:xmpp:jingle:transports:s5b:1",JINGLE_IBB_1:"urn:xmpp:jingle:transports:ibb:1",JINGLE_RTP_ZRTP_1:"urn:xmpp:jingle:apps:rtp:zrtp:1",THUMBS_0:"urn:xmpp:thumbs:0",THUMBS_1:"urn:xmpp:thumbs:1",DECLOAKING_0:"urn:xmpp:decloaking:0",CARBONS_2:"urn:xmpp:carbons:2",JINGLE_RTP_RTCP_FB_0:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",JINGLE_RTP_HDREXT_0:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",FORWARD_0:"urn:xmpp:forward:0",HASHES_1:"urn:xmpp:hashes:1",RTT_0:"urn:xmpp:rtt:0",MUC_UNIQUE:"http://jabber.org/protocol/muc#unique",CORRECTION_0:"urn:xmpp:message-correct:0",PSA:"urn:xmpp:psa",MAM_TMP:"urn:xmpp:mam:tmp",MAM_0:"urn:xmpp:mam:0",MAM_1:"urn:xmpp:mam:1",MAM_2:"urn:xmpp:mam:2",HATS_0:"urn:xmpp:hats:0",IDLE_1:"urn:xmpp:idle:1",JINGLE_DTLS_0:"urn:xmpp:jingle:apps:dtls:0",JID_PREP_0:"urn:xmpp:jidprep:0",HINTS:"urn:xmpp:hints",JSON_0:"urn:xmpp:json:0",EVENTLOG:"urn:xmpp:eventlog",JINGLE_GROUPING_0:"urn:xmpp:jingle:apps:grouping:0",JINGLE_RTP_SSMA_0:"urn:xmpp:jingle:apps:rtp:ssma:0",COLIBRI:"http://jitsi.org/protocol/colibri",DTLS_SCTP_1:"urn:xmpp:jingle:transports:dtls-sctp:1",CSI:"urn:xmpp:csi",JINGLE_MSG_INITIATE_0:"urn:xmpp:jingle:jingle-message:0",PUSH_0:"urn:xmpp:push:0",JINGLE_PUB_1:"urn:xmpp:jinglepub:1",STANZA_ID_0:"urn:xmpp:sid:0",HTTP_UPLOAD_0:"urn:xmpp:http:upload:0",JINGLE_HTTP_0:"urn:xmpp:jingle:transports:http:0",JINGLE_HTTP_UPLOAD_0:"urn:xmpp:jingle:transports:http:upload:0",REFERENCE_0:"urn:xmpp:reference:0",SPOILER_0:"urn:xmppp:spoiler:0"}},function(e,t){e.exports={Status:{REALJID_PUBLIC:"100",AFFILIATION_CHANGED:"101",UNAVAILABLE_SHOWN:"102",UNAVAILABLE_NOT_SHOWN:"103",CONFIGURATION_CHANGED:"104",SELF_PRESENCE:"110",LOGGING_ENABLED:"170",LOGGING_DISABLED:"171",NON_ANONYMOUS:"172",SEMI_ANONYMOUS:"173",FULLY_ANONYMOUS:"174",ROOM_CREATED:"201",NICK_ASSIGNED:"210",BANNED:"301",NEW_NICK:"303",KICKED:"307",REMOVED_AFFILIATION:"321",REMOVED_MEMBERSHIP:"322",REMOVED_SHUTDOWN:"332"},Affiliation:{ADMIN:"admin",MEMBER:"member",NONE:"none",OUTCAST:"outcast",OWNER:"owner"},Role:{MODERATOR:"moderator",NONE:"none",PARTICIPANT:"participant",VISITOR:"visitor"}}},function(e,t){e.exports={Affiliation:{MEMBER:"member",NONE:"none",OUTCAST:"outcast",OWNER:"owner",PUBLISHER:"publisher",PUBLISH_ONLY:"publish-only"},Subscription:{NONE:"none",PENDING:"pending",UNCONFIGURED:"unconfigured",SUBSCRIBED:"subscribed"},AccessModel:{OPEN:"open",PRESENCE:"presence",ROSTER:"roster",AUTHORIZE:"authorize",WHITELIST:"whitelist"},Condition:{CONFLICT:"conflict"}}},function(e,t){e.exports={Action:{CONTENT_ACCEPT:"content-accept",CONTENT_ADD:"content-add",CONTENT_MODIFY:"content-modify",CONTENT_REJECT:"content-reject",CONTENT_REMOVE:"content-remove",DESCRIPTION_INFO:"description-info",SECURITY_INFO:"security-info",SESSION_ACCEPT:"session-accept",SESSION_INFO:"session-info",SESSION_INITIATE:"session-initiate",SESSION_TERMINATE:"session-terminate",TRANSPORT_ACCEPT:"transport-accept",TRANSPORT_INFO:"transport-info",TRANSPORT_REJECT:"transport-reject",TRANSPORT_REPLACE:"transport-replace"},Reason:{ALTERNATIVE_SESSION:"alernative-session",BUSY:"busy",CANCEL:"cancel",CONNECTIVITY_ERROR:"connectivity-error",DECLINE:"decline",EXPIRED:"expired",FAILED_APPLICATION:"failed-application",FAILED_TRANSPORT:"failed-transport",GENERAL_ERROR:"general-error",GONE:"gone",INCOMPATIBLE_PARAMETERS:"incompatible-parameters",MEDIA_ERROR:"media-error",SECURITY_ERROR:"security-error",SUCCESS:"success",TIMEOUT:"timeout",UNSUPPORTED_APPLICATIONS:"unsupported-applications",UNSUPPORTED_TRANSPORTS:"unsupported-transports"},Condition:{OUT_OF_ORDER:"out-of-order",TIE_BREAK:"tie-break",UNKNOWN_SESSION:"unknown-session",UNSUPPORTED_INFO:"unsupported-info"}}},function(e,t){e.exports={Type:{SUBSCRIBE:"subscribe",SUBSCRIBED:"subscribed",UNSUBSCRIBE:"unsubscribe",UNSUBSCRIBED:"unsubscribed",PROBE:"probe",UNAVAILABLE:"unavailable"},Show:{CHAT:"chat",AWAY:"away",DO_NOT_DISTURB:"dnd",EXTENDED_AWAY:"xa"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=function(e){var t=e.utils;t.jidAttribute=function(e,n){return{get:function(){var i=new r.JID(t.getAttribute(this.xml,e));return n&&(i.prepped=!0),i},set:function(n){t.setAttribute(this.xml,e,(n||"").toString())}}},t.jidSub=function(e,n,i){return{get:function(){var o=new r.JID(t.getSubText(this.xml,e,n));return i&&(o.prepped=!0),o},set:function(r){t.setSubText(this.xml,e,n,(r||"").toString())}}},t.tzoSub=t.field(function(e,n,r,i){var o=void 0,a=void 0,s=void 0,u=-1,c=t.getSubText(e,n,r);return c?("-"===c.charAt(0)&&(u=1,c=c.slice(1)),s=c.split(":"),o=parseInt(s[0],10),a=parseInt(s[1],10),(60*o+a)*u):i},function(e,n,r,i){var o=void 0,a=void 0,s="-";"number"===typeof i?(i<0&&(i=-i,s="+"),o=i/60,a=i%60,s+=(o<10?"0":"")+o+":"+(a<10?"0":"")+a):s=i,t.setSubText(e,n,r,s)})},e.exports=t.default},function(e,t,n){"use strict";var r=n(38).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(187),o=r(i),a=n(188),s=r(a),u=n(189),c=r(u),l=n(190),f=r(l),d=n(191),p=r(d),h=n(192),m=r(h),g=n(193),v=r(g),y=n(194),b=r(y),_=n(195),w=r(_),x=n(196),S=r(x),E=n(197),O=r(E),k=n(198),C=r(k),T=n(199),N=r(T),A=n(200),I=r(A),M=n(201),R=r(M),j=n(202),P=r(j),D=n(203),L=r(D),U=n(204),B=r(U),F=n(205),H=r(F),z=n(206),q=r(z),V=n(207),Y=r(V),G=n(208),W=r(G),K=n(209),J=r(K),X=n(210),$=r(X),Q=n(211),Z=r(Q),ee=n(240),te=r(ee),ne=n(241),re=r(ne),ie=n(242),oe=r(ie),ae=n(243),se=r(ae),ue=n(244),ce=r(ue),le=n(245),fe=r(le),de=n(246),pe=r(de),he=n(247),me=r(he),ge=n(248),ve=r(ge),ye=n(249),be=r(ye),_e=n(250),we=r(_e),xe=n(251),Se=r(xe),Ee=n(252),Oe=r(Ee),ke=n(253),Ce=r(ke),Te=n(254),Ne=r(Te),Ae=n(255),Ie=r(Ae),Me=n(256),Re=r(Me),je=n(257),Pe=r(je),De=n(258),Le=r(De),Ue=n(259),Be=r(Ue),Fe=n(260),He=r(Fe),ze=n(261),qe=r(ze),Ve=n(262),Ye=r(Ve),Ge=n(263),We=r(Ge),Ke=n(264),Je=r(Ke),Xe=n(265),$e=r(Xe),Qe=n(266),Ze=r(Qe),et=n(267),tt=r(et),nt=n(268),rt=r(nt),it=n(269),ot=r(it),at=n(270),st=r(at),ut=n(271),ct=r(ut),lt=n(272),ft=r(lt),dt=n(273),pt=r(dt),ht=n(274),mt=r(ht),gt=n(275),vt=r(gt),yt=n(276),bt=r(yt),_t=n(277),wt=r(_t);t.default=function(e){e.use(o.default),e.use(s.default),e.use(c.default),e.use(f.default),e.use(p.default),e.use(m.default),e.use(v.default),e.use(b.default),e.use(w.default),e.use(S.default),e.use(O.default),e.use(C.default),e.use(N.default),e.use(I.default),e.use(R.default),e.use(P.default),e.use(L.default),e.use(B.default),e.use(H.default),e.use(q.default),e.use(Y.default),e.use(W.default),e.use(J.default),e.use($.default),e.use(Z.default),e.use(te.default),e.use(re.default),e.use(oe.default),e.use(se.default),e.use(ce.default),e.use(fe.default),e.use(pe.default),e.use(me.default),e.use(ve.default),e.use(be.default),e.use(we.default),e.use(Se.default),e.use(Oe.default),e.use(Ce.default),e.use(Ne.default),e.use(Ie.default),e.use(Re.default),e.use(Pe.default),e.use(Le.default),e.use(Be.default),e.use(He.default),e.use(qe.default),e.use(Ye.default),e.use(We.default),e.use(Je.default),e.use($e.default),e.use(Ze.default),e.use(tt.default),e.use(rt.default),e.use(ot.default),e.use(st.default),e.use(ct.default),e.use(ft.default),e.use(pt.default),e.use(mt.default),e.use(vt.default),e.use(bt.default),e.use(wt.default)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"_address",namespace:r.Namespace.ADDRESS,element:"address",fields:{jid:t.jidAttribute("jid"),uri:t.attribute("uri"),node:t.attribute("node"),description:t.attribute("desc"),delivered:t.boolAttribute("delivered"),type:t.attribute("type")}}),i=t.subMultiExtension(r.Namespace.ADDRESS,"addresses",n);e.withMessage(function(t){e.add(t,"addresses",i)}),e.withPresence(function(t){e.add(t,"addresses",i)})},e.exports=t.default},function(e,t,n){"use strict";var r=n(38).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(13),a=r(o);t.default=function(e){var t=e.utils,n=e.define({name:"avatar",namespace:i.Namespace.AVATAR_METADATA,element:"info",fields:{id:t.attribute("id"),bytes:t.attribute("bytes"),height:t.attribute("height"),width:t.attribute("width"),type:t.attribute("type","image/png"),url:t.attribute("url")}}),r={get:function(){var e=t.find(this.xml,i.Namespace.AVATAR_METADATA,"metadata"),r=[];if(e.length){var o=t.find(e[0],i.Namespace.AVATAR_METADATA,"info");(0,a.default)(o,function(e){r.push(new n({},e))})}return r},set:function(e){var r=t.findOrCreate(this.xml,i.Namespace.AVATAR_METADATA,"metadata");t.setAttribute(r,"xmlns",i.Namespace.AVATAR_METADATA),(0,a.default)(e,function(e){var t=new n(e);r.appendChild(t.xml)})}};e.withPubsubItem(function(n){e.add(n,"avatars",r),e.add(n,"avatarData",t.textSub(i.Namespace.AVATAR_DATA,"data"))})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"bind",namespace:r.Namespace.BIND,element:"bind",fields:{resource:t.textSub(r.Namespace.BIND,"resource"),jid:t.jidSub(r.Namespace.BIND,"jid")}});e.extendIQ(n),e.extendStreamFeatures(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7);t.default=function(e){var t=e.utils,n={get:function(){var e=[],n=t.find(this.xml,r.Namespace.BLOCKING,"item");return n.length?(n.forEach(function(n){e.push(new i.JID(t.getAttribute(n,"jid","")))}),e):e},set:function(e){var n=this;e.forEach(function(e){var i=t.createElement(r.Namespace.BLOCKING,"item",r.Namespace.BLOCKING);t.setAttribute(i,"jid",e.toString()),n.xml.appendChild(i)})}},o=e.define({name:"block",namespace:r.Namespace.BLOCKING,element:"block",fields:{jids:n}}),a=e.define({name:"unblock",namespace:r.Namespace.BLOCKING,element:"unblock",fields:{jids:n}}),s=e.define({name:"blockList",namespace:r.Namespace.BLOCKING,element:"blocklist",fields:{jids:n}});e.extendIQ(o),e.extendIQ(a),e.extendIQ(s)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"bob",namespace:r.Namespace.BOB,element:"data",fields:{cid:t.attribute("cid"),maxAge:t.numberAttribute("max-age"),type:t.attribute("type"),data:t.text()}});e.extendIQ(n),e.extendMessage(n),e.extendPresence(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"_conference",namespace:r.Namespace.BOOKMARKS,element:"conference",fields:{name:t.attribute("name"),autoJoin:t.boolAttribute("autojoin"),jid:t.jidAttribute("jid"),nick:t.textSub(r.Namespace.BOOKMARKS,"nick")}}),i=e.define({name:"bookmarks",namespace:r.Namespace.BOOKMARKS,element:"storage"});e.extend(i,n,"conferences"),e.withDefinition("query",r.Namespace.PRIVATE,function(t){e.extend(t,i)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils;e.define({name:"bosh",namespace:r.Namespace.BOSH,element:"body",prefixes:{xmpp:r.Namespace.BOSH_XMPP},fields:{accept:t.attribute("accept"),ack:t.numberAttribute("ack"),authid:t.attribute("authid"),charsets:t.attribute("charsets"),condition:t.attribute("condition"),content:t.attribute("content"),from:t.jidAttribute("from",!0),hold:t.numberAttribute("hold"),inactivity:t.numberAttribute("inactivity"),key:t.attribute("key"),maxpause:t.numberAttribute("maxpause"),newKey:t.attribute("newkey"),pause:t.numberAttribute("pause"),polling:t.numberAttribute("polling"),resport:t.numberAttribute("report"),requests:t.numberAttribute("requests"),rid:t.numberAttribute("rid"),sid:t.attribute("sid"),stream:t.attribute("stream"),time:t.attribute("time"),to:t.jidAttribute("to",!0),type:t.attribute("type"),ver:t.attribute("ver"),wait:t.numberAttribute("wait"),uri:t.textSub(r.Namespace.BOSH,"uri"),lang:t.langAttribute(),version:t.attribute("xmpp:version","1.0"),restart:t.attribute("xmpp:restart"),restartLogic:t.boolAttribute("xmpp:restartLogic"),payload:{get:function(){for(var t=[],n=0,r=this.xml.childNodes.length;n<r;n++){var i=e.build(this.xml.childNodes[n]);void 0!==i&&t.push(i)}return t},set:function(e){var t=this;e.forEach(function(e){t.xml.appendChild(e.xml)})}}}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"carbonSent",eventName:"carbon:sent",namespace:r.Namespace.CARBONS_2,element:"sent"}),n=e.define({name:"carbonReceived",eventName:"carbon:received",namespace:r.Namespace.CARBONS_2,element:"received"}),i=e.define({name:"carbonPrivate",eventName:"carbon:private",namespace:r.Namespace.CARBONS_2,element:"private"}),o=e.define({name:"enableCarbons",namespace:r.Namespace.CARBONS_2,element:"enable"}),a=e.define({name:"disableCarbons",namespace:r.Namespace.CARBONS_2,element:"disable"});e.withDefinition("forwarded",r.Namespace.FORWARD_0,function(r){e.extend(t,r),e.extend(n,r)}),e.extendMessage(t),e.extendMessage(n),e.extendMessage(i),e.extendIQ(o),e.extendIQ(a)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["next","prev","complete","cancel"],o=["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"];t.default=function(e){var t=e.utils,n=e.define({name:"command",namespace:r.Namespace.ADHOC_COMMANDS,element:"command",fields:{action:t.attribute("action"),node:t.attribute("node"),sessionid:t.attribute("sessionid"),status:t.attribute("status"),execute:t.subAttribute(r.Namespace.ADHOC_COMMANDS,"actions","execute"),actions:{get:function(){var e=[],n=t.find(this.xml,r.Namespace.ADHOC_COMMANDS,"actions");return n.length?(i.forEach(function(i){t.find(n[0],r.Namespace.ADHOC_COMMANDS,i).length&&e.push(i)}),e):[]},set:function(e){for(var n=t.findOrCreate(this.xml,r.Namespace.ADHOC_COMMANDS,"actions"),i=0,o=n.childNodes.length;i<o;i++)n.removeChild(n.childNodes[i]);e.forEach(function(e){n.appendChild(t.createElement(r.Namespace.ADHOC_COMMANDS,e.toLowerCase(),r.Namespace.ADHOC_COMMANDS))})}}}}),a=e.define({name:"_commandNote",namespace:r.Namespace.ADHOC_COMMANDS,element:"note",fields:{type:t.attribute("type"),value:t.text()}});e.extend(n,a,"notes"),e.extendIQ(n),e.withStanzaError(function(n){e.add(n,"adhocCommandCondition",t.enumSub(r.Namespace.ADHOC_COMMANDS,o))}),e.withDataForm(function(t){e.extend(n,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"clientStateIndication",namespace:r.Namespace.CSI,element:"csi"});e.define({name:"csiActive",eventName:"csi:active",namespace:r.Namespace.CSI,element:"active",topLevel:!0}),e.define({name:"csiInactive",eventName:"csi:inactive",namespace:r.Namespace.CSI,element:"inactive",topLevel:!0}),e.extendStreamFeatures(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=["text-single","text-private","list-single","jid-single"];t.default=function(e){var t=e.utils,n=e.define({name:"_field",namespace:r.Namespace.DATAFORM,element:"field",init:function(e){this._type=(e||{}).type||this.type},fields:{type:{get:function(){return t.getAttribute(this.xml,"type","text-single")},set:function(e){this._type=e,t.setAttribute(this.xml,"type",e)}},name:t.attribute("var"),desc:t.textSub(r.Namespace.DATAFORM,"desc"),required:t.boolSub(r.Namespace.DATAFORM,"required"),label:t.attribute("label"),value:{get:function(){var e=t.getMultiSubText(this.xml,r.Namespace.DATAFORM,"value");return"boolean"===this._type?"1"===e[0]||"true"===e[0]:e.length>1?"text-multi"===this._type?e.join("\n"):"jid-multi"===this._type?e.map(function(e){return new i.JID(e)}):e:o.indexOf(this._type)>=0?"jid-single"===this._type?new i.JID(e[0]):e[0]:e},set:function(e){if("boolean"===this._type||!0===e||!1===e){var n=!0===e||"true"===e||"1"===e,i=t.createElement(r.Namespace.DATAFORM,"value",r.Namespace.DATAFORM);i.textContent=n?"1":"0",this.xml.appendChild(i)}else"text-multi"===this._type&&"string"===typeof e&&(e=e.split("\n")),t.setMultiSubText(this.xml,r.Namespace.DATAFORM,"value",e,function(e){var n=t.createElement(r.Namespace.DATAFORM,"value",r.Namespace.DATAFORM);n.textContent=e,this.xml.appendChild(n)}.bind(this))}}}}),a=e.define({name:"_formoption",namespace:r.Namespace.DATAFORM,element:"option",fields:{label:t.attribute("label"),value:t.textSub(r.Namespace.DATAFORM,"value")}}),s=e.define({name:"_formitem",namespace:r.Namespace.DATAFORM,element:"item"}),u=e.define({name:"media",element:"media",namespace:r.Namespace.DATAFORM_MEDIA,fields:{height:t.numberAttribute("height"),width:t.numberAttribute("width")}}),c=e.define({name:"_mediaURI",element:"uri",namespace:r.Namespace.DATAFORM_MEDIA,fields:{uri:t.text(),type:t.attribute("type")}}),l=e.define({name:"validation",element:"validate",namespace:r.Namespace.DATAFORM_VALIDATION,fields:{dataType:t.attribute("datatype"),basic:t.boolSub(r.Namespace.DATAFORM_VALIDATION,"basic"),open:t.boolSub(r.Namespace.DATAFORM_VALIDATION,"open"),regex:t.textSub(r.Namespace.DATAFORM_VALIDATION,"regex")}}),f=e.define({name:"range",element:"range",namespace:r.Namespace.DATAFORM_VALIDATION,fields:{min:t.attribute("min"),max:t.attribute("max")}}),d=e.define({name:"select",element:"list-range",namespace:r.Namespace.DATAFORM_VALIDATION,fields:{min:t.numberAttribute("min"),max:t.numberAttribute("max")}}),p={get:function(){for(var e=[],t=0,n=this.xml.childNodes.length;t<n;t++){var i=this.xml.childNodes[t];if(i.namespaceURI===r.Namespace.DATAFORM_LAYOUT)switch(i.localName){case"text":e.push({text:i.textContent});break;case"fieldref":e.push({field:i.getAttribute("var")});break;case"reportedref":e.push({reported:!0});break;case"section":e.push({section:new h(null,i,this).toJSON()})}}return e},set:function(e){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(o.text){var a=t.createElement(r.Namespace.DATAFORM_LAYOUT,"text",r.Namespace.DATAFORM_LAYOUT);a.textContent=o.text,this.xml.appendChild(a)}if(o.field){var s=t.createElement(r.Namespace.DATAFORM_LAYOUT,"fieldref",r.Namespace.DATAFORM_LAYOUT);s.setAttribute("var",o.field),this.xml.appendChild(s)}if(o.reported&&this.xml.appendChild(t.createElement(r.Namespace.DATAFORM_LAYOUT,"reportedref",r.Namespace.DATAFORM_LAYOUT)),o.section){var u=t.createElement(r.Namespace.DATAFORM_LAYOUT,"section",r.Namespace.DATAFORM_LAYOUT);this.xml.appendChild(u);var c=new h(null,u);c.label=o.section.label,c.contents=o.section.contents}}}},h=e.define({name:"_section",element:"section",namespace:r.Namespace.DATAFORM_LAYOUT,fields:{label:t.attribute("label"),contents:p}}),m=e.define({name:"_page",element:"page",namespace:r.Namespace.DATAFORM_LAYOUT,fields:{label:t.attribute("label"),contents:p}}),g=e.define({name:"form",namespace:r.Namespace.DATAFORM,element:"x",init:function(){if(this.reportedFields.length){var e={};this.reportedFields.forEach(function(t){e[t.name]=t.type}),this.items.forEach(function(t){t.fields.forEach(function(t){t.type=t._type=e[t.name]})})}},fields:{title:t.textSub(r.Namespace.DATAFORM,"title"),instructions:t.multiTextSub(r.Namespace.DATAFORM,"instructions"),type:t.attribute("type","form"),reportedFields:t.subMultiExtension(r.Namespace.DATAFORM,"reported",n)}});e.extend(g,n,"fields"),e.extend(g,s,"items"),e.extend(g,m,"layout"),e.extend(n,u),e.extend(n,l),e.extend(n,a,"options"),e.extend(s,n,"fields"),e.extend(u,c,"uris"),e.extend(l,f),e.extend(l,d),e.extendMessage(g)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"delay",namespace:r.Namespace.DELAY,element:"delay",fields:{from:t.jidAttribute("from"),stamp:t.dateAttribute("stamp"),reason:t.text()}});e.extendMessage(n),e.extendPresence(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"caps",namespace:r.Namespace.CAPS,element:"c",fields:{ver:t.attribute("ver"),node:t.attribute("node"),hash:t.attribute("hash"),ext:t.attribute("ext")}}),i=e.define({name:"discoInfo",namespace:r.Namespace.DISCO_INFO,element:"query",fields:{node:t.attribute("node"),features:t.multiSubAttribute(r.Namespace.DISCO_INFO,"feature","var")}}),o=e.define({name:"_discoIdentity",namespace:r.Namespace.DISCO_INFO,element:"identity",fields:{category:t.attribute("category"),type:t.attribute("type"),name:t.attribute("name"),lang:t.langAttribute()}}),a=e.define({name:"discoItems",namespace:r.Namespace.DISCO_ITEMS,element:"query",fields:{node:t.attribute("node")}}),s=e.define({name:"_discoItem",namespace:r.Namespace.DISCO_ITEMS,element:"item",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node"),name:t.attribute("name")}});e.extend(a,s,"items"),e.extend(i,o,"identities"),e.extendIQ(i),e.extendIQ(a),e.extendPresence(n),e.extendStreamFeatures(n),e.withDataForm(function(t){e.extend(i,t,"extensions")}),e.withDefinition("set",r.Namespace.RSM,function(t){e.extend(a,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];t.default=function(e){var t=e.utils,n=e.define({name:"error",namespace:r.Namespace.CLIENT,element:"error",fields:{lang:{get:function(){return(this.parent||{}).lang||""}},condition:t.enumSub(r.Namespace.STANZA_ERROR,i),gone:{get:function(){return t.getSubText(this.xml,r.Namespace.STANZA_ERROR,"gone")},set:function(e){this.condition="gone",t.setSubText(this.xml,r.Namespace.STANZA_ERROR,"gone",e)}},redirect:{get:function(){return t.getSubText(this.xml,r.Namespace.STANZA_ERROR,"redirect")},set:function(e){this.condition="redirect",t.setSubText(this.xml,r.Namespace.STANZA_ERROR,"redirect",e)}},code:t.attribute("code"),type:t.attribute("type"),by:t.jidAttribute("by"),$text:{get:function(){return t.getSubLangText(this.xml,r.Namespace.STANZA_ERROR,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,r.Namespace.STANZA_ERROR,"text",e,this.lang)}}}});e.extendMessage(n),e.extendPresence(n),e.extendIQ(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var n=e.utils,i=t.Services=e.define({name:"services",namespace:r.Namespace.DISCO_EXTERNAL_1,element:"services",fields:{type:n.attribute("type")}}),o=t.Credentials=e.define({name:"credentials",namespace:r.Namespace.DISCO_EXTERNAL_1,element:"credentials"}),a=e.define({name:"service",namespace:r.Namespace.DISCO_EXTERNAL_1,element:"service",fields:{host:n.attribute("host"),port:n.attribute("port"),transport:n.attribute("transport"),type:n.attribute("type"),username:n.attribute("username"),password:n.attribute("password")}});e.extend(i,a,"services"),e.extend(o,a),e.extendIQ(i),e.extendIQ(o),e.withDataForm(function(t){e.extend(a,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.Namespace.FILE_TRANSFER_4;t.default=function(e){var t=e.utils,n=e.define({name:"file",namespace:i,element:"file",fields:{name:t.textSub(i,"name"),description:t.textSub(i,"desc"),mediaType:t.textSub(i,"media-type"),size:t.numberSub(i,"size"),date:t.dateSub(i,"date")}}),o=e.define({name:"range",namespace:i,element:"range",fields:{offset:t.numberAttribute("offset"),length:t.numberAttribute("length")}}),a=e.define({name:"_"+i,namespace:i,element:"description",tags:["jingle-application"],fields:{applicationType:{value:i}}}),s=e.define({name:"_{"+i+"}received",namespace:i,element:"received",tags:["jingle-info"],fields:{infoType:{value:"{"+i+"}received"},creator:t.attribute("creator"),name:t.attribute("name")}}),u=e.define({name:"_{"+i+"}checksum",namespace:i,element:"checksum",tags:["jingle-info"],fields:{infoType:{value:"{"+i+"}checksum"},creator:t.attribute("creator"),name:t.attribute("name")}});e.extend(n,o),e.extend(u,n),e.extend(a,n),e.withDefinition("hash",r.Namespace.HASHES_1,function(t){e.extend(n,t,"hashes"),e.extend(o,t,"hashes")}),e.withDefinition("content",r.Namespace.JINGLE_1,function(t){e.extend(t,a)}),e.withDefinition("jingle",r.Namespace.JINGLE_1,function(t){e.extend(t,s),e.extend(t,u)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.Namespace.FILE_TRANSFER_3;t.default=function(e){var t=e.utils,n=e.define({name:"_file",namespace:i,element:"file",fields:{name:t.textSub(i,"name"),desc:t.textSub(i,"desc"),size:t.numberSub(i,"size"),date:t.dateSub(i,"date")}}),o=e.define({name:"range",namespace:i,element:"range",fields:{offset:t.numberAttribute("offset")}}),a=e.define({name:"thumbnail",namespace:r.Namespace.THUMBS_0,element:"thumbnail",fields:{cid:t.attribute("cid"),mimeType:t.attribute("mime-type"),width:t.numberAttribute("width"),height:t.numberAttribute("height")}}),s=e.define({name:"_filetransfer",namespace:i,element:"description",tags:["jingle-application"],fields:{applicationType:{value:"filetransfer"},offer:t.subExtension("offer",i,"offer",n),request:t.subExtension("request",i,"request",n)}});e.extend(n,o),e.extend(n,a),e.withDefinition("hash",r.Namespace.HASHES_1,function(t){e.extend(n,t,"hashes")}),e.withDefinition("content",r.Namespace.JINGLE_1,function(t){e.extend(t,s)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"forwarded",namespace:r.Namespace.FORWARD_0,element:"forwarded"});e.withMessage(function(n){e.extend(n,t),e.extend(t,n)}),e.withPresence(function(n){e.extend(n,t),e.extend(t,n)}),e.withIQ(function(n){e.extend(n,t),e.extend(t,n)}),e.withDefinition("delay",r.Namespace.DELAY,function(n){e.extend(t,n)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils;e.define({name:"openStream",namespace:r.Namespace.FRAMING,element:"open",topLevel:!0,fields:{lang:t.langAttribute(),id:t.attribute("id"),version:t.attribute("version","1.0"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0)}}),e.define({name:"closeStream",namespace:r.Namespace.FRAMING,element:"close",topLevel:!0,fields:{seeOtherURI:t.attribute("see-other-uri")}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"geoloc",namespace:r.Namespace.GEOLOC,element:"geoloc",fields:{accuracy:t.numberSub(r.Namespace.GEOLOC,"accuracy",!0),altitude:t.numberSub(r.Namespace.GEOLOC,"alt",!0),area:t.textSub(r.Namespace.GEOLOC,"area"),heading:t.numberSub(r.Namespace.GEOLOC,"bearing",!0),bearing:t.numberSub(r.Namespace.GEOLOC,"bearing",!0),building:t.textSub(r.Namespace.GEOLOC,"building"),country:t.textSub(r.Namespace.GEOLOC,"country"),countrycode:t.textSub(r.Namespace.GEOLOC,"countrycode"),datum:t.textSub(r.Namespace.GEOLOC,"datum"),description:t.textSub(r.Namespace.GEOLOC,"description"),error:t.numberSub(r.Namespace.GEOLOC,"error",!0),floor:t.textSub(r.Namespace.GEOLOC,"floor"),latitude:t.numberSub(r.Namespace.GEOLOC,"lat",!0),locality:t.textSub(r.Namespace.GEOLOC,"locality"),longitude:t.numberSub(r.Namespace.GEOLOC,"lon",!0),postalcode:t.textSub(r.Namespace.GEOLOC,"postalcode"),region:t.textSub(r.Namespace.GEOLOC,"region"),room:t.textSub(r.Namespace.GEOLOC,"room"),speed:t.numberSub(r.Namespace.GEOLOC,"speed",!0),street:t.textSub(r.Namespace.GEOLOC,"street"),text:t.textSub(r.Namespace.GEOLOC,"text"),timestamp:t.dateSub(r.Namespace.GEOLOC,"timestamp"),tzo:t.tzoSub(r.Namespace.GEOLOC,"tzo"),uri:t.textSub(r.Namespace.GEOLOC,"uri")}});e.extendPubsubItem(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){e.define({name:"hash",namespace:r.Namespace.HASHES_1,element:"hash",fields:{algo:e.utils.attribute("algo"),value:e.utils.text()}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"_hat",namespace:r.Namespace.HATS_0,element:"hat",fields:{lang:e.utils.langAttribute(),name:e.utils.attribute("name"),displayName:e.utils.attribute("displayName")}});e.withPresence(function(n){e.add(n,"hats",e.utils.subMultiExtension(r.Namespace.HATS_0,"hats",t))})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"_iceUdp",namespace:r.Namespace.JINGLE_ICE_UDP_1,element:"transport",tags:["jingle-transport"],fields:{transportType:{value:"iceUdp"},pwd:t.attribute("pwd"),ufrag:t.attribute("ufrag")}}),i=e.define({name:"remoteCandidate",namespace:r.Namespace.JINGLE_ICE_UDP_1,element:"remote-candidate",fields:{component:t.attribute("component"),ip:t.attribute("ip"),port:t.attribute("port")}}),o=e.define({name:"_iceUdpCandidate",namespace:r.Namespace.JINGLE_ICE_UDP_1,element:"candidate",fields:{component:t.attribute("component"),foundation:t.attribute("foundation"),generation:t.attribute("generation"),id:t.attribute("id"),ip:t.attribute("ip"),network:t.attribute("network"),port:t.attribute("port"),priority:t.attribute("priority"),protocol:t.attribute("protocol"),relAddr:t.attribute("rel-addr"),relPort:t.attribute("rel-port"),tcpType:t.attribute("tcptype"),type:t.attribute("type")}}),a=e.define({name:"_iceFingerprint",namespace:r.Namespace.JINGLE_DTLS_0,element:"fingerprint",fields:{hash:t.attribute("hash"),setup:t.attribute("setup"),value:t.text(),required:t.boolAttribute("required")}}),s=e.define({name:"_sctpMap",namespace:r.Namespace.DTLS_SCTP_1,element:"sctpmap",fields:{number:t.attribute("number"),protocol:t.attribute("protocol"),streams:t.attribute("streams")}});e.extend(n,o,"candidates"),e.extend(n,i),e.extend(n,a,"fingerprints"),e.extend(n,s,"sctp"),e.withDefinition("content",r.Namespace.JINGLE_1,function(t){e.extend(t,n)})},e.exports=t.default},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o="http://jabber.org/protocol/ibb",a="urn:xmpp:jingle:transports:ibb:1";t.default=function(e){var t=e.utils,n={get:function(){var e=t.find(this.xml,o,"data");if(e.length)return e=e[0],{action:"data",sid:t.getAttribute(e,"sid"),seq:parseInt(t.getAttribute(e,"seq")||"0",10),data:new r(t.getText(e),"base64")};var n=t.find(this.xml,o,"open");if(n.length){n=n[0];var i=t.getAttribute(n,"stanza");return i="message"!==i,{action:"open",sid:t.getAttribute(n,"sid"),blockSize:t.getAttribute(n,"block-size"),ack:i}}var a=t.find(this.xml,o,"close");return a.length?{action:"close",sid:t.getAttribute(a[0],"sid")}:void 0},set:function(e){if("data"===e.action){var n=t.createElement(o,"data");t.setAttribute(n,"sid",e.sid),t.setAttribute(n,"seq",e.seq.toString()),t.setText(n,e.data.toString("base64")),this.xml.appendChild(n)}if("open"===e.action){var r=t.createElement(o,"open");t.setAttribute(r,"sid",e.sid),t.setAttribute(r,"block-size",(e.blockSize||"4096").toString()),!1===e.ack?t.setAttribute(r,"stanza","message"):t.setAttribute(r,"stanza","iq"),this.xml.appendChild(r)}if("close"===e.action){var i=t.createElement(o,"close");t.setAttribute(i,"sid",e.sid),this.xml.appendChild(i)}}},s=e.define({name:"_"+a,namespace:a,element:"transport",tags:["jingle-transport"],fields:{transportType:{value:a},sid:t.attribute("sid"),blockSize:t.numberAttribute("block-size"),ack:{get:function(){return"message"!==t.getAttribute(this.xml,"stanza")},set:function(e){!1===e.ack?t.setAttribute(this.xml,"stanza","message"):t.setAttribute(this.xml,"stanza","iq")}}}});e.withDefinition("content",i.Namespace.JINGLE_1,function(t){e.extend(t,s)}),e.withIQ(function(t){e.add(t,"ibb",n)}),e.withMessage(function(t){e.add(t,"ibb",n)})},e.exports=t.default}).call(t,n(4).Buffer)},function(e,t,n){"use strict";var r=n(212).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o={};o.defineIQ=function(e,t,n){var i=e.utils,o=e.define({name:t,namespace:n,element:"iq",topLevel:!0,fields:{lang:i.langAttribute(),id:i.attribute("id"),to:i.jidAttribute("to",!0),from:i.jidAttribute("from",!0),type:i.attribute("type")}}),a=o.prototype.toJSON;r(o.prototype,{toJSON:function(){var e=a.call(this);return e.resultReply=this.resultReply,e.errorReply=this.errorReply,e},resultReply:function(e){return e=e||{},e.to=this.from,e.id=this.id,e.type="result",new o(e)},errorReply:function(e){return e=e||{},e.to=this.from,e.id=this.id,e.type="error",new o(e)}})},t.default=function(e){o.defineIQ(e,"iq",i.Namespace.CLIENT),o.defineIQ(e,"serverIQ",i.Namespace.SERVER),o.defineIQ(e,"componentIQ",i.Namespace.COMPONENT)},e.exports=t.default},function(e,t,n){e.exports={default:n(213),__esModule:!0}},function(e,t,n){n(214),e.exports=n(77).Object.assign},function(e,t,n){var r=n(215);r(r.S+r.F,"Object",{assign:n(225)})},function(e,t,n){var r=n(39),i=n(77),o=n(216),a=n(218),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,m=e&s.B,g=e&s.W,v=d?i:i[t]||(i[t]={}),y=v.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in v||(l=c?b[u]:n[u],v[u]=d&&"function"!=typeof b[u]?n[u]:m&&c?o(l,r):g&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((v.virtual||(v.virtual={}))[u]=l,e&s.R&&y&&!y[u]&&a(y,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(217);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(219),i=n(224);e.exports=n(41)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(220),i=n(221),o=n(223),a=Object.defineProperty;t.f=n(41)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(40);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(41)&&!n(42)(function(){return 7!=Object.defineProperty(n(222)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(40),i=n(39).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(40);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(226),i=n(237),o=n(238),a=n(239),s=n(79),u=Object.assign;e.exports=!u||n(42)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),m=h.length,g=0;m>g;)f.call(p,d=h[g++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(227),i=n(236);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(228),i=n(78),o=n(230)(!1),a=n(233)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(78),i=n(231),o=n(232);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(81),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(81),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(234)("keys"),i=n(235);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(39),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(80);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7);t.default=function(e){e.withIQ(function(t){e.add(t,"jidPrep",{get:function(){var t=e.utils.getSubText(this.xml,r.Namespace.JID_PREP_0,"jid");if(t){var n=new i.JID(t);return n.prepped=!0,n}},set:function(t){e.utils.setSubText(this.xml,r.Namespace.JID_PREP_0,"jid",(t||"").toString())}})})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["out-of-order","tie-break","unknown-session","unsupported-info"],o=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];t.default=function(e){var t=e.utils,n=e.define({name:"jingle",namespace:r.Namespace.JINGLE_1,element:"jingle",fields:{action:t.attribute("action"),initiator:t.attribute("initiator"),responder:t.attribute("responder"),sid:t.attribute("sid"),info:{get:function(){for(var n=e.tagged("jingle-info").map(function(e){return e.prototype._name}),r=0,i=n.length;r<i;r++)if(this._extensions[n[r]])return this._extensions[n[r]];if("session-info"===t.getAttribute(this.xml,"action"))return 0===this.xml.children.length?{infoType:"ping"}:{infoType:"unknown"}},set:function(e){if("ping"!==e.infoType){this["_"+e.infoType]=e}}}}}),a=e.define({name:"_jingleContent",namespace:r.Namespace.JINGLE_1,element:"content",fields:{creator:t.attribute("creator"),disposition:t.attribute("disposition","session"),name:t.attribute("name"),senders:t.attribute("senders","both"),application:{get:function(){for(var t=e.tagged("jingle-application").map(function(e){return e.prototype._name}),n=0,r=t.length;n<r;n++)if(this._extensions[t[n]])return this._extensions[t[n]]},set:function(e){this["_"+e.applicationType]=e}},transport:{get:function(){for(var t=e.tagged("jingle-transport").map(function(e){return e.prototype._name}),n=0,r=t.length;n<r;n++)if(this._extensions[t[n]])return this._extensions[t[n]]},set:function(e){this["_"+e.transportType]=e}},security:{get:function(){for(var t=e.tagged("jingle-security").map(function(e){return Security.prototype._name}),n=0,r=t.length;n<r;n++)if(this._extensions[t[n]])return this._extensions[t[n]]},set:function(e){this["_"+e.securityType]=e}}}}),s=e.define({name:"reason",namespace:r.Namespace.JINGLE_1,element:"reason",fields:{condition:t.enumSub(r.Namespace.JINGLE_1,o),alternativeSession:{get:function(){return t.getSubText(this.xml,r.Namespace.JINGLE_1,"alternative-session")},set:function(e){this.condition="alternative-session",t.setSubText(this.xml,r.Namespace.JINGLE_1,"alternative-session",e)}},text:t.textSub(r.Namespace.JINGLE_1,"text")}});e.extend(n,a,"contents"),e.extend(n,s),e.extendIQ(n),e.withStanzaError(function(n){e.add(n,"jingleCondition",t.enumSub(r.Namespace.JINGLE_ERRORS_1,i))})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t={get:function(){var t=e.utils.getSubText(this.xml,r.Namespace.JSON_0,"json");if(t)return JSON.parse(t)},set:function(t){(t=JSON.stringify(t))&&e.utils.setSubText(this.xml,r.Namespace.JSON_0,"json",t)}};e.withMessage(function(n){e.add(n,"json",t)}),e.withPubsubItem(function(n){e.add(n,"json",t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"log",namespace:r.Namespace.EVENTLOG,element:"log",fields:{id:t.attribute("id"),timestamp:t.dateAttribute("timestamp"),type:t.attribute("type"),level:t.attribute("level"),object:t.attribute("object"),subject:t.attribute("subject"),facility:t.attribute("facility"),module:t.attribute("module"),message:t.textSub(r.Namespace.EVENTLOG,"message"),stackTrace:t.textSub(r.Namespace.EVENTLOG,"stackTrace")}}),i=e.define({name:"_logtag",namespace:r.Namespace.EVENTLOG,element:"tag",fields:{name:t.attribute("name"),value:t.attribute("value"),type:t.attribute("type")}});e.extend(n,i,"tags"),e.extendMessage(n),e.extendPubsubItem(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7);t.default=function(e){var t=e.utils,n=e.define({name:"mam",namespace:r.Namespace.MAM_2,element:"query",fields:{queryid:t.attribute("queryid"),node:t.attribute("node")}}),o=e.define({name:"mamItem",namespace:r.Namespace.MAM_2,element:"result",fields:{queryid:t.attribute("queryid"),id:t.attribute("id")}}),a=e.define({name:"mamResult",namespace:r.Namespace.MAM_2,element:"fin",fields:{complete:t.boolAttribute("complete"),stable:t.boolAttribute("stable")}}),s=e.define({name:"mamPrefs",namespace:r.Namespace.MAM_2,element:"prefs",fields:{defaultCondition:t.attribute("default"),always:{get:function(){var e=[],n=t.find(this.xml,r.Namespace.MAM_2,"always");return 0===n.length?e:(n=n[0],t.getMultiSubText(n,r.Namespace.MAM_2,"jid").forEach(function(t){e.push(new i.JID(t.textContent))}),e)},set:function(e){if(e.length>0){var n=t.findOrCreate(this.xml,r.Namespace.MAM_2,"always");t.setMultiSubText(n,r.Namespace.MAM_2,"jid",e)}}},never:{get:function(){var e=[],n=t.find(this.xml,r.Namespace.MAM_2,"always");return 0===n.length?e:(n=n[0],t.getMultiSubText(n,r.Namespace.MAM_2,"jid").forEach(function(t){e.push(new i.JID(t.textContent))}),e)},set:function(e){if(e.length>0){var n=t.findOrCreate(this.xml,r.Namespace.MAM_2,"never");t.setMultiSubText(n,r.Namespace.MAM_2,"jid",e)}}}}});e.extendMessage(o),e.extendIQ(n),e.extendIQ(s),e.extendIQ(a),e.withDataForm(function(t){e.extend(n,t)}),e.withDefinition("forwarded",r.Namespace.FORWARD_0,function(t){e.extend(o,t)}),e.withDefinition("set",r.Namespace.RSM,function(t){e.extend(n,t),e.extend(a,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={};i.defineMessage=function(e,t,n){var i=e.utils;e.define({name:t,namespace:n,element:"message",topLevel:!0,fields:{lang:i.langAttribute(),id:i.attribute("id"),to:i.jidAttribute("to",!0),from:i.jidAttribute("from",!0),type:i.attribute("type","normal"),thread:i.textSub(n,"thread"),parentThread:i.subAttribute(n,"thread","parent"),subject:i.textSub(n,"subject"),$body:{get:function(){return i.getSubLangText(this.xml,n,"body",this.lang)}},body:{get:function(){return this.$body[this.lang]||""},set:function(e){i.setSubLangText(this.xml,n,"body",e,this.lang)}},attention:i.boolSub(r.Namespace.ATTENTION_0,"attention"),chatState:i.enumSub(r.Namespace.CHAT_STATES,["active","composing","paused","inactive","gone"]),replace:i.subAttribute(r.Namespace.CORRECTION_0,"replace","id"),requestReceipt:i.boolSub(r.Namespace.RECEIPTS,"request"),receipt:i.subAttribute(r.Namespace.RECEIPTS,"received","id")}})},t.default=function(e){i.defineMessage(e,"message",r.Namespace.CLIENT),i.defineMessage(e,"serverMessage",r.Namespace.SERVER),i.defineMessage(e,"componentMessage",r.Namespace.COMPONENT)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"];t.default=function(e){var t=e.define({name:"mood",namespace:r.Namespace.MOOD,element:"mood",fields:{text:e.utils.textSub(r.Namespace.MOOD,"text"),value:e.utils.enumSub(r.Namespace.MOOD,i)}});e.extendMessage(t),e.extendPubsubItem(t)},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return{get:function(){if(this._extensions[e])return this[e][t]},set:function(n){this[e][t]=n}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"_mucUserItem",namespace:i.Namespace.MUC_USER,element:"item",fields:{affiliation:t.attribute("affiliation"),nick:t.attribute("nick"),jid:t.jidAttribute("jid"),role:t.attribute("role"),reason:t.textSub(i.Namespace.MUC_USER,"reason")}}),o=e.define({name:"_mucUserActor",namespace:i.Namespace.MUC_USER,element:"actor",fields:{nick:t.attribute("nick"),jid:t.jidAttribute("jid")}}),a=e.define({name:"destroyed",namespace:i.Namespace.MUC_USER,element:"destroy",fields:{jid:t.jidAttribute("jid"),reason:t.textSub(i.Namespace.MUC_USER,"reason")}}),s=e.define({name:"invite",namespace:i.Namespace.MUC_USER,element:"invite",fields:{to:t.jidAttribute("to"),from:t.jidAttribute("from"),reason:t.textSub(i.Namespace.MUC_USER,"reason"),thread:t.subAttribute(i.Namespace.MUC_USER,"continue","thread"),continue:t.boolSub(i.Namespace.MUC_USER,"continue")}}),u=e.define({name:"decline",namespace:i.Namespace.MUC_USER,element:"decline",fields:{to:t.jidAttribute("to"),from:t.jidAttribute("from"),reason:t.textSub(i.Namespace.MUC_USER,"reason")}}),c=e.define({name:"_mucAdminItem",namespace:i.Namespace.MUC_ADMIN,element:"item",fields:{affiliation:t.attribute("affiliation"),nick:t.attribute("nick"),jid:t.jidAttribute("jid"),role:t.attribute("role"),reason:t.textSub(i.Namespace.MUC_ADMIN,"reason")}}),l=e.define({name:"actor",namespace:i.Namespace.MUC_USER,element:"actor",fields:{nick:t.attribute("nick"),jid:t.jidAttribute("jid")}}),f=e.define({name:"destroy",namespace:i.Namespace.MUC_OWNER,element:"destroy",fields:{jid:t.jidAttribute("jid"),password:t.textSub(i.Namespace.MUC_OWNER,"password"),reason:t.textSub(i.Namespace.MUC_OWNER,"reason")}}),d=e.define({name:"muc",namespace:i.Namespace.MUC_USER,element:"x",fields:{affiliation:r("_mucUserItem","affiliation"),nick:r("_mucUserItem","nick"),jid:r("_mucUserItem","jid"),role:r("_mucUserItem","role"),actor:r("_mucUserItem","_mucUserActor"),reason:r("_mucUserItem","reason"),password:t.textSub(i.Namespace.MUC_USER,"password"),codes:{get:function(){return t.getMultiSubText(this.xml,i.Namespace.MUC_USER,"status",function(e){return t.getAttribute(e,"code")})},set:function(e){var n=this;t.setMultiSubText(this.xml,i.Namespace.MUC_USER,"status",e,function(e){var r=t.createElement(i.Namespace.MUC_USER,"status",i.Namespace.MUC_USER);t.setAttribute(r,"code",e),n.xml.appendChild(r)})}}}}),p=e.define({name:"mucAdmin",namespace:i.Namespace.MUC_ADMIN,element:"query",fields:{affiliation:r("_mucAdminItem","affiliation"),nick:r("_mucAdminItem","nick"),jid:r("_mucAdminItem","jid"),role:r("_mucAdminItem","role"),actor:r("_mucAdminItem","_mucAdminActor"),reason:r("_mucAdminItem","reason")}}),h=e.define({name:"mucOwner",namespace:i.Namespace.MUC_OWNER,element:"query"}),m=e.define({name:"joinMuc",namespace:i.Namespace.MUC,element:"x",fields:{password:t.textSub(i.Namespace.MUC,"password"),history:{get:function(){var e={},n=t.find(this.xml,i.Namespace.MUC,"history");if(!n.length)return{};n=n[0];var r=n.getAttribute("maxchars")||"",o=n.getAttribute("maxstanzas")||"",a=n.getAttribute("seconds")||"",s=n.getAttribute("since")||"";r&&(e.maxchars=parseInt(r,10)),o&&(e.maxstanzas=parseInt(o,10)),a&&(e.seconds=parseInt(a,10)),s&&(e.since=new Date(s))},set:function(e){var n=t.find(this.xml,i.Namespace.MUC,"history");if(n.length)for(var r=0;r<n.length;r++)this.xml.removeChild(n[r]);var o=t.createElement(i.Namespace.MUC,"history",i.Namespace.MUC);this.xml.appendChild(o),e.maxchars&&o.setAttribute("maxchars",""+e.maxchars),e.maxstanzas&&o.setAttribute("maxstanzas",""+e.maxstanzas),e.seconds&&o.setAttribute("seconds",""+e.seconds),e.since&&o.setAttribute("since",e.since.toISOString())}}}}),g=e.define({name:"mucInvite",namespace:i.Namespace.MUC_DIRECT_INVITE,element:"x",fields:{jid:t.jidAttribute("jid"),password:t.attribute("password"),reason:t.attribute("reason"),thread:t.attribute("thread"),continue:t.boolAttribute("continue")}});e.extend(n,o),e.extend(d,n),e.extend(d,s,"invites"),e.extend(d,u),e.extend(d,a),e.extend(c,l),e.extend(p,c,"items"),e.extend(h,f),e.extendPresence(d),e.extendPresence(m),e.extendMessage(d),e.extendMessage(g),e.withIQ(function(n){e.add(n,"mucUnique",t.textSub(i.Namespace.MUC_UNIQUE,"unique")),e.extend(n,p),e.extend(n,h)}),e.withDataForm(function(t){e.extend(h,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils.textSub(r.Namespace.NICK,"nick");e.withPubsubItem(function(n){e.add(n,"nick",t)}),e.withPresence(function(n){e.add(n,"nick",t)}),e.withMessage(function(n){e.add(n,"nick",t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"oob",element:"x",namespace:r.Namespace.OOB,fields:{url:e.utils.textSub(r.Namespace.OOB,"url"),desc:e.utils.textSub(r.Namespace.OOB,"desc")}});e.extendMessage(t,"oobURIs")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"ping",namespace:r.Namespace.PING,element:"ping"});e.extendIQ(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={};i.definePresence=function(e,t,n){var i=e.utils;e.define({name:t,namespace:n,element:"presence",topLevel:!0,fields:{lang:i.langAttribute(),id:i.attribute("id"),to:i.jidAttribute("to",!0),from:i.jidAttribute("from",!0),priority:i.numberSub(n,"priority",!1,0),show:i.textSub(n,"show"),type:{get:function(){return i.getAttribute(this.xml,"type","available")},set:function(e){"available"===e&&(e=!1),i.setAttribute(this.xml,"type",e)}},$status:{get:function(){return i.getSubLangText(this.xml,n,"status",this.lang)}},status:{get:function(){return this.$status[this.lang]||""},set:function(e){i.setSubLangText(this.xml,n,"status",e,this.lang)}},idleSince:i.dateSubAttribute(r.Namespace.IDLE_1,"idle","since"),decloak:i.subAttribute(r.Namespace.DECLOAK_0,"decloak","reason"),avatarId:{get:function(){var e=i.find(this.xml,r.Namespace.VCARD_TEMP_UPDATE,"x");return e.length?i.getSubText(e[0],r.Namespace.VCARD_TEMP_UPDATE,"photo"):""},set:function(e){var t=i.findOrCreate(this.xml,r.Namespace.VCARD_TEMP_UPDATE,"x");if(""===e)i.setBoolSub(t,r.Namespace.VCARD_TEMP_UPDATE,"photo",!0);else{if(!0===e)return;e?i.setSubText(t,r.Namespace.VCARD_TEMP_UPDATE,"photo",e):this.xml.removeChild(t)}}}}})},t.default=function(e){i.definePresence(e,"presence",r.Namespace.CLIENT),i.definePresence(e,"serverPresence",r.Namespace.SERVER),i.definePresence(e,"componentPresence",r.Namespace.COMPONENT)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"privateStorage",namespace:r.Namespace.PRIVATE,element:"query"});e.extendIQ(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["server-unavailable","connection-paused"];t.default=function(e){var t=e.define({name:"state",namespace:r.Namespace.PSA,element:"state-annotation",fields:{from:e.utils.jidAttribute("from"),condition:e.utils.enumSub(r.Namespace.PSA,i),description:e.utils.textSub(r.Namespace.PSA,"description")}});e.extendPresence(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"pubsub",namespace:r.Namespace.PUBSUB,element:"pubsub",fields:{create:{get:function(){var e=t.getSubAttribute(this.xml,r.Namespace.PUBSUB,"create","node");return e||t.getBoolSub(this.xml,r.Namespace.PUBSUB,"create")},set:function(e){!0!==e&&e?t.setSubAttribute(this.xml,r.Namespace.PUBSUB,"create","node",e):t.setBoolSub(this.xml,r.Namespace.PUBSUB,"create",e)}},publishOptions:{get:function(){var n=e.getDefinition("x",r.Namespace.DATAFORM),i=t.find(this.xml,r.Namespace.PUBSUB,"publish-options");if(i.length&&i[0].childNodes.length)return new n({},i[0].childNodes[0])},set:function(n){var i=e.getDefinition("x",r.Namespace.DATAFORM),o=t.findOrCreate(this.xml,r.Namespace.PUBSUB,"publish-options");if(n){var a=new i(n);o.appendChild(a.xml)}}}}}),i=e.define({name:"config",namespace:r.Namespace.PUBSUB,element:"configure"}),o=e.define({name:"subscribe",namespace:r.Namespace.PUBSUB,element:"subscribe",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid")}}),a=e.define({name:"subscription",namespace:r.Namespace.PUBSUB,element:"subscription",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid"),subid:t.attribute("subid"),type:t.attribute("subscription"),configurable:t.boolSub("subscribe-options"),configurationRequired:{get:function(){var e=t.find(this.xml,r.Namespace.PUBSUB,"subscribe-options");return!!e.length&&t.getBoolSub(e[0],r.Namespace.PUBSUB,"required")}}}}),s=e.define({name:"subscriptions",namespace:r.Namespace.PUBSUB,element:"subscriptions",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid")}}),u=e.define({name:"affiliation",namespace:r.Namespace.PUBSUB,element:"affiliation",fields:{node:t.attribute("node"),type:t.attribute("affiliation")}}),c=e.define({name:"affiliations",namespace:r.Namespace.PUBSUB,element:"affiliations",fields:{node:t.attribute("node")}}),l=e.define({name:"subscriptionOptions",namespace:r.Namespace.PUBSUB,element:"options",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid"),subid:t.attribute("subid")}}),f=e.define({name:"unsubscribe",namespace:r.Namespace.PUBSUB,element:"unsubscribe",fields:{node:t.attribute("node"),subid:t.attribute("subid"),jid:t.jidAttribute("jid")}}),d=e.define({name:"publish",namespace:r.Namespace.PUBSUB,element:"publish",fields:{node:t.attribute("node")}}),p=e.define({name:"retract",namespace:r.Namespace.PUBSUB,element:"retract",fields:{node:t.attribute("node"),notify:t.boolAttribute("notify"),id:t.subAttribute(r.Namespace.PUBSUB,"item","id")}}),h=e.define({name:"retrieve",namespace:r.Namespace.PUBSUB,element:"items",fields:{node:t.attribute("node"),max:t.attribute("max_items")}}),m=e.define({name:"item",namespace:r.Namespace.PUBSUB,element:"item",fields:{id:t.attribute("id"),publisher:t.jidAttribute("publisher")}});e.extend(n,i),e.extend(n,o),e.extend(n,f),e.extend(n,d),e.extend(n,p),e.extend(n,h),e.extend(n,a),e.extend(n,l),e.extend(n,s),e.extend(n,c),e.extend(d,m,"items"),e.extend(h,m,"items"),e.extend(s,a,"list"),e.extend(c,u,"list"),e.extendIQ(n),e.withDataForm(function(t){e.extend(l,t),e.extend(m,t),e.extend(i,t)}),e.withDefinition("set",r.Namespace.RSM,function(t){e.extend(n,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["closed-node","configuration-required","invalid-jid","invalid-options","invalid-payload","invalid-subid","item-forbidden","item-required","jid-required","max-items-exceeded","max-nodes-exceeded","nodeid-required","not-in-roster-group","not-subscribed","payload-too-big","payload-required","pending-subscription","presence-subscription-required","subid-required","too-many-subscriptions","unsupported","unsupported-access-model"];t.default=function(e){e.withStanzaError(function(t){e.add(t,"pubsubCondition",e.utils.enumSub(r.Namespace.PUBSUB_ERRORS,i)),e.add(t,"pubsubUnsupportedFeature",{get:function(){return e.utils.getSubAttribute(this.xml,r.Namespace.PUBSUB_ERRORS,"unsupported","feature")},set:function(t){t&&(this.pubsubCondition="unsupported"),e.utils.setSubAttribute(this.xml,r.Namespace.PUBSUB_ERRORS,"unsupported","feature",t)}})})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"event",namespace:r.Namespace.PUBSUB_EVENT,element:"event"}),i=e.define({name:"purged",namespace:r.Namespace.PUBSUB_EVENT,element:"purge",fields:{node:t.attribute("node")}}),o=e.define({name:"deleted",namespace:r.Namespace.PUBSUB_EVENT,element:"delete",fields:{node:t.attribute("node"),redirect:t.subAttribute(r.Namespace.PUBSUB_EVENT,"redirect","uri")}}),a=e.define({name:"subscriptionChanged",namespace:r.Namespace.PUBSUB_EVENT,element:"subscription",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid"),type:t.attribute("subscription"),subid:t.attribute("subid"),expiry:{get:function(){var e=t.getAttribute(this.xml,"expiry");return"presence"===e?e:e?new Date(e):void 0},set:function(e){e&&("string"!==typeof e&&(e=e.toISOString()),t.setAttribute(this.xml,"expiry",e))}}}}),s=e.define({name:"configurationChanged",namespace:r.Namespace.PUBSUB_EVENT,element:"configuration",fields:{node:t.attribute("node")}}),u=e.define({name:"updated",namespace:r.Namespace.PUBSUB_EVENT,element:"items",fields:{node:t.attribute("node"),retracted:{get:function(){var e=[];return t.find(this.xml,r.Namespace.PUBSUB_EVENT,"retract").forEach(function(t){e.push(t.getAttribute("id"))}),e},set:function(e){e.forEach(function(e){var n=t.createElement(r.Namespace.PUBSUB_EVENT,"retract",r.Namespace.PUBSUB_EVENT);n.setAttribute("id",e),this.xml.appendChild(n)})}}}}),c=e.define({name:"_eventItem",namespace:r.Namespace.PUBSUB_EVENT,element:"item",fields:{id:t.attribute("id"),node:t.attribute("node"),publisher:t.jidAttribute("publisher")}});e.extend(u,c,"published"),e.extend(n,u),e.extend(n,a),e.extend(n,s),e.extend(n,o),e.extend(n,i),e.extendMessage(n),e.withDataForm(function(t){e.extend(s,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"pubsubOwner",namespace:r.Namespace.PUBSUB_OWNER,element:"pubsub",fields:{purge:t.subAttribute(r.Namespace.PUBSUB_OWNER,"purge","node"),del:t.subAttribute(r.Namespace.PUBSUB_OWNER,"delete","node"),redirect:{get:function(){var e=t.find(this.xml,r.Namespace.PUBSUB_OWNER,"delete");return e.length?t.getSubAttribute(e[0],r.Namespace.PUBSUB_OWNER,"redirect","uri"):""},set:function(e){var n=t.findOrCreate(this.xml,r.Namespace.PUBSUB_OWNER,"delete");t.setSubAttribute(n,r.Namespace.PUBSUB_OWNER,"redirect","uri",e)}}}}),i=e.define({name:"subscription",namespace:r.Namespace.PUBSUB_OWNER,element:"subscription",fields:{node:t.attribute("node"),jid:t.jidAttribute("jid"),subid:t.attribute("subid"),type:t.attribute("subscription"),configurable:t.boolSub("subscribe-options"),configurationRequired:{get:function(){var e=t.find(this.xml,r.Namespace.PUBSUB_OWNER,"subscribe-options");return!!e.length&&t.getBoolSub(e[0],r.Namespace.PUBSUB_OWNER,"required")}}}}),o=e.define({name:"subscriptions",namespace:r.Namespace.PUBSUB_OWNER,element:"subscriptions",fields:{node:t.attribute("node")}}),a=e.define({name:"affiliation",namespace:r.Namespace.PUBSUB_OWNER,element:"affiliation",fields:{jid:t.jidAttribute("jid"),type:t.attribute("affiliation")}}),s=e.define({name:"affiliations",namespace:r.Namespace.PUBSUB_OWNER,element:"affiliations",fields:{node:t.attribute("node")}}),u=e.define({name:"config",namespace:r.Namespace.PUBSUB_OWNER,element:"configure",fields:{node:t.attribute("node")}});e.extend(n,u),e.extend(n,o),e.extend(n,s),e.extend(o,i,"list"),e.extend(s,a,"list"),e.extendIQ(n),e.withDataForm(function(t){e.extend(u,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"enablePush",element:"enable",namespace:r.Namespace.PUSH_0,fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")}}),i=e.define({name:"disablePush",element:"disable",namespace:r.Namespace.PUSH_0,fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")}}),o=e.define({name:"pushNotification",element:"notification",namespace:r.Namespace.PUSH_0});e.withDataForm(function(t){e.extend(o,t),e.extend(n,t)}),e.extendIQ(n),e.extendIQ(i)},e.exports=t.default},function(e,t,n){"use strict";var r=n(38).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(13),a=r(o);t.default=function(e){var t=e.utils,n=e.define({name:"_reachAddr",namespace:i.Namespace.REACH_0,element:"addr",fields:{uri:t.attribute("uri"),$desc:{get:function(){return t.getSubLangText(this.xml,i.Namespace.REACH_0,"desc",this.lang)}},desc:{get:function(){return this.$desc[this.lang]||""},set:function(e){t.setSubLangText(this.xml,i.Namespace.REACH_0,"desc",e,this.lang)}}}}),r={get:function(){var e=t.find(this.xml,i.Namespace.REACH_0,"reach"),r=[];if(e.length){var o=t.find(e[0],i.Namespace.REACH_0,"addr");(0,a.default)(o,function(e){r.push(new n({},e))})}return r},set:function(e){var r=t.findOrCreate(this.xml,i.Namespace.REACH_0,"reach");t.setAttribute(r,"xmlns",i.Namespace.REACH_0),(0,a.default)(e,function(e){var t=new n(e);r.appendChild(t.xml)})}};e.withPubsubItem(function(t){e.add(t,"reach",r)}),e.withPresence(function(t){e.add(t,"reach",r)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"register",namespace:r.Namespace.REGISTER,element:"query",fields:{instructions:t.textSub(r.Namespace.REGISTER,"instructions"),registered:t.boolSub(r.Namespace.REGISTER,"registered"),remove:t.boolSub(r.Namespace.REGISTER,"remove"),username:t.textSub(r.Namespace.REGISTER,"username"),nick:t.textSub(r.Namespace.REGISTER,"nick"),password:t.textSub(r.Namespace.REGISTER,"password"),name:t.textSub(r.Namespace.REGISTER,"name"),first:t.textSub(r.Namespace.REGISTER,"first"),last:t.textSub(r.Namespace.REGISTER,"last"),email:t.textSub(r.Namespace.REGISTER,"email"),address:t.textSub(r.Namespace.REGISTER,"address"),city:t.textSub(r.Namespace.REGISTER,"city"),state:t.textSub(r.Namespace.REGISTER,"state"),zip:t.textSub(r.Namespace.REGISTER,"zip"),phone:t.textSub(r.Namespace.REGISTER,"phone"),url:t.textSub(r.Namespace.REGISTER,"url"),date:t.textSub(r.Namespace.REGISTER,"date"),misc:t.textSub(r.Namespace.REGISTER,"misc"),text:t.textSub(r.Namespace.REGISTER,"text"),key:t.textSub(r.Namespace.REGISTER,"key")}});e.extendIQ(n),e.withDefinition("x",r.Namespace.OOB,function(t){e.extend(n,t)}),e.withDataForm(function(t){e.extend(n,t)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"reference",element:"reference",namespace:r.Namespace.REFERENCE_0,fields:{type:t.attribute("type"),begin:t.numberAttribute("begin"),end:t.numberAttribute("end"),uri:t.attribute("uri"),anchor:t.attribute("anchor")}}),i=t.multiExtension(n);e.withMessage(function(t){e.add(t,"references",i)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"roster",namespace:r.Namespace.ROSTER,element:"query",fields:{ver:{get:function(){return t.getAttribute(this.xml,"ver")},set:function(e){var n=""===e;t.setAttribute(this.xml,"ver",e,n)}}}}),i=e.define({name:"_rosterItem",namespace:r.Namespace.ROSTER,element:"item",fields:{jid:t.jidAttribute("jid",!0),name:t.attribute("name"),subscription:t.attribute("subscription","none"),subscriptionRequested:{get:function(){return"subscribe"===t.getAttribute(this.xml,"ask")}},preApproved:t.boolAttribute(r.Namespace.ROSTER,"approved"),groups:t.multiTextSub(r.Namespace.ROSTER,"group")}});e.extend(n,i,"items"),e.extendIQ(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils;e.define({name:"rsm",namespace:r.Namespace.RSM,element:"set",fields:{after:t.textSub(r.Namespace.RSM,"after"),before:{get:function(){return t.getSubText(this.xml,r.Namespace.RSM,"before")},set:function(e){!0===e?t.findOrCreate(this.xml,r.Namespace.RSM,"before"):t.setSubText(this.xml,r.Namespace.RSM,"before",e)}},count:t.numberSub(r.Namespace.RSM,"count",!1,0),first:t.textSub(r.Namespace.RSM,"first"),firstIndex:t.subAttribute(r.Namespace.RSM,"first","index"),index:t.textSub(r.Namespace.RSM,"index"),last:t.textSub(r.Namespace.RSM,"last"),max:t.textSub(r.Namespace.RSM,"max")}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n={get:function(){var e=t.find(this.xml,r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb"),n=[];return e.forEach(function(e){n.push({type:t.getAttribute(e,"type"),subtype:t.getAttribute(e,"subtype")})}),e=t.find(this.xml,r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int"),e.forEach(function(e){n.push({type:t.getAttribute(e,"type"),value:t.getAttribute(e,"value")})}),n},set:function(e){var n=this,i=t.find(this.xml,r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb");i.forEach(function(e){n.xml.removeChild(e)}),i=t.find(this.xml,r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int"),i.forEach(function(e){n.xml.removeChild(e)}),e.forEach(function(e){var i=void 0;"trr-int"===e.type?(i=t.createElement(r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int",r.Namespace.JINGLE_RTP_1),t.setAttribute(i,"type",e.type),t.setAttribute(i,"value",e.value)):(i=t.createElement(r.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb",r.Namespace.JINGLE_RTP_1),t.setAttribute(i,"type",e.type),t.setAttribute(i,"subtype",e.subtype)),n.xml.appendChild(i)})}},i=e.define({name:"bandwidth",namespace:r.Namespace.JINGLE_RTP_1,element:"bandwidth",fields:{type:t.attribute("type"),bandwidth:t.text()}}),o=e.define({name:"_rtp",namespace:r.Namespace.JINGLE_RTP_1,element:"description",tags:["jingle-application"],fields:{applicationType:{value:"rtp"},media:t.attribute("media"),ssrc:t.attribute("ssrc"),mux:t.boolSub(r.Namespace.JINGLE_RTP_1,"rtcp-mux"),encryption:{get:function(){var e=t.find(this.xml,r.Namespace.JINGLE_RTP_1,"encryption");if(!e.length)return[];e=e[0];var n=this,i=t.find(e,r.Namespace.JINGLE_RTP_1,"crypto"),o=[];return i.forEach(function(e){o.push(new s({},e,n).toJSON())}),o},set:function(e){var n=t.find(this.xml,r.Namespace.JINGLE_RTP_1,"encryption");if(n.length&&this.xml.removeChild(n),e.length){t.setBoolSubAttribute(this.xml,r.Namespace.JINGLE_RTP_1,"encryption","required",!0),n=t.find(this.xml,r.Namespace.JINGLE_RTP_1,"encryption")[0];var i=this;e.forEach(function(e){var t=new s(e,null,i);n.appendChild(t.xml)})}}},feedback:n,headerExtensions:{get:function(){var e=t.find(this.xml,r.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext"),n=[];return e.forEach(function(e){n.push({id:t.getAttribute(e,"id"),uri:t.getAttribute(e,"uri"),senders:t.getAttribute(e,"senders")})}),n},set:function(e){var n=this;t.find(this.xml,r.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext").forEach(function(e){n.xml.removeChild(e)}),e.forEach(function(e){var i=t.createElement(r.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext",r.Namespace.JINGLE_RTP_1);t.setAttribute(i,"id",e.id),t.setAttribute(i,"uri",e.uri),t.setAttribute(i,"senders",e.senders),n.xml.appendChild(i)})}}}}),a=e.define({name:"_payloadType",namespace:r.Namespace.JINGLE_RTP_1,element:"payload-type",fields:{channels:t.attribute("channels"),clockrate:t.attribute("clockrate"),id:t.attribute("id"),maxptime:t.attribute("maxptime"),name:t.attribute("name"),ptime:t.attribute("ptime"),feedback:n,parameters:{get:function(){var e=[];return t.find(this.xml,r.Namespace.JINGLE_RTP_1,"parameter").forEach(function(n){e.push({key:t.getAttribute(n,"name"),value:t.getAttribute(n,"value")})}),e},set:function(e){var n=this;e.forEach(function(e){var i=t.createElement(r.Namespace.JINGLE_RTP_1,"parameter");t.setAttribute(i,"name",e.key),t.setAttribute(i,"value",e.value),n.xml.appendChild(i)})}}}}),s=e.define({name:"crypto",namespace:r.Namespace.JINGLE_RTP_1,element:"crypto",fields:{cipherSuite:t.attribute("crypto-suite"),keyParams:t.attribute("key-params"),sessionParams:t.attribute("session-params"),tag:t.attribute("tag")}}),u=e.define({name:"_group",namespace:r.Namespace.JINGLE_GROUPING_0,element:"group",fields:{semantics:t.attribute("semantics"),contents:t.multiSubAttribute(r.Namespace.JINGLE_GROUPING_0,"content","name")}}),c=e.define({name:"_sourceGroup",namespace:r.Namespace.JINGLE_RTP_SSMA_0,element:"ssrc-group",fields:{semantics:t.attribute("semantics"),sources:t.multiSubAttribute(r.Namespace.JINGLE_RTP_SSMA_0,"source","ssrc")}}),l=e.define({name:"_source",namespace:r.Namespace.JINGLE_RTP_SSMA_0,element:"source",fields:{ssrc:t.attribute("ssrc"),parameters:{get:function(){var e=[];return t.find(this.xml,r.Namespace.JINGLE_RTP_SSMA_0,"parameter").forEach(function(n){e.push({key:t.getAttribute(n,"name"),value:t.getAttribute(n,"value")})}),e},set:function(e){var n=this;e.forEach(function(e){var i=t.createElement(r.Namespace.JINGLE_RTP_SSMA_0,"parameter");t.setAttribute(i,"name",e.key),t.setAttribute(i,"value",e.value),n.xml.appendChild(i)})}}}}),f=e.define({name:"mute",namespace:r.Namespace.JINGLE_RTP_INFO_1,element:"mute",fields:{creator:t.attribute("creator"),name:t.attribute("name")}}),d=e.define({name:"unmute",namespace:r.Namespace.JINGLE_RTP_INFO_1,element:"unmute",fields:{creator:t.attribute("creator"),name:t.attribute("name")}});e.extend(o,i),e.extend(o,a,"payloads"),e.extend(o,l,"sources"),e.extend(o,c,"sourceGroups"),e.withDefinition("content",r.Namespace.JINGLE_1,function(t){e.extend(t,o)}),e.withDefinition("jingle",r.Namespace.JINGLE_1,function(n){e.extend(n,f),e.extend(n,d),e.extend(n,u,"groups"),e.add(n,"ringing",t.boolSub(r.Namespace.JINGLE_RTP_INFO_1,"ringing")),e.add(n,"hold",t.boolSub(r.Namespace.JINGLE_RTP_INFO_1,"hold")),e.add(n,"active",t.boolSub(r.Namespace.JINGLE_RTP_INFO_1,"active"))})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={insert:"t",erase:"e",wait:"w"},o={t:"insert",e:"erase",w:"wait"};t.default=function(e){var t=e.utils,n=e.define({name:"rtt",namespace:r.Namespace.RTT_0,element:"rtt",fields:{id:t.attribute("id"),event:t.attribute("event","edit"),seq:t.numberAttribute("seq"),actions:{get:function(){for(var e=[],n=0,i=this.xml.childNodes.length;n<i;n++){var a=this.xml.childNodes[n],s=a.localName,u={};if(a.namespaceURI===r.Namespace.RTT_0&&o[s]){u.type=o[s];var c=t.getAttribute(a,"p");c&&(u.pos=parseInt(c,10));var l=t.getAttribute(a,"n");l&&(u.num=parseInt(l,10));var f=t.getText(a);f&&"t"===s&&(u.text=f),e.push(u)}}return e},set:function(e){for(var n=this,o=0,a=this.xml.childNodes.length;o<a;o++)this.xml.removeChild(this.xml.childNodes[o]);e.forEach(function(e){if(i[e.type]){var o=t.createElement(r.Namespace.RTT_0,i[e.type],r.Namespace.RTT_0);void 0!==e.pos&&t.setAttribute(o,"p",e.pos.toString()),e.num&&t.setAttribute(o,"n",e.num.toString()),e.text&&t.setText(o,e.text),n.xml.appendChild(o)}})}}}});e.extendMessage(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure"];t.default=function(e){var t=e.utils,n=e.define({name:"sasl",namespace:r.Namespace.SASL,element:"mechanisms",fields:{mechanisms:t.multiTextSub(r.Namespace.SASL,"mechanism")}});e.define({name:"saslAuth",eventName:"sasl:auth",namespace:r.Namespace.SASL,element:"auth",topLevel:!0,fields:{value:t.text(),mechanism:t.attribute("mechanism")}}),e.define({name:"saslChallenge",eventName:"sasl:challenge",namespace:r.Namespace.SASL,element:"challenge",topLevel:!0,fields:{value:t.text()}}),e.define({name:"saslResponse",eventName:"sasl:response",namespace:r.Namespace.SASL,element:"response",topLevel:!0,fields:{value:t.text()}}),e.define({name:"saslAbort",eventName:"sasl:abort",namespace:r.Namespace.SASL,element:"abort",topLevel:!0}),e.define({name:"saslSuccess",eventName:"sasl:success",namespace:r.Namespace.SASL,element:"success",topLevel:!0,fields:{value:t.text()}}),e.define({name:"saslFailure",eventName:"sasl:failure",namespace:r.Namespace.SASL,element:"failure",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},condition:t.enumSub(r.Namespace.SASL,i),$text:{get:function(){return t.getSubLangText(this.xml,r.Namespace.SASL,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,r.Namespace.SASL,"text",e,this.lang)}}}}),e.extendStreamFeatures(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"session",namespace:r.Namespace.SESSION,element:"session",fields:{required:e.utils.boolSub(r.Namespace.SESSION,"required"),optional:e.utils.boolSub(r.Namespace.SESSION,"optional")}});e.extendIQ(t),e.extendStreamFeatures(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n={get:function(){var e=t.find(this.xml,r.Namespace.SHIM,"headers");return e.length?t.getMultiSubText(e[0],r.Namespace.SHIM,"header",function(e){var n=t.getAttribute(e,"name");if(n)return{name:n,value:t.getText(e)}}):[]},set:function(n){var i=t.findOrCreate(this.xml,r.Namespace.SHIM,"headers");e.setMultiSubText(i,r.Namespace.SHIM,"header",n,function(e){var n=t.createElement(r.Namespace.SHIM,"header",r.Namespace.SHIM);t.setAttribute(n,"name",e.name),t.setText(n,e.value),i.appendChild(n)})}};e.withMessage(function(t){e.add(t,"headers",n)}),e.withPresence(function(t){e.add(t,"headers",n)})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"streamManagement",namespace:r.Namespace.SMACKS_3,element:"sm"});e.define({name:"smEnable",eventName:"stream:management:enable",namespace:r.Namespace.SMACKS_3,element:"enable",topLevel:!0,fields:{resume:t.boolAttribute("resume")}}),e.define({name:"smEnabled",eventName:"stream:management:enabled",namespace:r.Namespace.SMACKS_3,element:"enabled",topLevel:!0,fields:{id:t.attribute("id"),resume:t.boolAttribute("resume")}}),e.define({name:"smResume",eventName:"stream:management:resume",namespace:r.Namespace.SMACKS_3,element:"resume",topLevel:!0,fields:{h:t.numberAttribute("h",!1,0),previd:t.attribute("previd")}}),e.define({name:"smResumed",eventName:"stream:management:resumed",namespace:r.Namespace.SMACKS_3,element:"resumed",topLevel:!0,fields:{h:t.numberAttribute("h",!1,0),previd:t.attribute("previd")}}),e.define({name:"smFailed",eventName:"stream:management:failed",namespace:r.Namespace.SMACKS_3,element:"failed",topLevel:!0}),e.define({name:"smAck",eventName:"stream:management:ack",namespace:r.Namespace.SMACKS_3,element:"a",topLevel:!0,fields:{h:t.numberAttribute("h",!1,0)}}),e.define({name:"smRequest",eventName:"stream:management:request",namespace:r.Namespace.SMACKS_3,element:"r",topLevel:!0}),e.extendStreamFeatures(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils;e.define({name:"stream",namespace:r.Namespace.STREAM,element:"stream",fields:{lang:t.langAttribute(),id:t.attribute("id"),version:t.attribute("version","1.0"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0)}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"];t.default=function(e){var t=e.utils;e.define({name:"streamError",namespace:r.Namespace.STREAM,element:"error",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},condition:t.enumSub(r.Namespace.STREAM_ERROR,i),seeOtherHost:{get:function(){return t.getSubText(this.xml,r.Namespace.STREAM_ERROR,"see-other-host")},set:function(e){this.condition="see-other-host",t.setSubText(this.xml,r.Namespace.STREAM_ERROR,"see-other-host",e)}},$text:{get:function(){return t.getSubLangText(this.xml,r.Namespace.STREAM_ERROR,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,r.Namespace.STREAM_ERROR,"text",e,this.lang)}}}})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=(e.define({name:"streamFeatures",namespace:r.Namespace.STREAM,element:"features",topLevel:!0}),e.define({name:"rosterVersioning",namespace:r.Namespace.ROSTER_VERSIONING,element:"ver"})),n=e.define({name:"subscriptionPreApproval",namespace:r.Namespace.SUBSCRIPTION_PREAPPROVAL,element:"sub"});e.extendStreamFeatures(t),e.extendStreamFeatures(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"time",namespace:r.Namespace.TIME,element:"time",fields:{utc:e.utils.dateSub(r.Namespace.TIME,"utc"),tzo:e.utils.tzoSub(r.Namespace.TIME,"tzo",0)}});e.extendIQ(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"tune",namespace:r.Namespace.TUNE,element:"tune",fields:{artist:t.textSub(r.Namespace.TUNE,"artist"),length:t.numberSub(r.Namespace.TUNE,"length"),rating:t.numberSub(r.Namespace.TUNE,"rating"),source:t.textSub(r.Namespace.TUNE,"source"),title:t.textSub(r.Namespace.TUNE,"title"),track:t.textSub(r.Namespace.TUNE,"track"),uri:t.textSub(r.Namespace.TUNE,"uri")}});e.extendPubsubItem(n),e.extendMessage(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.utils,n=e.define({name:"vCardTemp",namespace:r.Namespace.VCARD_TEMP,element:"vCard",fields:{role:t.textSub(r.Namespace.VCARD_TEMP,"ROLE"),website:t.textSub(r.Namespace.VCARD_TEMP,"URL"),title:t.textSub(r.Namespace.VCARD_TEMP,"TITLE"),description:t.textSub(r.Namespace.VCARD_TEMP,"DESC"),fullName:t.textSub(r.Namespace.VCARD_TEMP,"FN"),birthday:t.dateSub(r.Namespace.VCARD_TEMP,"BDAY"),nicknames:t.multiTextSub(r.Namespace.VCARD_TEMP,"NICKNAME"),jids:t.multiTextSub(r.Namespace.VCARD_TEMP,"JABBERID")}}),i=e.define({name:"_email",namespace:r.Namespace.VCARD_TEMP,element:"EMAIL",fields:{email:t.textSub(r.Namespace.VCARD_TEMP,"USERID"),home:t.boolSub(r.Namespace.VCARD_TEMP,"HOME"),work:t.boolSub(r.Namespace.VCARD_TEMP,"WORK"),preferred:t.boolSub(r.Namespace.VCARD_TEMP,"PREF")}}),o=e.define({name:"_tel",namespace:r.Namespace.VCARD_TEMP,element:"TEL",fields:{number:t.textSub(r.Namespace.VCARD_TEMP,"NUMBER"),home:t.boolSub(r.Namespace.VCARD_TEMP,"HOME"),work:t.boolSub(r.Namespace.VCARD_TEMP,"WORK"),mobile:t.boolSub(r.Namespace.VCARD_TEMP,"CELL"),preferred:t.boolSub(r.Namespace.VCARD_TEMP,"PREF")}}),a=e.define({name:"_address",namespace:r.Namespace.VCARD_TEMP,element:"ADR",fields:{street:t.textSub(r.Namespace.VCARD_TEMP,"STREET"),street2:t.textSub(r.Namespace.VCARD_TEMP,"EXTADD"),country:t.textSub(r.Namespace.VCARD_TEMP,"CTRY"),city:t.textSub(r.Namespace.VCARD_TEMP,"LOCALITY"),region:t.textSub(r.Namespace.VCARD_TEMP,"REGION"),postalCode:t.textSub(r.Namespace.VCARD_TEMP,"PCODE"),pobox:t.textSub(r.Namespace.VCARD_TEMP,"POBOX"),home:t.boolSub(r.Namespace.VCARD_TEMP,"HOME"),work:t.boolSub(r.Namespace.VCARD_TEMP,"WORK"),preferred:t.boolSub(r.Namespace.VCARD_TEMP,"PREF")}}),s=e.define({name:"organization",namespace:r.Namespace.VCARD_TEMP,element:"ORG",fields:{name:t.textSub(r.Namespace.VCARD_TEMP,"ORGNAME"),unit:t.textSub(r.Namespace.VCARD_TEMP,"ORGUNIT")}}),u=e.define({name:"name",namespace:r.Namespace.VCARD_TEMP,element:"N",fields:{family:t.textSub(r.Namespace.VCARD_TEMP,"FAMILY"),given:t.textSub(r.Namespace.VCARD_TEMP,"GIVEN"),middle:t.textSub(r.Namespace.VCARD_TEMP,"MIDDLE"),prefix:t.textSub(r.Namespace.VCARD_TEMP,"PREFIX"),suffix:t.textSub(r.Namespace.VCARD_TEMP,"SUFFIX")}}),c=e.define({name:"photo",namespace:r.Namespace.VCARD_TEMP,element:"PHOTO",fields:{type:t.textSub(r.Namespace.VCARD_TEMP,"TYPE"),data:t.textSub(r.Namespace.VCARD_TEMP,"BINVAL"),url:t.textSub(r.Namespace.VCARD_TEMP,"EXTVAL")}});e.extend(n,i,"emails"),e.extend(n,a,"addresses"),e.extend(n,o,"phoneNumbers"),e.extend(n,s),e.extend(n,u),e.extend(n,c),e.extendIQ(n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.define({name:"version",namespace:r.Namespace.VERSION,element:"query",fields:{name:e.utils.textSub(r.Namespace.VERSION,"name"),version:e.utils.textSub(r.Namespace.VERSION,"version"),os:e.utils.textSub(r.Namespace.VERSION,"os")}});e.extendIQ(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){e.withIQ(function(t){e.add(t,"visible",e.utils.boolSub(r.Namespace.INVISIBLE_0,"visible")),e.add(t,"invisible",e.utils.boolSub(r.Namespace.INVISIBLE_0,"invisible"))})},e.exports=t.default},function(e,t,n){"use strict";var r=n(25);e.exports=function(e){e.features={negotiated:{},order:[],handlers:{}},e.registerFeature=function(t,n,r){this.features.order.push({priority:n,name:t}),this.features.order.sort(function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}),this.features.handlers[t]=r.bind(e)},e.on("streamFeatures",function(t){var n=[],i=e.features.negotiated,o=e.features.handlers;e.features.order.forEach(function(e){var r=e.name;t[r]&&o[r]&&!i[r]&&n.push(function(e){i[r]?e():o[r](t,e)})}),r.series(n,function(t,n){"restart"===t?e.transport.restart():"disconnect"===t&&(e.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+n}),e.disconnect())})})}},function(e,t,n){"use strict";(function(t){var n="urn:ietf:params:xml:ns:xmpp-sasl";e.exports=function(e,r){var i=r.getDefinition("auth",n),o=r.getDefinition("response",n),a=r.getDefinition("abort",n);e.registerFeature("sasl",100,function(e,n){var r=this,s=r.SASLFactory.create(e.sasl.mechanisms);if(!s)return r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed");r.on("sasl:success","sasl",function(){r.features.negotiated.sasl=!0,r.releaseGroup("sasl"),r.emit("auth:success",r.config.credentials),n("restart")}),r.on("sasl:challenge","sasl",function(e){return s.challenge(new t(e.value,"base64").toString()),r.getCredentials(function(e,n){if(e)return r.send(new a);var i=s.response(n);i||""===i?r.send(new o({value:new t(i).toString("base64")})):r.send(new o),s.cache&&(Object.keys(s.cache).forEach(function(e){s.cache[e]&&(r.config.credentials[e]=new t(s.cache[e]))}),r.emit("credentials:update",r.config.credentials))})}),r.on("sasl:failure","sasl",function(){r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed")}),r.on("sasl:abort","sasl",function(){r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed")});var u={mechanism:s.name};if(s.clientFirst)return r.getCredentials(function(e,n){if(e)return r.send(new a);u.value=new t(s.response(n)).toString("base64"),r.send(new i(u))});r.send(new i(u))}),e.on("disconnected",function(){e.features.negotiated.sasl=!1,e.releaseGroup("sasl")})}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=function(e,t){var r=this;if(!n.useStreamManagement)return t();r.on("stream:management:enabled","sm",function(e){r.sm.enabled(e),r.features.negotiated.streamManagement=!0,r.releaseGroup("sm"),t()}),r.on("stream:management:resumed","sm",function(e){r.sm.resumed(e),r.features.negotiated.streamManagement=!0,r.features.negotiated.bind=!0,r.sessionStarted=!0,r.releaseGroup("sm"),t("break")}),r.on("stream:management:failed","sm",function(){r.sm.failed(),r.emit("session:end"),r.releaseGroup("session"),r.releaseGroup("sm"),t()}),r.sm.id?r.sm.id&&r.sm.allowResume?r.sm.resume():(r.releaseGroup("sm"),t()):r.features.negotiated.bind?r.sm.enable():(r.releaseGroup("sm"),t())};e.on("disconnected",function(){e.features.negotiated.streamManagement=!1}),e.registerFeature("streamManagement",200,r),e.registerFeature("streamManagement",500,r)}},function(e,t,n){"use strict";var r=n(7).JID;e.exports=function(e,t,n){e.registerFeature("bind",300,function(e,t){var r=this;r.sendIq({type:"set",bind:{resource:n.resource}},function(n,i){if(n)return r.emit("session:error",n),t("disconnect","JID binding failed");r.features.negotiated.bind=!0,r.emit("session:prebind",i.bind.jid);var o=!e.session||e.session&&e.session.optional;return!r.sessionStarted&&o&&r.emit("session:started",r.jid),t()})}),e.on("session:started",function(){e.sessionStarted=!0}),e.on("session:prebind",function(t){e.jid=new r(t),e.emit("session:bound",e.jid)}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.bind=!1})}},function(e,t,n){"use strict";e.exports=function(e){e.registerFeature("session",1e3,function(e,t){var n=this;if(e.session.optional||n.sessionStarted)return n.features.negotiated.session=!0,t();n.sendIq({type:"set",session:{}},function(e){if(e)return t("disconnect","session request failed");n.features.negotiated.session=!0,n.sessionStarted||(n.sessionStarted=!0,n.emit("session:started",n.jid)),t()})}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.session=!1})}},function(e,t,n){"use strict";var r=n(82);e.exports=function(e){e.transports.websocket=r}},function(e,t,n){"use strict";var r=n(285);e.exports=function(e){e.transports["old-websocket"]=r}},function(e,t,n){"use strict";function r(e,t){function n(e){return[r.streamStart,e,r.streamEnd].join("")}o.call(this,e,t);var r=this;r.on("connected",function(){r.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">',r.streamEnd="</stream:stream>"}),r.off("raw:incoming"),r.on("raw:incoming",function(e){var o,a,s;if(e=e.trim(),""!==(e=e.replace(/^(\s*<\?.*\?>\s*)*/,""))){if(e.match(r.streamEnd))return r.disconnect();if(r.hasStream)try{o=t.parse(n(e))}catch(e){return s=new this.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",s,e),r.send(s),r.disconnect()}else{var u=e.trim().split(" ")[0].slice(1).split(":");r.streamStart=e,r.streamEnd="</"+u[0]+(u[1]?":"+u[1]:"")+">",a=!1;try{o=t.parse(e+r.streamEnd)}catch(n){try{o=t.parse(e),a=!0}catch(e){return s=new this.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",s,e),r.send(s),r.disconnect()}}r.hasStream=!0,r.stream=o,r.emit("stream:start",o)}i(o._extensions,function(e){!e.lang&&r.stream&&(e.lang=r.stream.lang),r.emit("stream:data",e)}),a&&r.emit("stream:end")}})}var i=n(13),o=n(82);n(8).inherits(r,o),r.prototype.startHeader=function(){return["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(this.config.version||"1.0")+'"','xml:lang="'+(this.config.lang||"en")+'"','to="'+this.config.server+'">'].join(" ")},r.prototype.closeHeader=function(){return"</stream:stream>"},e.exports=r},function(e,t,n){"use strict";var r=n(287);e.exports=function(e){e.transports.bosh=r}},function(e,t,n){"use strict";(function(t,r){function i(e,t){var n;return Promise.race([e,new Promise(function(e,r){n=setTimeout(function(){r()},t)})]).then(function(e){return clearTimeout(n),e})}function o(e){return new Promise(function(t){setTimeout(function(){t()},e)})}function a(e){return new Promise(function(t,n){d(e,function(e,r,i){return e?n(e):t([r,i])})})}function s(e,t,n){return i(a(e),1e3*(t||20)).then(function(e){var t=e[0],n=e[1];if(t.statusCode<200||t.statusCode>=400)throw new Error("HTTP Status Error"+t.statusCode);return n}).catch(function(){if(n>0)return o(1e3).then(function(){return s(e,t,n-1)});throw new Error("Dead Connection, exceeded retry limit")})}function u(e,t){var n=this;p.call(this),n.sm=e,n.stanzas={BOSH:t.getDefinition("body","http://jabber.org/protocol/httpbind"),StreamError:t.getStreamError()},n.sendQueue=[],n.requests=[],n.maxRequests=void 0,n.sid="",n.authenticated=!1,n.on("raw:incoming",function(e){if(""!==(e=e.trim())){var r,i;try{r=t.parse(e,n.stanzas.BOSH)}catch(e){return i=new n.stanzas.StreamError({condition:"invalid-xml"}),n.emit("stream:error",i,e),n.send(i),n.disconnect()}n.hasStream||(n.hasStream=!0,n.stream={id:r.sid||n.sid,lang:r.lang||"en",version:r.version||"1.0",to:r.to,from:r.from},n.sid=r.sid||n.sid,n.maxRequests=r.requests||n.maxRequests);r.payload.forEach(function(e){e.lang||(e.lang=n.stream.lang),n.emit("stream:data",e)}),"terminate"===r.type&&(n.rid=void 0,n.sid=void 0,n.emit("bosh:terminate",r),n.emit("stream:end"),n.emit("disconnected",n))}})}var c=n(15),l=n(83),f=n(8),d=n(64),p=n(9);f.inherits(u,p),u.prototype.connect=function(e){var t=this;if(t.config=c({rid:Math.ceil(9999999999*Math.random()),wait:30,maxRetries:5},e),t.hasStream=!1,t.sm.started=!1,t.url=e.boshURL,t.sid=t.config.sid,t.rid=t.config.rid,t.requests=[],t.sid)return t.hasStream=!0,t.stream={},t.emit("connected",t),t.emit("session:prebind",t.config.jid),void t.emit("session:started");t.rid++,t.request(new t.stanzas.BOSH({version:t.config.version||"1.0",to:t.config.server,lang:t.config.lang||"en",wait:t.config.wait,ver:"1.6",hold:1}))},u.prototype.disconnect=function(){this.hasStream?(this.rid++,this.request(new this.stanzas.BOSH({type:"terminate"}))):(this.stream=void 0,this.sid=void 0,this.rid=void 0,this.emit("disconnected",this))},u.prototype.restart=function(){var e=this;e.rid++,e.request(new e.stanzas.BOSH({to:e.config.server,lang:e.config.lang||"en",restart:"true"}))},u.prototype.send=function(e){var n=this;n.hasStream&&(n.sendQueue.push(e),t.nextTick(n.longPoll.bind(n)))},u.prototype.longPoll=function(){var e=!this.maxRequests||this.requests.length<this.maxRequests,t=!this.maxRequests||this.sendQueue.length>0&&this.requests.length<this.maxRequests;if(this.sid&&(e||t)){var n=this.sendQueue;this.sendQueue=[],this.rid++,this.request(new this.stanzas.BOSH({payload:n}))}},u.prototype.request=function(e){var n=this,i={id:n.rid,request:null};e.rid=n.rid,e.sid=n.sid;var o=new r(e.toString(),"utf8").toString();n.emit("raw:outgoing",o),n.requests.push(i);var a=s({uri:n.url,body:o,method:"POST",strictSSL:!0,headers:{"Content-Type":"text/xml"}},1.5*n.config.wait,this.config.maxRetries).catch(function(e){n.hasStream=!1;var t=new n.stanzas.StreamError({condition:"connection-timeout"});n.emit("stream:error",t,e),n.disconnect()});return i.request=a,a.then(function(e){n.emit("raw:incoming",new r(e,"utf8").toString())}),a.then(function(){n.requests=l(n.requests,function(e){return e.id!==i.id}),"terminate"!==e.type&&!n.requests.length&&n.authenticated&&t.nextTick(function(){t.nextTick(n.longPoll.bind(n))})})},e.exports=u}).call(t,n(10),n(4).Buffer)},function(e,t){function n(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}e.exports=n},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function o(e,t,n,i,s,u){return e===t||(null==e||null==t||!l(e)&&!r(t)?e!==e&&t!==t:a(e,t,o,n,i,s,u))}function a(e,t,n,r,i,o,a){var l=f(e),p=f(t),g=m,v=m;l||(g=O.call(e),g==h?g=_:g!=_&&(l=d(e))),p||(v=O.call(t),v==h?v=_:v!=_&&(p=d(t)));var y=g==_,b=v==_,w=g==v;if(w&&!l&&!y)return u(e,t,g);if(!i){var x=y&&E.call(e,"__wrapped__"),S=b&&E.call(t,"__wrapped__");if(x||S)return n(x?e.value():e,S?t.value():t,r,i,o,a)}if(!w)return!1;o||(o=[]),a||(a=[]);for(var k=o.length;k--;)if(o[k]==e)return a[k]==t;o.push(e),a.push(t);var C=(l?s:c)(e,t,n,r,i,o,a);return o.pop(),a.pop(),C}function s(e,t,n,r,o,a,s){var u=-1,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var f=e[u],d=t[u],p=r?r(o?d:f,o?f:d,u):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(t,function(e){return f===e||n(f,e,r,o,a,s)}))return!1}else if(f!==d&&!n(f,d,r,o,a,s))return!1}return!0}function u(e,t,n){switch(n){case g:case v:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case w:case x:return e==t+""}return!1}function c(e,t,n,r,i,o,a){var s=p(e),u=s.length;if(u!=p(t).length&&!i)return!1;for(var c=u;c--;){var l=s[c];if(!(i?l in t:E.call(t,l)))return!1}for(var f=i;++c<u;){l=s[c];var d=e[l],h=t[l],m=r?r(i?h:d,i?d:h,l):void 0;if(!(void 0===m?n(d,h,r,i,o,a):m))return!1;f||(f="constructor"==l)}if(!f){var g=e.constructor,v=t.constructor;if(g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var f=n(14),d=n(290),p=n(18),h="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Number]",_="[object Object]",w="[object RegExp]",x="[object String]",S=Object.prototype,E=S.hasOwnProperty,O=S.toString;e.exports=o},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function r(e){return!!e&&"object"==typeof e}function i(e){return r(e)&&n(e.length)&&!!a[u.call(e)]}var o=9007199254740991,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=Object.prototype,u=s.toString;e.exports=i},function(e,t,n){function r(e){return i(e)?e:Object(e)}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){e=r(e);for(var t=-1,n=a(e),i=n.length,o=Array(i);++t<i;){var s=n[t];o[t]=[s,e[s]]}return o}var a=n(18);e.exports=o},function(e,t,n){function r(e,t){var n=[];return i(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}var i=n(51);e.exports=r},function(e,t,n){"use strict";e.exports=function(e){e.use(n(294)),e.use(n(301)),e.use(n(302)),e.use(n(303)),e.use(n(304)),e.use(n(305)),e.use(n(306)),e.use(n(307)),e.use(n(308)),e.use(n(309)),e.use(n(310)),e.use(n(311)),e.use(n(312)),e.use(n(313)),e.use(n(314)),e.use(n(315)),e.use(n(316)),e.use(n(317)),e.use(n(318)),e.use(n(319)),e.use(n(320)),e.use(n(321)),e.use(n(333)),e.use(n(334)),e.use(n(335)),e.use(n(336)),e.use(n(337)),e.use(n(338)),e.use(n(339)),e.use(n(340)),e.use(n(341)),e.use(n(342)),e.use(n(343)),e.use(n(344)),e.use(n(345)),e.use(n(346)),e.use(n(347)),e.use(n(348)),e.use(n(349)),e.use(n(350)),e.use(n(351)),e.use(n(352)),e.use(n(353)),e.use(n(354))}},function(e,t,n){"use strict";(function(t){function r(e,n){var r="",i=e.features.sort(),o=[],u={},l=[];a(e.identities,function(e){o.push([e.category||"",e.type||"",e.lang||"",e.name||""].join("/"))}),o.sort();var f=o.length,d=i.length;if(o=s(o,!0),i=s(i,!0),d!==i.length||f!==o.length)return!1;r+=o.join("<")+"<",r+=i.join("<")+"<";var p=!1;if(a(e.extensions,function(e){for(var t=e.fields,n=0,r=t.length;n<r;n++)if("FORM_TYPE"===t[n].name&&"hidden"===t[n].type){var i=t[n].value;return u[i]?void(p=!0):(u[i]=e,void l.push(i))}}),p)return!1;l.sort(),a(l,function(e){var t=u[e],n={},i=[];r+="<"+e,a(t.fields,function(e){var t=e.name;if("FORM_TYPE"!==t){var r=e.value||"";"object"!==typeof r&&(r=r.split("\n")),n[t]=r.sort(),i.push(t)}}),i.sort(),a(i,function(e){r+="<"+e,a(n[e],function(e){r+="<"+e})})});var h=c.createHash(n).update(new t(r,"utf8")).digest("base64"),m=4-h.length%4;4===m&&(m=0);for(var g=0;g<m;g++)h+="=";return h}function i(e,t,n){var i=r(e,t);return i&&i===n}function o(){this.features={},this.identities={},this.extensions={},this.items={},this.caps={}}var a=n(13),s=n(295),u=n(7).JID,c=n(44);o.prototype={constructor:{value:o},addFeature:function(e,t){t=t||"",this.features[t]||(this.features[t]=[]),this.features[t].push(e)},addIdentity:function(e,t){t=t||"",this.identities[t]||(this.identities[t]=[]),this.identities[t].push(e)},addItem:function(e,t){t=t||"",this.items[t]||(this.items[t]=[]),this.items[t].push(e)},addExtension:function(e,t){t=t||"",this.extensions[t]||(this.extensions[t]=[]),this.extensions[t].push(e)}},e.exports=function(e){e.disco=new o(e),e.disco.addFeature("http://jabber.org/protocol/disco#info"),e.disco.addFeature("http://jabber.org/protocol/disco#items"),e.disco.addIdentity({category:"client",type:"web"}),e.registerFeature("caps",100,function(t,n){this.emit("disco:caps",{from:new u(e.jid.domain||e.config.server),caps:t.caps}),this.features.negotiated.caps=!0,n()}),e.getDiscoInfo=function(e,t,n){return this.sendIq({to:e,type:"get",discoInfo:{node:t}},n)},e.getDiscoItems=function(e,t,n){return this.sendIq({to:e,type:"get",discoItems:{node:t}},n)},e.updateCaps=function(){var t=this.config.capsNode||"https://stanza.io",n=JSON.parse(JSON.stringify({identities:this.disco.identities[""],features:this.disco.features[""],extensions:this.disco.extensions[""]})),i=r(n,"sha-1");return this.disco.caps={node:t,hash:"sha-1",ver:i},t=t+"#"+i,this.disco.features[t]=n.features,this.disco.identities[t]=n.identities,this.disco.extensions[t]=n.extensions,e.getCurrentCaps()},e.getCurrentCaps=function(){var t=e.disco.caps;if(!t.ver)return{ver:null,discoInfo:null};var n=t.node+"#"+t.ver;return{ver:t.ver,discoInfo:{identities:e.disco.identities[n],features:e.disco.features[n],extensions:e.disco.extensions[n]}}},e.on("presence",function(t){t.caps&&e.emit("disco:caps",t)}),e.on("iq:get:discoInfo",function(t){var n=t.discoInfo.node||"",r=t.discoInfo.node||"";n===e.disco.caps.node+"#"+e.disco.caps.ver&&(r=n,n=""),e.sendIq(t.resultReply({discoInfo:{node:r,identities:e.disco.identities[n]||[],features:e.disco.features[n]||[],extensions:e.disco.extensions[n]||[]}}))}),e.on("iq:get:discoItems",function(t){var n=t.discoItems.node;e.sendIq(t.resultReply({discoItems:{node:n,items:e.disco.items[n]||[]}}))}),e.verifyVerString=i,e.generateVerString=r,e.updateCaps()}}).call(t,n(4).Buffer)},function(e,t,n){function r(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function i(e,t,n,i){return(e?e.length:0)?(null!=t&&"boolean"!=typeof t&&(i=n,n=s(e,t,i)?void 0:t,t=!1),n=null==n?n:o(n,i,3),t?r(e,n):a(e,n)):[]}var o=n(84),a=n(296),s=n(53);e.exports=i},function(e,t,n){function r(e,t){var n=-1,r=i,u=e.length,c=!0,l=c&&u>=s,f=l?a():null,d=[];f?(r=o,c=!1):(l=!1,f=t?[]:d);e:for(;++n<u;){var p=e[n],h=t?t(p,n,e):p;if(c&&p===p){for(var m=f.length;m--;)if(f[m]===h)continue e;t&&f.push(h),d.push(p)}else r(f,h,0)<0&&((t||l)&&f.push(h),d.push(p))}return d}var i=n(297),o=n(298),a=n(299),s=200;e.exports=r},function(e,t){function n(e,t,n){if(t!==t)return r(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function r(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}e.exports=n},function(e,t){function n(e,t){var n=e.data;return("string"==typeof t||r(t)?n.set.has(t):n.hash[t])?0:-1}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){(function(t){function r(e){var t=e?e.length:0;for(this.data={hash:c(null),set:new u};t--;)this.push(e[t])}function i(e){var t=this.data;"string"==typeof e||a(e)?t.set.add(e):t.hash[e]=!0}function o(e){return c&&u?new r(e):null}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=n(52),u=s(t,"Set"),c=s(Object,"create");r.prototype.push=i,e.exports=o}).call(t,n(2))},function(e,t){e.exports=function(){return["sha1","sha224","sha256","sha384","sha512","md5","rmd160"]}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:attention:0"),e.getAttention=function(t,n){n=n||{},n.to=t,n.type="headline",n.attention=!0,e.sendMessage(n)},e.on("message",function(t){t.attention&&e.emit("attention",t)})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:avatar:metadata+notify"),e.on("pubsub:event",function(t){t.event.updated&&"urn:xmpp:avatar:metadata"===t.event.updated.node&&e.emit("avatar",{jid:t.from,source:"pubsub",avatars:t.event.updated.published[0].avatars})}),e.on("presence",function(t){t.avatarId&&e.emit("avatar",{jid:t.from,source:"vcard",avatars:[{id:t.avatarId}]})}),e.publishAvatar=function(e,t,n){return this.publish("","urn:xmpp:avatar:data",{id:e,avatarData:t},n)},e.useAvatars=function(e,t){return this.publish("","urn:xmpp:avatar:metadata",{id:"current",avatars:e},t)},e.getAvatar=function(e,t,n){return this.getItem(e,"urn:xmpp:avatar:data",t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:blocking"),e.block=function(t,n){return e.sendIq({type:"set",block:{jids:[t]}},n)},e.unblock=function(t,n){return e.sendIq({type:"set",unblock:{jids:[t]}},n)},e.getBlocked=function(t){return e.sendIq({type:"get",blockList:!0},t)},e.on("iq:set:block",function(t){e.emit("block",{jids:t.block.jids||[]}),e.sendIq(t.resultReply())}),e.on("iq:set:unblock",function(t){e.emit("unblock",{jids:t.unblock.jids||[]}),e.sendIq(t.resultReply())})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:bob"),e.getBits=function(t,n,r){return e.sendIq({to:t,type:"get",bob:{cid:n}},r)}}},function(e,t,n){"use strict";var r=n(15),i=n(83),o=n(7).JID;e.exports=function(e){e.getBookmarks=function(e){return this.getPrivateData({bookmarks:!0},e)},e.setBookmarks=function(e,t){return this.setPrivateData({bookmarks:e},t)},e.addBookmark=function(t,n){return t.jid=new o(t.jid),this.getBookmarks().then(function(n){var o=n.privateStorage.bookmarks.conferences||[],a=i(o,function(e){return e.jid.bare===t.jid.bare});return a.length?r(a[0],t):o.push(t),e.setBookmarks({conferences:o})}).then(function(e){return n&&n(null,e),e},function(e){if(!n)throw e;n(e)})},e.removeBookmark=function(t,n){return t=new o(t),this.getBookmarks().then(function(n){var r=n.privateStorage.bookmarks.conferences||[];return r=i(r,function(e){return t.bare!==e.jid.bare}),e.setBookmarks({conferences:r})}).then(function(e){n&&n(null,e)},function(e){if(!n)throw e;n(e)})}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:carbons:2"),e.enableCarbons=function(e){return this.sendIq({type:"set",enableCarbons:!0},e)},e.disableCarbons=function(e){return this.sendIq({type:"set",disableCarbons:!0},e)},e.on("message",function(t){return t.carbonSent?e.emit("carbon:sent",t):t.carbonReceived?e.emit("carbon:received",t):void 0}),e.on("carbon:*",function(t,n){var r=t.split(":")[1];if(n.from.bare===e.jid.bare){var i,o;"received"===r?(i=n.carbonReceived.forwarded.message,o=n.carbonReceived.forwarded.delay):(i=n.carbonSent.forwarded.message,o=n.carbonSent.forwarded.delay),i.delay||(i.delay={stamp:o?o.stamp:new Date(Date.now())}),i.carbon=!0,i.from.bare===e.jid.bare?e.emit("message:sent",i):e.emit("message",i)}})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("http://jabber.org/protocol/chatstates");var t=["chat","groupchat","normal"];e.on("message",function(n){t.indexOf(n.type||"normal")<0||n.chatState&&(e.emit("chat:state",{to:n.to,from:n.from,chatState:n.chatState}),e.emit("chatState",{to:n.to,from:n.from,chatState:n.chatState}))})}},function(e,t,n){"use strict";var r="http://jabber.org/protocol/commands";e.exports=function(e){e.disco.addFeature(r),e.disco.addItem({name:"Ad-Hoc Commands",node:r}),e.getCommands=function(t,n){return e.getDiscoItems(t,r,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:message-correct:0"),e.on("message",function(t){t.replace&&(e.emit("replace",t),e.emit("replace:"+t.id,t))})}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.getDefinition("active","urn:xmpp:csi"),r=t.getDefinition("inactive","urn:xmpp:csi");e.registerFeature("clientStateIndication",400,function(e,t){this.features.negotiated.clientStateIndication=!0,t()}),e.markActive=function(){this.features.negotiated.clientStateIndication&&this.send(new n)},e.markInactive=function(){this.features.negotiated.clientStateIndication&&this.send(new r)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("jabber:x:data"),e.disco.addFeature("urn:xmpp:media-element"),e.disco.addFeature("http://jabber.org/protocol/xdata-validate"),e.disco.addFeature("http://jabber.org/protocol/xdata-layout"),e.on("message",function(t){t.form&&e.emit("dataform",t)})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:delay")}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("jid\\20escaping")}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:extdisco:1"),e.getServices=function(e,t,n){return this.sendIq({type:"get",to:e,services:{type:t}},n)},e.getServiceCredentials=function(e,t,n){return this.sendIq({type:"get",to:e,credentials:{service:{host:t}}},n)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:forward:0")}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("http://jabber.org/protocol/geoloc"),e.disco.addFeature("http://jabber.org/protocol/geoloc+notify"),e.on("pubsub:event",function(t){t.event.updated&&"http://jabber.org/protocol/geoloc"===t.event.updated.node&&e.emit("geoloc",{jid:t.from,geoloc:t.event.updated.published[0].geoloc})}),e.publishGeoLoc=function(e,t){return this.publish("","http://jabber.org/protocol/geoloc",{geoloc:e},t)}}},function(e,t,n){"use strict";var r=n(44);e.exports=function(e){e.disco.addFeature("urn:xmpp:hashes:1"),r.getHashes().forEach(function(t){e.disco.addFeature("urn:xmpp:hash-function-text-names:"+t)})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:idle:1")}},function(e,t,n){"use strict";e.exports=function(e){e.goInvisible=function(e){return this.sendIq({type:"set",invisible:!0},e)},e.goVisible=function(e){return this.sendIq({type:"set",visible:!0},e)}}},function(e,t,n){"use strict";e.exports=function(e){e.prepJID=function(t,n){return e.sendIq({to:e.jid.domain,type:"get",jidPrep:t},n)}}},function(e,t,n){"use strict";(function(t){var r=n(322),i=i||t;e.exports=function(e){var t=e.jingle=new r;if(e.supportedICEServiceTypes={stun:!0,stuns:!0,turn:!0,turns:!0},e.disco.addFeature("urn:xmpp:jingle:1"),i.RTCPeerConnection){["urn:xmpp:jingle:apps:rtp:1","urn:xmpp:jingle:apps:rtp:audio","urn:xmpp:jingle:apps:rtp:video","urn:xmpp:jingle:apps:rtp:rtcb-fb:0","urn:xmpp:jingle:apps:rtp:rtp-hdrext:0","urn:xmpp:jingle:apps:rtp:ssma:0","urn:xmpp:jingle:apps:dtls:0","urn:xmpp:jingle:apps:grouping:0","urn:xmpp:jingle:apps:file-transfer:3","urn:xmpp:jingle:transports:ice-udp:1","urn:xmpp:jingle:transports:dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"].forEach(function(t){e.disco.addFeature(t)})}["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"].forEach(function(n){t.on(n,function(t,r){e.emit("jingle:"+n,t,r)})}),t.on("createdSession",function(t){e.emit("jingle:created",t)}),t.on("peerStreamAdded",function(t,n){e.emit("jingle:remotestream:added",t,n)}),t.on("peerStreamRemoved",function(t,n){e.emit("jingle:remotestream:removed",t,n)}),t.on("send",function(t){e.sendIq(t,function(t){t&&e.emit("jingle:error",t)})}),e.on("session:bound",function(e){t.jid=e,t.selfID=e.full}),e.on("iq:set:jingle",function(e){t.process(e)}),e.on("unavailable",function(e){var n=e.from.full;t.endPeerSessions(n,!0)}),e.discoverICEServers=function(t){return this.getServices(e.config.server).then(function(t){for(var n=t.services.services,r=[],i=0;i<n.length;i++){var o=n[i],a={};e.supportedICEServiceTypes[o.type]&&("stun"===o.type||"stuns"===o.type?(a.urls=o.type+":"+o.host,o.port&&(a.urls+=":"+o.port),r.push(a),e.jingle.addICEServer(a)):"turn"!==o.type&&"turns"!==o.type||(a.urls=o.type+":"+o.host,o.port&&(a.urls+=":"+o.port),o.transport&&"udp"!==o.transport&&(a.urls+="?transport="+o.transport),o.username&&(a.username=o.username),o.password&&(a.credential=o.password),r.push(a),e.jingle.addICEServer(a)))}return r}).then(function(e){return t&&t(null,e),e},function(e){if(!t)throw e;t(e)})}}}).call(t,n(2))},function(e,t,n){function r(e){a.call(this),e=e||{},this.jid=e.jid,this.selfID=e.selfID||this.jid&&this.jid.full||this.jid||"",this.sessions={},this.peers={},this.prepareSession=e.prepareSession||function(e){return e.applicationTypes.indexOf("rtp")>=0?new u(e):e.applicationTypes.indexOf("filetransfer")>=0?new c(e):void 0},this.performTieBreak=e.performTieBreak||function(e,t){var n=t.jingle.contents.map(function(e){if(e.application)return e.application.applicationType});return o(e.pendingApplicationTypes,n).length>0},this.config={debug:!1,peerConnectionConfig:{iceServers:e.iceServers||[{urls:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},media:{audio:!0,video:!0}};for(var t in e)this.config[t]=e[t];this.iceServers=this.config.peerConnectionConfig.iceServers}var i=n(8),o=n(323),a=n(9),s=n(45),u=n(324),c=n(330);i.inherits(r,a),r.prototype.addICEServer=function(e){"string"===typeof e&&(e={urls:e}),this.iceServers.push(e)},r.prototype.addSession=function(e){var t=this,n=e.sid,r=e.peerID;return this.sessions[n]=e,this.peers[r]||(this.peers[r]=[]),this.peers[r].push(e),e.on("terminated",function(){var i=t.peers[r]||[];i.length&&i.splice(i.indexOf(e),1),delete t.sessions[n]}),e.on("*",function(n,r,i,o){if("send"===n){var a=r.jingle&&r.jingle.action;e.isInitiator&&"session-initiate"===a&&t.emit("outgoing",e)}!t.config.debug||"log:debug"!==n&&"log:error"!==n||console.log("Jingle:",r,i,o),0!==n.indexOf("change")&&t.emit(n,r,i,o)}),this.emit("createdSession",e),e},r.prototype.createMediaSession=function(e,t,n){var r=new u({sid:t,peer:e,initiator:!0,stream:n,parent:this,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints});return this.addSession(r),r},r.prototype.createFileTransferSession=function(e,t){var n=new c({sid:t,peer:e,initiator:!0,parent:this,iceServers:this.iceServers});return this.addSession(n),n},r.prototype.endPeerSessions=function(e,t,n){e=e.full||e;var r=this.peers[e]||[];delete this.peers[e],r.forEach(function(e){e.end(t||"gone",n)})},r.prototype.endAllSessions=function(e,t){var n=this;Object.keys(this.peers).forEach(function(r){n.endPeerSessions(r,e,t)})},r.prototype._createIncomingSession=function(e,t){var n;return this.prepareSession&&(n=this.prepareSession(e,t)),n||(n=new s(e)),this.addSession(n),n},r.prototype._sendError=function(e,t,n){n.type||(n.type="cancel"),this.emit("send",{to:e,id:t,type:"error",error:n})},r.prototype._log=function(e,t){this.emit("log:"+e,t)},r.prototype.process=function(e){var t=this,n=e.jingle?e.jingle.sid:null,r=this.sessions[n]||null,i=e.id,o=e.from.full||e.from;if("error"===e.type){var a=e.error&&"tie-break"===e.error.jingleCondition;return r&&r.pending&&a?r.end("alternative-session",!0):(r&&(r.pendingAction=!1),this.emit("error",e))}if("result"===e.type)return void(r&&(r.pendingAction=!1));var s=e.jingle.action,u=e.jingle.contents||[],c=u.map(function(e){if(e.application)return e.application.applicationType}),l=u.map(function(e){if(e.transport)return e.transport.transportType});if("session-initiate"!==s){if(!r)return this._log("error","Unknown session",n),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if(r.peerID!==o||r.ended)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===s&&!r.pending)return this._log("error","Tried to accept session twice",n),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==s&&s===r.pendingAction&&(this._log("error","Tie break during pending request"),r.isInitiator))return this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(r){if(r.peerID!==o)return this._log("error","Duplicate sid from new sender"),this._sendError(o,i,{condition:"service-unavailable"});if(!r.pending)return this._log("error","Someone is doing this wrong"),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if(this.selfID>r.peerID&&this.performTieBreak(r,e))return this._log("error","Tie break new session because of duplicate sids"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(this.peers[o]&&this.peers[o].length)for(var f=0,d=this.peers[o].length;f<d;f++){var p=this.peers[o][f];if(p&&p.pending&&p.sid>n&&this.performTieBreak(p,e))return this._log("info","Tie break session-initiate"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===s){if(!u.length)return t._sendError(o,i,{condition:"bad-request"});r=this._createIncomingSession({sid:n,peer:e.from,peerID:o,initiator:!1,parent:this,applicationTypes:c,transportTypes:l,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints},e)}r.process(s,e.jingle,function(n){n?(t._log("error","Could not process request",e,n),t._sendError(o,i,n)):(t.emit("send",{to:o,id:i,type:"result"}),"session-initiate"===s&&t.emit("incoming",r))})},e.exports=r},function(e,t){function n(e,t){for(var n=[],i=0;i<e.length;i++)r(t,e[i])>-1&&n.push(e[i]);return n}function r(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}e.exports=n,n.big=function(e,t){for(var n=[],r={},i=0;i<t.length;i++)r[t[i]]=!0;for(var i=0;i<e.length;i++)r[e[i]]&&n.push(e[i]);return n}},function(e,t,n){function r(e,t){"rtp"===e.application.applicationType&&(delete e.transport,delete e.application.payloads,delete e.application.headerExtensions,e.application.mux=!1,e.application.sources&&(e.application.sources=e.application.sources.filter(function(e){return!(e.parameters.length<2)&&t.id===e.parameters[1].value.split(" ")[0]})),e.application.sourceGroups&&(e.application.sourceGroups=e.application.sourceGroups.filter(function(t){for(var n=!1,r=0;r<e.application.sources.length;r++)if(e.application.sources[r].ssrc===t.sources[0]){n=!0;break}return n})))}function i(e){(e.application.sources||[]).forEach(function(e){e.parameters=e.parameters.filter(function(e){return!("mslabel"===e.key||"label"===e.key)})})}function o(e){u.call(this,e),this.pc=new c({iceServers:e.iceServers||[],useJingle:!0},e.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this,e)),this.pc.on("endOfCandidates",this.onIceEndOfCandidates.bind(this,e)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addStream",this.onAddStream.bind(this)),this.pc.on("removeStream",this.onRemoveStream.bind(this)),this.pc.on("addChannel",this.onAddChannel.bind(this)),e.stream&&this.addStream(e.stream),this._ringing=!1}var a=n(8),s=n(46),u=n(45),c=n(85);a.inherits(o,u),Object.defineProperties(o.prototype,{ringing:{get:function(){return this._ringing},set:function(e){e!==this._ringing&&(this._ringing=e,this.emit("change:ringing",e))}},streams:{get:function(){return"closed"!==this.pc.signalingState?this.pc.getRemoteStreams():[]}}}),o.prototype=s(o.prototype,{start:function(e,t){var n=this;this.state="pending",t=t||function(){},this.pc.isInitiator=!0,this.pc.offer(e,function(r,o){if(r)return n._log("error","Could not create WebRTC offer",r),n.end("failed-application",!0);e&&e.mandatory&&o.jingle.contents.forEach(function(t){var n=t.application.media;t.description&&"rtp"===t.application.applicationType&&(e.mandatory.OfferToReceiveAudio||"audio"!==n||(t.senders="initiator"),e.mandatory.OfferToReceiveVideo||"video"!==n||(t.senders="initiator"))}),o.jingle.contents.forEach(i),n.send("session-initiate",o.jingle),t()})},accept:function(e,t){var n=this;1===arguments.length&&"function"===typeof e&&(t=e,e={}),t=t||function(){},e=e||{},n.constraints=e.constraints||{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(n.constraints,function(e,r){if(e)return n._log("error","Could not create WebRTC answer",e),n.end("failed-application");r.jingle.contents.forEach(i),n.send("session-accept",r.jingle),t()})},end:function(e,t){var n=this;this.streams.forEach(function(e){n.onRemoveStream({stream:e})}),this.pc.close(),u.prototype.end.call(this,e,t)},ring:function(){this._log("info","Ringing on incoming session"),this.ringing=!0,this.send("session-info",{ringing:!0})},mute:function(e,t){this._log("info","Muting",t),this.send("session-info",{mute:{creator:e,name:t}})},unmute:function(e,t){this._log("info","Unmuting",t),this.send("session-info",{unmute:{creator:e,name:t}})},hold:function(){this._log("info","Placing on hold"),this.send("session-info",{hold:!0})},resume:function(){this._log("info","Resuming from hold"),this.send("session-info",{active:!0})},addStream:function(e,t,n){var i=this;n=n||function(){},this.pc.addStream(e),t&&("object"===typeof t&&(i.constraints=t),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){if(t)return i._log("error","Could not create offer for adding new stream"),n(t);i.pc.answer(i.constraints,function(t,o){if(t)return i._log("error","Could not create answer for adding new stream"),n(t);o.jingle.contents.forEach(function(t){r(t,e)}),o.jingle.contents=o.jingle.contents.filter(function(e){return"rtp"===e.application.applicationType&&e.application.sources&&e.application.sources.length}),delete o.jingle.groups,i.send("source-add",o.jingle),n()})}))},addStream2:function(e,t){this.addStream(e,!0,t)},removeStream:function(e,t,n){var i=this;if(n=n||function(){},!t)return void this.pc.removeStream(e);"object"===typeof t&&(i.constraints=t);var o=this.pc.localDescription;o.contents.forEach(function(t){r(t,e)}),o.contents=o.contents.filter(function(e){return"rtp"===e.application.applicationType&&e.application.sources&&e.application.sources.length}),delete o.groups,this.send("source-remove",o),this.pc.removeStream(e),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){if(e)return i._log("error","Could not process offer for removing stream"),n(e);i.pc.answer(i.constraints,function(e){if(e)return i._log("error","Could not process answer for removing stream"),n(e);n()})})},removeStream2:function(e,t){this.removeStream(e,!0,t)},switchStream:function(e,t,n){var r=this;n=n||function(){};var i=this.pc.localDescription;i.contents.forEach(function(e){delete e.transport,delete e.application.payloads}),this.pc.removeStream(e),this.send("source-remove",i),this.pc.addStream(t),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){if(e)return r._log("error","Could not process offer for switching streams"),n(e);r.pc.answer(r.constraints,function(e,t){if(e)return r._log("error","Could not process answer for switching streams"),n(e);t.jingle.contents.forEach(function(e){delete e.transport,delete e.application.payloads}),r.send("source-add",t.jingle),n()})})},onIceCandidate:function(e,t){this._log("info","Discovered new ICE candidate",t.jingle),this.send("transport-info",t.jingle),e.signalEndOfCandidates&&(this.lastCandidate=t)},onIceEndOfCandidates:function(e){if(this._log("info","ICE end of candidates"),e.signalEndOfCandidates){var t=this.lastCandidate.jingle;t.contents[0].transport={transportType:t.contents[0].transport.transportType,gatheringComplete:!0},this.lastCandidate=null,this.send("transport-info",t)}},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":"stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onAddStream:function(e){this._log("info","Stream added"),this.emit("peerStreamAdded",this,e.stream)},onRemoveStream:function(e){this._log("info","Stream removed"),this.emit("peerStreamRemoved",this,e.stream)},onSessionInitiate:function(e,t){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1,this.pc.handleOffer({type:"offer",jingle:e},function(e){if(e)return n._log("error","Could not create WebRTC answer"),t({condition:"general-error"});t()})},onSessionAccept:function(e,t){var n=this;this.state="active",this.pc.handleAnswer({type:"answer",jingle:e},function(e){if(e)return n._log("error","Could not process WebRTC answer"),t({condition:"general-error"});n.emit("accepted",n),t()})},onSessionTerminate:function(e,t){var n=this;this._log("info","Terminating session"),this.streams.forEach(function(e){n.onRemoveStream({stream:e})}),this.pc.close(),u.prototype.end.call(this,e.reason,!0),t()},onSessionInfo:function(e,t){return e.ringing?(this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),t()):e.hold?(this._log("info","On hold"),this.emit("hold",this),t()):e.active?(this._log("info","Resuming from hold"),this.emit("resumed",this),t()):e.mute?(this._log("info","Muting",e.mute),this.emit("mute",this,e.mute),t()):e.unmute?(this._log("info","Unmuting",e.unmute),this.emit("unmute",this,e.unmute),t()):void t()},onTransportInfo:function(e,t){this.pc.processIce(e,function(){t()})},onSourceAdd:function(e,t){var n=this;this._log("info","Adding new stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(t,n){var i=t.application,o=i.sources||[],a=i.sourceGroups||[];e.contents&&e.contents.forEach(function(e){if(t.name===e.name){var i=e.application,s=i.sources||[];o=o.concat(s),r.contents[n].application.sources=JSON.parse(JSON.stringify(o));var u=i.sourceGroups||[];a=a.concat(u),r.contents[n].application.sourceGroups=JSON.parse(JSON.stringify(a))}})}),this.pc.handleOffer({type:"offer",jingle:r},function(e){if(e)return n._log("error","Error adding new stream source"),t({condition:"general-error"});n.pc.answer(n.constraints,function(e){if(e)return n._log("error","Error adding new stream source"),t({condition:"general-error"});t()})})},onSourceRemove:function(e,t){var n=this;this._log("info","Removing stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(t,n){var i=t.application,o=i.sources||[],a=i.sourceGroups||[];e.contents.forEach(function(e){if(t.name===e.name){var i,s,u,c,l=e.application,f=l.sources||[],d=l.sourceGroups||[];for(s=0;s<f.length;s++){for(i=-1,u=0;u<o.length;u++)if(f[s].ssrc===o[u].ssrc){i=u;break}i>-1&&(o.splice(i,1),r.contents[n].application.sources=JSON.parse(JSON.stringify(o)))}for(s=0;s<d.length;s++){for(i=-1,u=0;u<a.length;u++)if(d[s].semantics===a[u].semantics&&d[s].sources.length===a[u].sources.length){var p=!0;for(c=0;c<d[s].sources.length;c++)if(d[s].sources[c]!==a[u].sources[c]){p=!1;break}if(p){i=u;break}}i>-1&&(a.splice(i,1),r.contents[n].application.sourceGroups=JSON.parse(JSON.stringify(a)))}}})}),this.pc.handleOffer({type:"offer",jingle:r},function(e){if(e)return n._log("error","Error removing stream source"),t({condition:"general-error"});n.pc.answer(n.constraints,function(e){if(e)return n._log("error","Error removing stream source"),t({condition:"general-error"});t()})})},onAddChannel:function(e){this.emit("addChannel",e)}}),e.exports=o},function(e,t,n){var r=n(326),i=n(327);t.toIncomingSDPOffer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingSDPOffer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"outgoing"})},t.toIncomingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"outgoing"})},t.toCandidateSDP=r.toCandidateSDP,t.toMediaSDP=r.toMediaSDP,t.toSessionSDP=r.toSessionSDP,t.toIncomingJSONOffer=function(e,t){return i.toSessionJSON(e,{role:"responder",direction:"incoming",creators:t})},t.toOutgoingJSONOffer=function(e,t){return i.toSessionJSON(e,{role:"initiator",direction:"outgoing",creators:t})},t.toIncomingJSONAnswer=function(e,t){return i.toSessionJSON(e,{role:"initiator",direction:"incoming",creators:t})},t.toOutgoingJSONAnswer=function(e,t){return i.toSessionJSON(e,{role:"responder",direction:"outgoing",creators:t})},t.toIncomingMediaJSONOffer=function(e,t){return i.toMediaJSON(e,{role:"responder",direction:"incoming",creator:t})},t.toOutgoingMediaJSONOffer=function(e,t){return i.toMediaJSON(e,{role:"initiator",direction:"outgoing",creator:t})},t.toIncomingMediaJSONAnswer=function(e,t){return i.toMediaJSON(e,{role:"initiator",direction:"incoming",creator:t})},t.toOutgoingMediaJSONAnswer=function(e,t){return i.toMediaJSON(e,{role:"responder",direction:"outgoing",creator:t})},t.toCandidateJSON=i.toCandidateJSON,t.toMediaJSON=i.toMediaJSON,t.toSessionJSON=i.toSessionJSON},function(e,t,n){var r=n(86);t.toSessionSDP=function(e,n){var r=(n.role,n.direction,n.sid||e.sid||Date.now()),i=n.time||Date.now(),o=["v=0","o=- "+r+" "+i+" IN IP4 0.0.0.0","s=-","t=0 0"],a=e.contents||[],s=!1;return a.forEach(function(e){e.application.sources&&e.application.sources.length&&(s=!0)}),s&&o.push("a=msid-semantic: WMS *"),(e.groups||[]).forEach(function(e){o.push("a=group:"+e.semantics+" "+e.contents.join(" "))}),a.forEach(function(e){o.push(t.toMediaSDP(e,n))}),o.join("\r\n")+"\r\n"},t.toMediaSDP=function(e,n){var i=[],o=n.role||"initiator",a=n.direction||"outgoing",s=e.application,u=e.transport,c=s.payloads||[],l=u&&u.fingerprints||[],f=[];if("datachannel"==s.applicationType?(f.push("application"),f.push("1"),f.push("DTLS/SCTP"),u.sctp&&u.sctp.forEach(function(e){f.push(e.number)})):(f.push(s.media),f.push("1"),l.length>0?f.push("UDP/TLS/RTP/SAVPF"):s.encryption&&s.encryption.length>0?f.push("RTP/SAVPF"):f.push("RTP/AVPF"),c.forEach(function(e){f.push(e.id)})),i.push("m="+f.join(" ")),i.push("c=IN IP4 0.0.0.0"),s.bandwidth&&s.bandwidth.type&&s.bandwidth.bandwidth&&i.push("b="+s.bandwidth.type+":"+s.bandwidth.bandwidth),"rtp"==s.applicationType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),u){u.ufrag&&i.push("a=ice-ufrag:"+u.ufrag),u.pwd&&i.push("a=ice-pwd:"+u.pwd);l.forEach(function(e){i.push("a=fingerprint:"+e.hash+" "+e.value),e.setup&&i.push("a=setup:"+e.setup)}),u.sctp&&u.sctp.forEach(function(e){i.push("a=sctpmap:"+e.number+" "+e.protocol+" "+e.streams)})}return"rtp"==s.applicationType&&i.push("a="+(r[o][a][e.senders]||"sendrecv")),i.push("a=mid:"+e.name),s.sources&&s.sources.length&&(s.sources[0].parameters||[]).forEach(function(e){"msid"===e.key&&i.push("a=msid:"+e.value)}),s.mux&&i.push("a=rtcp-mux"),(s.encryption||[]).forEach(function(e){i.push("a=crypto:"+e.tag+" "+e.cipherSuite+" "+e.keyParams+(e.sessionParams?" "+e.sessionParams:""))}),s.googConferenceFlag&&i.push("a=x-google-flag:conference"),c.forEach(function(e){var t="a=rtpmap:"+e.id+" "+e.name+"/"+e.clockrate;if(e.channels&&"1"!=e.channels&&(t+="/"+e.channels),i.push(t),e.parameters&&e.parameters.length){var n=["a=fmtp:"+e.id],r=[];e.parameters.forEach(function(e){r.push((e.key?e.key+"=":"")+e.value)}),n.push(r.join(";")),i.push(n.join(" "))}e.feedback&&e.feedback.forEach(function(t){"trr-int"===t.type?i.push("a=rtcp-fb:"+e.id+" trr-int "+(t.value?t.value:"0")):i.push("a=rtcp-fb:"+e.id+" "+t.type+(t.subtype?" "+t.subtype:""))})}),s.feedback&&s.feedback.forEach(function(e){"trr-int"===e.type?i.push("a=rtcp-fb:* trr-int "+(e.value?e.value:"0")):i.push("a=rtcp-fb:* "+e.type+(e.subtype?" "+e.subtype:""))}),(s.headerExtensions||[]).forEach(function(e){i.push("a=extmap:"+e.id+(e.senders?"/"+r[o][a][e.senders]:"")+" "+e.uri)}),(s.sourceGroups||[]).forEach(function(e){i.push("a=ssrc-group:"+e.semantics+" "+e.sources.join(" "))}),(s.sources||[]).forEach(function(e){for(var t=0;t<e.parameters.length;t++){var n=e.parameters[t];i.push("a=ssrc:"+(e.ssrc||s.ssrc)+" "+n.key+(n.value?":"+n.value:""))}}),(u.candidates||[]).forEach(function(e){i.push(t.toCandidateSDP(e))}),i.join("\r\n")},t.toCandidateSDP=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"srflx"!==n&&"prflx"!==n&&"relay"!==n||e.relAddr&&e.relPort&&(t.push("raddr"),t.push(e.relAddr),t.push("rport"),t.push(e.relPort)),e.tcpType&&"TCP"==e.protocol.toUpperCase()&&(t.push("tcptype"),t.push(e.tcpType)),t.push("generation"),t.push(e.generation||"0"),"a=candidate:"+t.join(" ")}},function(e,t,n){var r=n(86),i=n(328),o=Math.random();t._setIdCounter=function(e){o=e},t.toSessionJSON=function(e,n){var r,o=n.creators||[],a=n.role||"initiator",s=n.direction||"outgoing",u=e.split(/\r?\nm=/);for(r=1;r<u.length;r++)u[r]="m="+u[r],r!==u.length-1&&(u[r]+="\r\n");var c=u.shift()+"\r\n",l=i.lines(c),f={},d=[];for(r=0;r<u.length;r++)d.push(t.toMediaJSON(u[r],c,{role:a,direction:s,creator:o[r]||"initiator"}));f.contents=d;var p=i.findLines("a=group:",l);return p.length&&(f.groups=i.groups(p)),f},t.toMediaJSON=function(e,n,o){var a=o.creator||"initiator",s=o.role||"initiator",u=o.direction||"outgoing",c=i.lines(e),l=i.lines(n),f=i.mline(c[0]),d={creator:a,name:f.media,application:{applicationType:"rtp",media:f.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==f.media&&(d.application={applicationType:"datachannel"},d.transport.sctp=[]);var p=d.application,h=d.transport,m=i.findLine("a=mid:",c);if(m&&(d.name=m.substr(6)),i.findLine("a=sendrecv",c,l)?d.senders="both":i.findLine("a=sendonly",c,l)?d.senders=r[s][u].sendonly:i.findLine("a=recvonly",c,l)?d.senders=r[s][u].recvonly:i.findLine("a=inactive",c,l)&&(d.senders="none"),"rtp"==p.applicationType){var g=i.findLine("b=",c);g&&(p.bandwidth=i.bandwidth(g));var v=i.findLine("a=ssrc:",c);v&&(p.ssrc=v.substr(7).split(" ")[0]);i.findLines("a=rtpmap:",c).forEach(function(e){var t=i.rtpmap(e);t.parameters=[],t.feedback=[],i.findLines("a=fmtp:"+t.id,c).forEach(function(e){t.parameters=i.fmtp(e)}),i.findLines("a=rtcp-fb:"+t.id,c).forEach(function(e){t.feedback.push(i.rtcpfb(e))}),p.payloads.push(t)});i.findLines("a=crypto:",c,l).forEach(function(e){p.encryption.push(i.crypto(e))}),i.findLine("a=rtcp-mux",c)&&(p.mux=!0);i.findLines("a=rtcp-fb:*",c).forEach(function(e){p.feedback.push(i.rtcpfb(e))});i.findLines("a=extmap:",c).forEach(function(e){var t=i.extmap(e);t.senders=r[s][u][t.senders],p.headerExtensions.push(t)});var y=i.findLines("a=ssrc-group:",c);p.sourceGroups=i.sourceGroups(y||[]);var b=i.findLines("a=ssrc:",c),_=p.sources=i.sources(b||[]),w=i.findLine("a=msid:",c);if(w){var x=i.msid(w);["msid","mslabel","label"].forEach(function(e){for(var t=0;t<_.length;t++){for(var n=!1,r=0;r<_[t].parameters.length;r++)_[t].parameters[r].key===e&&(n=!0);n||_[t].parameters.push({key:e,value:x[e]})}})}i.findLine("a=x-google-flag:conference",c,l)&&(p.googConferenceFlag=!0)}var S=i.findLines("a=fingerprint:",c,l),E=i.findLine("a=setup:",c,l);S.forEach(function(e){var t=i.fingerprint(e);E&&(t.setup=E.substr(8)),h.fingerprints.push(t)});var O=i.findLine("a=ice-ufrag:",c,l),k=i.findLine("a=ice-pwd:",c,l);if(O&&k){h.ufrag=O.substr(12),h.pwd=k.substr(10),h.candidates=[];i.findLines("a=candidate:",c,l).forEach(function(e){h.candidates.push(t.toCandidateJSON(e))})}if("datachannel"==p.applicationType){i.findLines("a=sctpmap:",c).forEach(function(e){var t=i.sctpmap(e);h.sctp.push(t)})}return d},t.toCandidateJSON=function(e){var t=i.candidate(e.split(/\r?\n/)[0]);return t.id=(o++).toString(36).substr(0,12),t}},function(e,t){t.lines=function(e){return e.split(/\r?\n/).filter(function(e){return e.length>0})},t.findLine=function(e,t,n){for(var r=e.length,i=0;i<t.length;i++)if(t[i].substr(0,r)===e)return t[i];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,r)===e)return n[o];return!1},t.findLines=function(e,t,n){for(var r=[],i=e.length,o=0;o<t.length;o++)t[o].substr(0,i)===e&&r.push(t[o]);if(r.length||!n)return r;for(var a=0;a<n.length;a++)n[a].substr(0,i)===e&&r.push(n[a]);return r},t.mline=function(e){for(var t=e.substr(2).split(" "),n={media:t[0],port:t[1],proto:t[2],formats:[]},r=3;r<t.length;r++)t[r]&&n.formats.push(t[r]);return n},t.rtpmap=function(e){var t=e.substr(9).split(" "),n={id:t.shift()};return t=t[0].split("/"),n.name=t[0],n.clockrate=t[1],n.channels=3==t.length?t[2]:"1",n},t.sctpmap=function(e){var t=e.substr(10).split(" ");return{number:t.shift(),protocol:t.shift(),streams:t.shift()}},t.fmtp=function(e){for(var t,n,r,i=e.substr(e.indexOf(" ")+1).split(";"),o=[],a=0;a<i.length;a++)t=i[a].split("="),n=t[0].trim(),r=t[1],n&&r?o.push({key:n,value:r}):n&&o.push({key:"",value:n});return o},t.crypto=function(e){var t=e.substr(9).split(" ");return{tag:t[0],cipherSuite:t[1],keyParams:t[2],sessionParams:t.slice(3).join(" ")}},t.fingerprint=function(e){var t=e.substr(14).split(" ");return{hash:t[0],value:t[1]}},t.extmap=function(e){var t=e.substr(9).split(" "),n={},r=t.shift(),i=r.indexOf("/");return i>=0?(n.id=r.substr(0,i),n.senders=r.substr(i+1)):(n.id=r,n.senders="sendrecv"),n.uri=t.shift()||"",n},t.rtcpfb=function(e){var t=e.substr(10).split(" "),n={};return n.id=t.shift(),n.type=t.shift(),"trr-int"===n.type?n.value=t.shift():n.subtype=t.shift()||"",n.parameters=t,n},t.candidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:t[3],ip:t[4],port:t[5],type:t[7],generation:"0"},r=8;r<t.length;r+=2)"raddr"===t[r]?n.relAddr=t[r+1]:"rport"===t[r]?n.relPort=t[r+1]:"generation"===t[r]?n.generation=t[r+1]:"tcptype"===t[r]&&(n.tcpType=t[r+1]);return n.network="1",n},t.sourceGroups=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].substr(13).split(" ");t.push({semantics:r.shift(),sources:r})}return t},t.sources=function(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r].substr(7).split(" "),o=i.shift();if(!n[o]){var a={ssrc:o,parameters:[]};t.push(a),n[o]=a}i=i.join(" ").split(":");var s=i.shift(),u=i.join(":")||null;n[o].parameters.push({key:s,value:u})}return t},t.groups=function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r].substr(8).split(" "),n.push({semantics:t.shift(),contents:t});return n},t.bandwidth=function(e){var t=e.substr(2).split(":"),n={};return n.type=t.shift(),n.bandwidth=t.shift(),n},t.msid=function(e){var t=e.substr(7),n=t.split(" ");return{msid:t,mslabel:n[0],label:n[1]}}},function(e,t,n){(function(e,n){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function s(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function u(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function c(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function d(e,t){return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=Pt?Pt(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function v(e){var t=this.__data__;if(Pt){var n=t[e];return n===Ne?void 0:n}return vt.call(t,e)?t[e]:void 0}function y(e){var t=this.__data__;return Pt?void 0!==t[e]:vt.call(t,e)}function b(e,t){return this.__data__[e]=Pt&&void 0===t?Ne:t,this}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(e){var t=this.__data__,n=F(t,e);return!(n<0)&&(n==t.length-1?t.pop():kt.call(t,n,1),!0)}function S(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]}function E(e){return F(this.__data__,e)>-1}function O(e,t){var n=this.__data__,r=F(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(){this.__data__={hash:new h,map:new(It||_),string:new h}}function T(e){return ae(this,e).delete(e)}function N(e){return ae(this,e).get(e)}function A(e){return ae(this,e).has(e)}function I(e,t){return ae(this,e).set(e,t),this}function M(e){this.__data__=new _(e)}function R(){this.__data__=new _}function j(e){return this.__data__.delete(e)}function P(e){return this.__data__.get(e)}function D(e){return this.__data__.has(e)}function L(e,t){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!It||r.length<Te-1)return r.push([e,t]),this;n=this.__data__=new k(r)}return n.set(e,t),this}function U(e,t){var n=Yt(e)||ye(e)?u(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!vt.call(e,o)||i&&("length"==o||fe(o,r))||n.push(o);return n}function B(e,t,n){var r=e[t];vt.call(e,t)&&ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function F(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function H(e,t){return e&&re(t,Oe(t),e)}function z(e,t,n,r,i,a,s){var u;if(r&&(u=a?r(e,i,a,s):r(e)),void 0!==u)return u;if(!Se(e))return e;var c=Yt(e);if(c){if(u=ue(e),!t)return ne(e,u)}else{var f=Vt(e),d=f==je||f==Pe;if(Gt(e))return K(e,t);if(f==Ue||f==Ie||d&&!a){if(l(e))return a?e:{};if(u=ce(d?{}:e),!t)return ie(e,H(u,e))}else{if(!it[f])return a?e:{};u=le(e,f,z,t)}}s||(s=new M);var p=s.get(e);if(p)return p;if(s.set(e,u),!c)var h=n?oe(e):Oe(e);return o(h||e,function(i,o){h&&(o=i,i=e[o]),B(u,o,z(i,t,n,r,o,e,s))}),u}function q(e){return Se(e)?Et(e):{}}function V(e,t,n){var r=t(e);return Yt(e)?r:a(r,n(e))}function Y(e){return yt.call(e)}function G(e){return!(!Se(e)||pe(e))&&(we(e)||l(e)?bt:nt).test(me(e))}function W(e){if(!he(e))return Nt(e);var t=[];for(var n in Object(e))vt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function K(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function J(e){var t=new e.constructor(e.byteLength);return new xt(t).set(new xt(e)),t}function X(e,t){var n=t?J(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function $(e,t,n){return s(t?n(f(e),!0):f(e),r,new e.constructor)}function Q(e){var t=new e.constructor(e.source,tt.exec(e));return t.lastIndex=e.lastIndex,t}function Z(e,t,n){return s(t?n(p(e),!0):p(e),i,new e.constructor)}function ee(e){return zt?Object(zt.call(e)):{}}function te(e,t){var n=t?J(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function re(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;B(n,a,void 0===s?e[a]:s)}return n}function ie(e,t){return re(e,qt(e),t)}function oe(e){return V(e,Oe,qt)}function ae(e,t){var n=e.__data__;return de(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=c(e,t);return G(n)?n:void 0}function ue(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ce(e){return"function"!=typeof e.constructor||he(e)?{}:q(St(e))}function le(e,t,n,r){var i=e.constructor;switch(t){case qe:return J(e);case Me:case Re:return new i(+e);case Ve:return X(e,r);case Ye:case Ge:case We:case Ke:case Je:case Xe:case $e:case Qe:case Ze:return te(e,r);case De:return $(e,r,n);case Le:case He:return new i(e);case Be:return Q(e);case Fe:return Z(e,r,n);case ze:return ee(e)}}function fe(e,t){return!!(t=null==t?Ae:t)&&("number"==typeof e||rt.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!mt&&mt in e}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pt)}function me(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ge(e){return z(e,!0,!0)}function ve(e,t){return e===t||e!==e&&t!==t}function ye(e){return _e(e)&&vt.call(e,"callee")&&(!Ot.call(e,"callee")||yt.call(e)==Ie)}function be(e){return null!=e&&xe(e.length)&&!we(e)}function _e(e){return Ee(e)&&be(e)}function we(e){var t=Se(e)?yt.call(e):"";return t==je||t==Pe}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ae}function Se(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ee(e){return!!e&&"object"==typeof e}function Oe(e){return be(e)?U(e):W(e)}function ke(){return[]}function Ce(){return!1}var Te=200,Ne="__lodash_hash_undefined__",Ae=9007199254740991,Ie="[object Arguments]",Me="[object Boolean]",Re="[object Date]",je="[object Function]",Pe="[object GeneratorFunction]",De="[object Map]",Le="[object Number]",Ue="[object Object]",Be="[object RegExp]",Fe="[object Set]",He="[object String]",ze="[object Symbol]",qe="[object ArrayBuffer]",Ve="[object DataView]",Ye="[object Float32Array]",Ge="[object Float64Array]",We="[object Int8Array]",Ke="[object Int16Array]",Je="[object Int32Array]",Xe="[object Uint8Array]",$e="[object Uint8ClampedArray]",Qe="[object Uint16Array]",Ze="[object Uint32Array]",et=/[\\^$.*+?()[\]{}|]/g,tt=/\w*$/,nt=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,it={};it[Ie]=it["[object Array]"]=it[qe]=it[Ve]=it[Me]=it[Re]=it[Ye]=it[Ge]=it[We]=it[Ke]=it[Je]=it[De]=it[Le]=it[Ue]=it[Be]=it[Fe]=it[He]=it[ze]=it[Xe]=it[$e]=it[Qe]=it[Ze]=!0,it["[object Error]"]=it[je]=it["[object WeakMap]"]=!1;var ot="object"==typeof e&&e&&e.Object===Object&&e,at="object"==typeof self&&self&&self.Object===Object&&self,st=ot||at||Function("return this")(),ut="object"==typeof t&&t&&!t.nodeType&&t,ct=ut&&"object"==typeof n&&n&&!n.nodeType&&n,lt=ct&&ct.exports===ut,ft=Array.prototype,dt=Function.prototype,pt=Object.prototype,ht=st["__core-js_shared__"],mt=function(){var e=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gt=dt.toString,vt=pt.hasOwnProperty,yt=pt.toString,bt=RegExp("^"+gt.call(vt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=lt?st.Buffer:void 0,wt=st.Symbol,xt=st.Uint8Array,St=d(Object.getPrototypeOf,Object),Et=Object.create,Ot=pt.propertyIsEnumerable,kt=ft.splice,Ct=Object.getOwnPropertySymbols,Tt=_t?_t.isBuffer:void 0,Nt=d(Object.keys,Object),At=se(st,"DataView"),It=se(st,"Map"),Mt=se(st,"Promise"),Rt=se(st,"Set"),jt=se(st,"WeakMap"),Pt=se(Object,"create"),Dt=me(At),Lt=me(It),Ut=me(Mt),Bt=me(Rt),Ft=me(jt),Ht=wt?wt.prototype:void 0,zt=Ht?Ht.valueOf:void 0;h.prototype.clear=m,h.prototype.delete=g,h.prototype.get=v,h.prototype.has=y,h.prototype.set=b,_.prototype.clear=w,_.prototype.delete=x,_.prototype.get=S,_.prototype.has=E,_.prototype.set=O,k.prototype.clear=C,k.prototype.delete=T,k.prototype.get=N,k.prototype.has=A,k.prototype.set=I,M.prototype.clear=R,M.prototype.delete=j,M.prototype.get=P,M.prototype.has=D,M.prototype.set=L;var qt=Ct?d(Ct,Object):ke,Vt=Y;(At&&Vt(new At(new ArrayBuffer(1)))!=Ve||It&&Vt(new It)!=De||Mt&&"[object Promise]"!=Vt(Mt.resolve())||Rt&&Vt(new Rt)!=Fe||jt&&"[object WeakMap]"!=Vt(new jt))&&(Vt=function(e){var t=yt.call(e),n=t==Ue?e.constructor:void 0,r=n?me(n):void 0;if(r)switch(r){case Dt:return Ve;case Lt:return De;case Ut:return"[object Promise]";case Bt:return Fe;case Ft:return"[object WeakMap]"}return t});var Yt=Array.isArray,Gt=Tt||Ce;n.exports=ge}).call(t,n(2),n(6)(e))},function(e,t,n){function r(e){a.call(this,e),this.pc=new s({iceServers:e.iceServers||[],useJingle:!0},e.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addChannel",this.onChannelAdded.bind(this)),this.sender=null,this.receiver=null}var i=n(8),o=n(46),a=n(45),s=n(85),u=n(331);i.inherits(r,a),r.prototype=o(r.prototype,{start:function(e){var t=this;this.state="pending",this.pc.isInitiator=!0,this.sender=new u.Sender,this.sender.on("progress",function(e,n){t._log("info","Send progress "+e+"/"+n)}),this.sender.on("sentFile",function(e){t._log("info","Sent file",e.name);var n=t.pc.localDescription.contents[0];delete n.transport,n.application={applicationType:"filetransfer",offer:{hash:{algo:e.algo,value:e.hash}}},t.send("description-info",{contents:[n]}),t.emit("sentFile",t,e)});var n=this.pc.createDataChannel("filetransfer");n.onopen=function(){t.sender.send(e,n)};var r={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this.pc.offer(r,function(n,r){if(n)return t._log("error","Could not create WebRTC offer",n),t.end("failed-application",!0);r.jingle.contents[0].application={applicationType:"filetransfer",offer:{date:e.lastModifiedDate,name:e.name,size:e.size,hash:{algo:"sha-1",value:""}}},t.send("session-initiate",r.jingle)})},accept:function(){var e=this;this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(t,n){if(t)return e._log("error","Could not create WebRTC answer",t),e.end("failed-application");e.send("session-accept",n.jingle)})},end:function(e,t){this.pc.close(),a.prototype.end.call(this,e,t)},maybeReceivedFile:function(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))},onIceCandidate:function(e){this._log("info","Discovered new ICE candidate",e.jingle),this.send("transport-info",e.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":"stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onChannelAdded:function(e){this.receiver.receive(null,e)},onSessionInitiate:function(e,t){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1;var r=e.contents[0].application;this.receiver=new u.Receiver({hash:r.offer.hash.algo}),this.receiver.on("progress",function(e,t){n._log("info","Receive progress "+e+"/"+t)}),this.receiver.on("receivedFile",function(e){n.receivedFile=e,n.maybeReceivedFile()}),this.receiver.metadata=r.offer,e.contents[0].application={applicationType:"datachannel"},this.pc.handleOffer({type:"offer",jingle:e},function(e){if(e)return n._log("error","Could not create WebRTC answer"),t({condition:"general-error"});t()})},onSessionAccept:function(e,t){var n=this;this.state="active",e.contents[0].application={applicationType:"datachannel"},this.pc.handleAnswer({type:"answer",jingle:e},function(e){if(e)return n._log("error","Could not process WebRTC answer"),t({condition:"general-error"});n.emit("accepted",n),t()})},onSessionTerminate:function(e,t){this._log("info","Terminating session"),this.pc.close(),a.prototype.end.call(this,e.reason,!0),t()},onDescriptionInfo:function(e,t){var n=e.contents[0].application.offer.hash;this.receiver.metadata.hash=n,this.receiver.metadata.actualhash&&this.maybeReceivedFile(),t()},onTransportInfo:function(e,t){this.pc.processIce(e,function(){t()})}}),e.exports=r},function(e,t,n){function r(e){o.call(this);var t=this;this.base=new u.Sender(e);var n=e||{};n.hash||(n.hash="sha-1"),this.hash=s.createHash(n.hash),this.base.on("progress",function(e,n,r){t.emit("progress",e,n,r),r&&t.hash.update(new Uint8Array(r))}),this.base.on("sentFile",function(){t.emit("sentFile",{hash:t.hash.digest("hex"),algo:n.hash})})}function i(e){o.call(this);var t=this;this.base=new u.Receiver(e);var n=e||{};n.hash||(n.hash="sha-1"),this.hash=s.createHash(n.hash),this.base.on("progress",function(e,n,r){t.emit("progress",e,n,r),r&&t.hash.update(new Uint8Array(r))}),this.base.on("receivedFile",function(e,n){n.actualhash=t.hash.digest("hex"),t.emit("receivedFile",e,n)})}var o=n(9),a=n(8),s=n(44),u=n(332);a.inherits(r,o),r.prototype.send=function(){this.base.send.apply(this.base,arguments)},a.inherits(i,o),i.prototype.receive=function(){this.base.receive.apply(this.base,arguments)},Object.defineProperty(i.prototype,"metadata",{get:function(){return this.base.metadata},set:function(e){this.base.metadata=e}}),e.exports={},e.exports.support=u.support,e.exports.Sender=r,e.exports.Receiver=i},function(e,t,n){function r(e){o.call(this);var t=e||{};this.config={chunksize:16384,pacing:0};var n;for(n in t)this.config[n]=t[n];this.file=null,this.channel=null}function i(){o.call(this),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null}var o=n(9),a=n(8);a.inherits(r,o),r.prototype.send=function(e,t){var n=this;this.file=e,this.channel=t;var r="number"!==typeof t.bufferedAmountLowThreshold,i=0,o=function(){var a=new window.FileReader;a.onload=function(){return function(a){n.channel.send(a.target.result),n.emit("progress",i,e.size,a.target.result),e.size>i+a.target.result.byteLength?r?window.setTimeout(o,n.config.pacing):t.bufferedAmount<=t.bufferedAmountLowThreshold&&window.setTimeout(o,0):(n.emit("progress",e.size,e.size,null),n.emit("sentFile")),i+=n.config.chunksize}}();var s=e.slice(i,i+n.config.chunksize);a.readAsArrayBuffer(s)};r||(t.bufferedAmountLowThreshold=8*this.config.chunksize,t.addEventListener("bufferedamountlow",o)),window.setTimeout(o,0)},a.inherits(i,o),i.prototype.receive=function(e,t){var n=this;e&&(this.metadata=e),this.channel=t,t.binaryType="arraybuffer",this.channel.onmessage=function(e){var t=e.data.byteLength;n.received+=t,n.receiveBuffer.push(e.data),n.emit("progress",n.received,n.metadata.size,e.data),n.received===n.metadata.size?(n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},e.exports={},e.exports.support="undefined"!==typeof window&&window&&window.File&&window.FileReader&&window.Blob,e.exports.Sender=r,e.exports.Receiver=i},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:json:0")}},function(e,t,n){"use strict";function r(e,t){var n;return Promise.race([e,new Promise(function(e,r){n=setTimeout(function(){r()},t)})]).then(function(e){return clearTimeout(n),e})}function i(e,t){return r(new Promise(function(t,n){e.sm.started?(e.once("stream:management:ack",t),e.sm.request()):e.ping().then(t).catch(function(e){e.error&&"timeout"!==e.error.condition?t():n()})}),1e3*t||15e3)}e.exports=function(e){e.enableKeepAlive=function(t){function n(){e.sessionStarted&&i(e,t.timeout).catch(function(){e.emit("stream:error",{condition:"connection-timeout",text:"Server did not respond in "+t.timeout+" seconds"}),e.transport&&(e.transport.hasStream=!1,e.transport.disconnect())})}t=t||{},t.interval=t.interval||300,t.timeout=t.timeout||15,e._keepAliveInterval=setInterval(n,1e3*t.interval)},e.disableKeepAlive=function(){e._keepAliveInterval&&(clearInterval(e._keepAliveInterval),delete e._keepAliveInterval)},e.on("disconnected",function(){e.disableKeepAlive()})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("","urn:xmpp:eventlog"),e.sendLog=function(t,n){e.sendMessage({to:t,type:"normal",log:n})}}},function(e,t,n){"use strict";function r(e,t,n){var r;return Promise.race([e,new Promise(function(e,i){r=setTimeout(function(){i({id:t,type:"error",error:{condition:"timeout"}})},n)})]).then(function(e){return clearTimeout(r),e})}var i=n(7).JID;e.exports=function(e){e.disco.addFeature("urn:xmpp:mam:2"),e.getHistorySearchForm=function(t,n){return e.sendIq({to:t,type:"get",mam:!0},n)},e.searchHistory=function(t,n){var o=this,a=this.nextId();t=t||{},t.queryid=a;var s=t.jid||t.to||"";delete t.jid,delete t.to,t.form||(t.form={}),t.form.type="submit";var u=t.form.fields=t.form.fields||[];["FORM_TYPE","with","start","end"].forEach(function(e){if(t[e]||"FORM_TYPE"===e){var n=t[e];("start"===e||"end"===e)&&"string"!==typeof n&&(n=n.toISOString()),"FORM_TYPE"===e&&(n="urn:xmpp:mam:2");for(var r=0,i=u.length;r<i;r++)u[r].name;u.push({name:e,value:n}),delete t[e]}});var c=new i(s||e.jid.bare),l={};l[""]=!0,l[c.full]=!0,l[c.bare]=!0,l[c.domain]=!0,l[e.jid.bare]=!0,l[e.jid.domain]=!0;var f=[];return this.on("mam:item:"+a,"session",function(e){l[e.from.full]&&f.push(e.mamItem)}),r(this.sendIq({type:"set",to:s,id:a,mam:t}),a,1e3*o.config.timeout||15e3).then(function(e){return e.mamResult.items=f,o.off("mam:item:"+a),n&&n(null,e),e},function(e){if(o.off("mam:item:"+a),!n)throw e;n(e)})},e.getHistoryPreferences=function(e){return this.sendIq({type:"get",mamPrefs:!0},e)},e.setHistoryPreferences=function(e,t){return this.sendIq({type:"set",mamPrefs:e},t)},e.on("message",function(t){t.mamItem&&(e.emit("mam:item",t),e.emit("mam:item:"+t.mamItem.queryid,t))})}},function(e,t,n){"use strict";var r=n(13),i=n(7).JID;e.exports=function(e){function t(){r(e.joiningRooms,function(t,n){delete e.joiningRooms[n],e.joinRoom(n,t)}),r(e.joinedRooms,function(t,n){delete e.joinedRooms[n],e.joinRoom(n,t)})}e.disco.addFeature("http://jabber.org/protocol/muc"),e.disco.addFeature("jabber:x:conference"),e.disco.addFeature("urn:xmpp:hats:0"),e.joinedRooms={},e.joiningRooms={},e.on("session:started",t),e.on("stream:management:resumed",t),e.on("message",function(t){t.muc?(t.muc.invite&&e.emit("muc:invite",{from:t.muc.invite.from,room:t.from,reason:t.muc.invite.reason,password:t.muc.password,thread:t.muc.invite.thread,type:"mediated"}),t.muc.decline&&e.emit("muc:declined",{room:t.from,from:t.muc.decline.from,reason:t.muc.decline.reason})):t.mucInvite&&e.emit("muc:invite",{from:t.from,room:t.mucInvite.jid,reason:t.mucInvite.reason,password:t.mucInvite.password,thread:t.mucInvite.thread,type:"direct"}),"groupchat"===t.type&&t.subject&&e.emit("muc:subject",t)}),e.on("presence",function(t){if(e.joiningRooms[t.from.bare]&&"error"===t.type)delete e.joiningRooms[t.from.bare],e.emit("muc:failed",t),e.emit("muc:error",t);else if(t.muc){var n=t.muc.codes&&t.muc.codes.indexOf("110")>=0;"error"===t.type?e.emit("muc:error",t):"unavailable"===t.type?(e.emit("muc:unavailable",t),n&&(e.emit("muc:leave",t),delete e.joinedRooms[t.from.bare]),t.muc.destroyed&&e.emit("muc:destroyed",{room:t.from,newRoom:t.muc.destroyed.jid,reason:t.muc.destroyed.reason,password:t.muc.destroyed.password})):(e.emit("muc:available",t),n&&!e.joinedRooms[t.from.bare]&&(e.emit("muc:join",t),delete e.joiningRooms[t.from.bare],e.joinedRooms[t.from.bare]=t.from.resource))}}),e.joinRoom=function(e,t,n){n=n||{},n.to=e+"/"+t,n.caps=this.disco.caps,n.joinMuc=n.joinMuc||{},this.joiningRooms[e]=t,this.sendPresence(n)},e.leaveRoom=function(e,t,n){n=n||{},n.to=e+"/"+t,n.type="unavailable",this.sendPresence(n)},e.ban=function(t,n,r,i){e.setRoomAffiliation(t,n,"outcast",r,i)},e.kick=function(t,n,r,i){e.setRoomRole(t,n,"none",r,i)},e.invite=function(t,n){e.sendMessage({to:t,muc:{invites:n}})},e.directInvite=function(t,n){n.jid=t,e.sendMessage({to:n.to,mucInvite:n})},e.declineInvite=function(t,n,r){e.sendMessage({to:t,muc:{decline:{to:n,reason:r}}})},e.changeNick=function(t,n){e.sendPresence({to:new i(t).bare+"/"+n})},e.setSubject=function(t,n){e.sendMessage({to:t,type:"groupchat",subject:n})},e.discoverReservedNick=function(t,n){e.getDiscoInfo(t,"x-roomuser-item",function(e,t){if(e)return n(e);var r=t.discoInfo.identities[0]||{};n(null,r.name)})},e.requestRoomVoice=function(t){e.sendMessage({to:t,form:{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]}})},e.setRoomAffiliation=function(e,t,n,r,i){return this.sendIq({type:"set",to:e,mucAdmin:{jid:t,affiliation:n,reason:r}},i)},e.setRoomRole=function(e,t,n,r,i){return this.sendIq({type:"set",to:e,mucAdmin:{nick:t,role:n,reason:r}},i)},e.getRoomMembers=function(e,t,n){return this.sendIq({type:"get",to:e,mucAdmin:t},n)},e.getRoomConfig=function(e,t){return this.sendIq({to:e,type:"get",mucOwner:!0},t)},e.configureRoom=function(e,t,n){return t.type||(t.type="submit"),this.sendIq({to:e,type:"set",mucOwner:{form:t}},n)},e.destroyRoom=function(e,t,n){return this.sendIq({to:e,type:"set",mucOwner:{destroy:t}},n)},e.getUniqueRoomName=function(e,t){return this.sendIq({type:"get",to:e,mucUnique:!0},t)}}},function(e,t,n){"use strict";var r="http://jabber.org/protocol/mood";e.exports=function(e){e.disco.addFeature(r),e.disco.addFeature(r+"+notify"),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===r&&e.emit("mood",{jid:t.from,mood:t.event.updated.published[0].mood})}),e.publishMood=function(e,t,n){return this.publish("",r,{mood:{value:e,text:t}},n)}}},function(e,t,n){"use strict";var r="http://jabber.org/protocol/nick";e.exports=function(e){e.disco.addFeature(r),e.disco.addFeature(r+"+notify"),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===r&&e.emit("nick",{jid:t.from,nick:t.event.updated.published[0].nick})}),e.publishNick=function(e,t){return this.publish("",r,{nick:e},t)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("jabber:x:oob")}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:ping"),e.on("iq:get:ping",function(t){e.sendIq(t.resultReply())}),e.ping=function(e,t){return this.sendIq({to:e,type:"get",ping:!0},t)}}},function(e,t,n){"use strict";e.exports=function(e){e.getPrivateData=function(e,t){return this.sendIq({type:"get",privateStorage:e},t)},e.setPrivateData=function(e,t){return this.sendIq({type:"set",privateStorage:e},t)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:psa")}},function(e,t,n){"use strict";e.exports=function(e){e.on("message",function(t){if(t.event){if(e.emit("pubsub:event",t),e.emit("pubsubEvent",t),t.event.updated){var n=t.event.updated.published,r=t.event.updated.retracted;n&&n.length&&e.emit("pubsub:published",t),r&&r.length&&e.emit("pubsub:retracted",t)}t.event.purged&&e.emit("pubsub:purged",t),t.event.deleted&&e.emit("pubsub:deleted",t),t.event.subscriptionChanged&&e.emit("pubsub:subscription",t),t.event.configurationChanged&&e.emit("pubsub:config",t)}t.pubsub&&t.pubsub.affiliations&&e.emit("pubsub:affiliation",t)}),e.subscribeToNode=function(t,n,r){return"string"===typeof n&&(n={node:n}),n.jid=n.jid||e.jid,this.sendIq({type:"set",to:t,pubsub:{subscribe:n}},r)},e.unsubscribeFromNode=function(t,n,r){return"string"===typeof n&&(n={node:n}),n.jid=n.jid||e.jid.bare,this.sendIq({type:"set",to:t,pubsub:{unsubscribe:n}},r)},e.publish=function(e,t,n,r){return this.sendIq({type:"set",to:e,pubsub:{publish:{node:t,item:n}}},r)},e.getItem=function(e,t,n,r){return this.sendIq({type:"get",to:e,pubsub:{retrieve:{node:t,item:n}}},r)},e.getItems=function(e,t,n,r){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsub:{retrieve:{node:t,max:n.max},rsm:n.rsm}},r)},e.retract=function(e,t,n,r,i){return this.sendIq({type:"set",to:e,pubsub:{retract:{node:t,notify:r,id:n}}},i)},e.purgeNode=function(e,t,n){return this.sendIq({type:"set",to:e,pubsubOwner:{purge:t}},n)},e.deleteNode=function(e,t,n){return this.sendIq({type:"set",to:e,pubsubOwner:{del:t}},n)},e.createNode=function(e,t,n,r){var i={type:"set",to:e,pubsub:{create:t}};return n&&(i.pubsub.config={form:n}),this.sendIq(i,r)},e.getSubscriptions=function(e,t,n){return t=t||{},this.sendIq({type:"get",to:e,pubsub:{subscriptions:t}},n)},e.getAffiliations=function(e,t,n){return t=t||{},this.sendIq({type:"get",to:e,pubsub:{affiliations:t}},n)},e.getNodeSubscribers=function(e,t,n,r){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsubOwner:{subscriptions:n}},r)},e.updateNodeSubscriptions=function(e,t,n,r){return this.sendIq({type:"set",to:e,pubsubOwner:{subscriptions:{node:t,list:n}}},r)},e.getNodeAffiliations=function(e,t,n,r){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsubOwner:{affiliations:n}},r)},e.updateNodeAffiliations=function(e,t,n,r){return this.sendIq({type:"set",to:e,pubsubOwner:{affiliations:{node:t,list:n}}},r)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:reach:0"),e.disco.addFeature("urn:xmpp:reach:0+notify"),e.on("pubsub:event",function(t){t.event.updated&&"urn:xmpp:reach:0"===t.event.updated.node&&e.emit("reachability",{jid:t.from,addresses:t.event.updated.published[0].reach})}),e.on("presence",function(t){t.reach&&t.reach.length&&e.emit("reachability",{jid:t.from,addresses:t.reach})}),e.publishReachability=function(e,t){return this.publish("","urn:xmpp:reach:0",{reach:e},t)}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=!1!==n.sendReceipts;e.disco.addFeature("urn:xmpp:receipts"),e.on("message",function(t){var n={normal:!0,chat:!0,headline:!0};r&&n[t.type]&&t.requestReceipt&&!t.receipt&&e.sendMessage({to:t.from,type:t.type,receipt:t.id,id:t.id}),t.receipt&&(e.emit("receipt",t),e.emit("receipt:"+t.receipt))})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:reference:0")}},function(e,t,n){"use strict";e.exports=function(e){e.getAccountInfo=function(e,t){return this.sendIq({type:"get",to:e,register:!0},t)},e.updateAccount=function(e,t,n){return this.sendIq({type:"set",to:e,register:t},n)},e.deleteAccount=function(e,t){return this.sendIq({type:"set",to:e,register:{remove:!0}},t)}}},function(e,t,n){"use strict";e.exports=function(e){e.on("iq:set:roster",function(t){var n={};if(n[""]=!0,n[e.jid.bare]=!0,n[e.jid.domain]=!0,!n[t.from.full])return e.sendIq(t.errorReply({error:{type:"cancel",condition:"service-unavailable"}}));e.emit("roster:update",t),e.sendIq({id:t.id,type:"result"})}),e.getRoster=function(t){var n=this;return e.sendIq({type:"get",roster:{ver:n.config.rosterVer}}).then(function(e){if(e.roster){var t=e.roster.ver;t&&(n.config.rosterVer=t,n.emit("roster:ver",t))}return e}).then(function(e){return t&&t(null,e),e},function(e){if(!t)throw e;t(e)})},e.updateRosterItem=function(t,n){return e.sendIq({type:"set",roster:{items:[t]}},n)},e.removeRosterItem=function(t,n){return e.updateRosterItem({jid:t,subscription:"remove"},n)},e.subscribe=function(t){e.sendPresence({type:"subscribe",to:t})},e.unsubscribe=function(t){e.sendPresence({type:"unsubscribe",to:t})},e.acceptSubscription=function(t){e.sendPresence({type:"subscribed",to:t})},e.denySubscription=function(t){e.sendPresence({type:"unsubscribed",to:t})}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:rtt:0"),e.on("message",function(t){t.rtt&&(e.emit("rtt",t),e.emit("rtt:"+t.rtt.event,t))})}},function(e,t,n){"use strict";var r="http://jabber.org/protocol/shim";e.exports=function(e){e.disco.addFeature(r),e.disco.addFeature(r+"#SubID",r)}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:time"),e.getTime=function(e,t){return this.sendIq({to:e,type:"get",time:!0},t)},e.on("iq:get:time",function(t){var n=new Date;e.sendIq(t.resultReply({time:{utc:n,tzo:n.getTimezoneOffset()}}))})}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("vcard-temp"),e.getVCard=function(e,t){return this.sendIq({to:e,type:"get",vCardTemp:!0},t)},e.publishVCard=function(e,t){return this.sendIq({type:"set",vCardTemp:e},t)}}},function(e,t,n){"use strict";e.exports=function(e){e.disco.addFeature("jabber:iq:version"),e.on("iq:get:version",function(t){e.sendIq(t.resultReply({version:e.config.softwareVersion||{name:"stanza.io"}}))}),e.getSoftwareVersion=function(e,t){return this.sendIq({to:e,type:"get",version:!0},t)}}},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(356),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(e,t,n){var i=O;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===T){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===N)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===O)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?T:k,c.arg===N)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=T,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,l(e,t),"throw"===t.method))return N;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,N;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,N):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",S="object"===typeof e,E=t.regeneratorRuntime;if(E)return void(S&&(e.exports=E));E=t.regeneratorRuntime=S?e.exports:{},E.wrap=n;var O="suspendedStart",k="suspendedYield",C="executing",T="completed",N={},A={};A[_]=function(){return this};var I=Object.getPrototypeOf,M=I&&I(I(h([])));M&&M!==v&&y.call(M,_)&&(A=M);var R=a.prototype=i.prototype=Object.create(A);o.prototype=R.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(R),e},E.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},E.AsyncIterator=u,E.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return E.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[x]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,N):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),N},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),N}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),N}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";function r(e,t){var n="urn:xmpp:hints",r=[["store","store"],["no-copy","noCopy"],["no-store","noStore"],["no-permanent-store","noPermanentStore"]];t.withMessage(function(e){r.forEach(function(r){var o=i(r,2),a=o[0],s=o[1];t.add(e,s,{get:function(){return this.xml.getChildren(a,n).length>0},set:function(e){e!==this[s]&&(this.xml.remove(a,n),e&&this.xml.c(a,{xmlns:n}))}})})})}t.a=r;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var i=n(359),o=n(11),a=(n.n(o),n(363)),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t){var n=t.client,i=t.onState,o=t.storage,a=t.owner;r(this,e),this.storage=o,this.onState=i,this.client=n,this.contacts=[],this.owner=a,this.contactsByJid={},this.version=this.storage.getRosterVersion(),this.booted=!1;var s=!0,u=!1,c=void 0;try{for(var l,f=this.storage.getRoster()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;this.indexContact(d)}}catch(e){u=!0,c=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}this.index()}return u(e,[{key:"getIndexingList",value:function(){return this.contacts.map(function(e){return{jid:e.jid.bare,display_name:e.getDisplayName()}})}},{key:"index",value:function(){this.fuse=new s.a(this.getIndexingList(),{keys:["jid","display_name"]})}},{key:"boot",value:function(){var e=this;this.booted=!0,this.contacts.forEach(function(e){return e.boot()}),this.fuse.setCollection(this.getIndexingList()),this.client.getRoster(function(t,n){if(t)return void e.client.getRoster(function(t,n){if(t)return void e.onState();e.update(n.roster)});e.update(n.roster)})}},{key:"update",value:function(e){var t=e.items,n=void 0===t?[]:t,r=e.ver,i=void 0===r?null:r,o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;this.indexContact(l,!0)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}this.storage.setRosterVersion(i),this.onState()}},{key:"getFuse",value:function(){return this.fuse}},{key:"search",value:function(e){var t=this;return this.getFuse().search(e).map(function(e){return t.contactsByJid[e.jid]}).filter(function(e){return!!e})}},{key:"gotContact",value:function(e){return("string"===typeof e?new o.JID(e):e).bare in this.contactsByJid}},{key:"getContacts",value:function(){return this.contacts}},{key:"indexContact",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="string"===typeof e.jid?new o.JID(e.jid):e.jid,r=new i.a({jid:n,item:e,connection:this.client,onState:this.onState,storage:this.storage,owner:this.owner,inRoster:t});if(n.bare in this.contactsByJid)return void this.contactsByJid[n.bare].updateItem(e);this.booted&&r.boot(),this.contacts.push(r),this.booted&&this.fuse.setCollection(this.getIndexingList()),this.contactsByJid[n.bare]=r,this.storage.setRoster(this.contacts.filter(function(e){return e.inRoster}).map(function(e){return e.item}))}}]),e}()},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return l});var o=n(17),a=n.n(o),s=n(360),u=n(56),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(){function e(t){var n=t.jid,r=t.connection,o=t.item,a=t.onState,u=t.storage,c=t.owner,l=t.inRoster,f=void 0!==l&&l;i(this,e),this.storage=u,this.onState=a,this.jid=n,this.client=r,this.item=o,this.timeline=new s.a({jid:n,connection:r,storage:u,owner:c,onState:a}),this.booted=!1,this.omemoEnabled=this.storage.getContactOmemoEnabled(n),this.omemoAvailable=!1,this.inRoster=f}return c(e,[{key:"getLastMessage",value:function(){var e=this.timeline.getItems();return e[e.length-1]}},{key:"boot",value:function(){var e=this;this.booted||(this.booted=!0,this.fetchOmemoAvailability(),this.timeline.boot(),this.client.getVCard(this.jid,function(t,n){return t||e.setVCard(n)}))}},{key:"fetchOmemoAvailability",value:function(){function e(){return t.apply(this,arguments)}var t=r(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.omemo.getAnnouncedDeviceIds(this.jid.bare);case 2:return t=e.sent,this.omemoAvailable=t.size>0,e.abrupt("return",this.omemoAvailable);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"send",value:function(){function e(e){return t.apply(this,arguments)}var t=r(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.omemoEnabled){e.next=6;break}return n=u(),e.next=4,this.client.omemo.sendMessage({id:n,to:this.jid,from:this.client.jid,body:t,type:"chat"});case 4:return this.timeline.updateMessage(n,{encrypted:!0,body:t}),e.abrupt("return");case 6:this.client.sendMessage({to:this.jid,from:this.client.jid,body:t,type:"chat"});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"toggleOmemo",value:function(){function e(){return t.apply(this,arguments)}var t=r(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.omemoEnabled){e.next=5;break}return this.omemoEnabled=!1,this.storage.setContactOmemoEnabled(this.jid.bare,!1),this.onState(),e.abrupt("return");case 5:return e.next=7,this.fetchOmemoAvailability();case 7:if(!e.sent){e.next=11;break}this.omemoEnabled=!0,this.storage.setContactOmemoEnabled(this.jid.bare,!0),this.onState();case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"getTimelineItems",value:function(){return this.timeline.getItems()}},{key:"updateItem",value:function(e){this.item=e}},{key:"setVCard",value:function(e){this.vcard=new f({vcard:e.vCardTemp,jid:this.jid}),this.onState()}},{key:"getAvatar",value:function(){var e=void 0;return this.vcard&&(e=this.vcard.getAvatarUri()),e?(this.storage.setAvatar(this.jid,e),e):this.storage.getAvatar(this.jid)}},{key:"getDisplayName",value:function(){var e=this.getRawDisplayName();return this.storage.setName(this.jid,e),e}},{key:"getRawDisplayName",value:function(){if(this.vcard){var e=this.vcard.getName();if(e)return e}var t=this.storage.getName(this.jid);return t||(this.item.name?this.item.name:this.jid.toString())}}]),e}(),f=function(){function e(t){var n=t.jid,r=t.vcard;i(this,e),this.jid=n,this.vcard=r}return c(e,[{key:"getAvatarUri",value:function(){return this.vcard.photo?"data:"+this.vcard.photo.type+";base64,"+this.vcard.photo.data:"data:,"}},{key:"getName",value:function(){return this.vcard.fullName?this.vcard.fullName:null}}]),e}()},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var o=n(17),a=n.n(o),s=n(361),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t){var n=t.owner,r=t.jid,o=t.connection,a=t.storage,s=t.onState;i(this,e),this.owner=n,this.jid=r,this.onState=s,this.storage=a,this.client=o,this.items=a.getTimelineItems(this.jid),this.updateMap=new Map,this.reindexItems()}return u(e,[{key:"reindexItems",value:function(){this.itemsById=new Map;var e=!0,t=!1,n=void 0;try{for(var r,i=this.items[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.id&&this.itemsById.set(o.id,o)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"getItems",value:function(){return this.items}},{key:"getLastTimelineItemDate",value:function(){return 0===this.items.length?new Date(0).toISOString():new Date(this.items[this.items.length-1].date).toISOString()}},{key:"boot",value:function(){function e(){return t.apply(this,arguments)}var t=r(a.a.mark(function e(){var t,n=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.searchHistory({with:this.jid.bare,rsm:{max:50,before:!0},complete:!1});case 2:t=e.sent,t.mamResult.items.forEach(function(e){return n.indexArchivedMessage(e.forwarded)});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"indexArchivedMessage",value:function(e){var t=new Date(e.delay.stamp);this.indexMessage(t,e.message)}},{key:"indexMessage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(a.a.mark(function e(t,n){var r,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("receipt"in n&&this.itemsById.has(n.receipt))){e.next=3;break}return this.itemsById.get(n.receipt).receipt={date:+t,received:!0},e.abrupt("return");case 3:if(!("receipt"in n)){e.next=5;break}return e.abrupt("return");case 5:if(!this.itemsById.has(n.id)){e.next=7;break}return e.abrupt("return");case 7:r=new s.a({date:+t,message:n,body:n.body}),this.updateMap.has(n.id)&&(Object.assign(n,this.updateMap.get(n.id)),this.updateMap.delete(n.id)),this.itemsById.set(n.id,r),this.items.push(r),this.items.sort(function(e,t){return e.date-t.date}),this.storage.setTimelineItems(this.jid,this.items),r.boot&&r.boot(this.client,function(){i.onState(),i.storage.setTimelineItems(i.jid,i.items)}),this.onState();case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateMessage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.itemsById.has(t)||this.updateMap.set(t,n),r=this.itemsById.get(t),Object.assign(r,n),this.onState(),this.storage.setTimelineItems(this.jid,this.items);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}()},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var s=n(17),u=n.n(s),c=n(362),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e){var n=e.date,r=e.message,a=e.body;i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{date:n,type:"message"}));return s.id=r.id,s.message=r,s.receipt={received:!1},s.body=a,s.encrypted=!1,s}return a(t,e),l(t,[{key:"boot",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.message.encrypted||!t.omemo){e.next=5;break}return e.next=3,t.omemo.decryptMessage(this.message);case 3:r=e.sent,null!==r&&(this.body=(new TextDecoder).decode(r),this.encrypted=!0);case 5:n();case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(c.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var i=function e(t){var n=t.date,i=t.type;r(this,e),this.date=n,this.type=i}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),a=n(7),s=n(4),u=function(){function e(t,n){var i=n.location,o=void 0===i?0:i,a=n.distance,u=void 0===a?100:a,c=n.threshold,l=void 0===c?.6:c,f=n.maxPatternLength,d=void 0===f?32:f,p=n.isCaseSensitive,h=void 0!==p&&p,m=n.tokenSeparator,g=void 0===m?/ +/g:m,v=n.findAllMatches,y=void 0!==v&&v,b=n.minMatchCharLength,_=void 0===b?1:b;r(this,e),this.options={location:o,distance:u,threshold:l,maxPatternLength:d,isCaseSensitive:h,tokenSeparator:g,findAllMatches:y,minMatchCharLength:_},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=s(this.pattern))}return i(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,r);var i=this.options,s=i.location,u=i.distance,c=i.threshold,l=i.findAllMatches,f=i.minMatchCharLength;return a(e,this.pattern,this.patternAlphabet,{location:s,distance:u,threshold:c,findAllMatches:l,minMatchCharLength:f})}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(0),i=function e(t,n,i){if(n){var o=n.indexOf("."),a=n,s=null;-1!==o&&(a=n.slice(0,o),s=n.slice(o+1));var u=t[a];if(null!==u&&void 0!==u)if(s||"string"!==typeof u&&"number"!==typeof u)if(r(u))for(var c=0,l=u.length;c<l;c+=1)e(u[c],s,i);else s&&e(u,s,i);else i.push(u.toString())}else i.push(t);return i};e.exports=function(e,t){return i(e,t,[])}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===r?r=o:s||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){"use strict";var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(r,"\\$&").replace(n,"|")),o=e.match(i),a=!!o,s=[];if(a)for(var u=0,c=o.length;u<c;u+=1){var l=o[u];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,a=t.expectedLocation,s=void 0===a?0:a,u=t.distance,c=void 0===u?100:u,l=r/e.length,f=Math.abs(s-o);return c?l+f/c:f?1:l}},function(e,t,n){"use strict";var r=n(6),i=n(3);e.exports=function(e,t,n,o){for(var a=o.location,s=void 0===a?0:a,u=o.distance,c=void 0===u?100:u,l=o.threshold,f=void 0===l?.6:l,d=o.findAllMatches,p=void 0!==d&&d,h=o.minMatchCharLength,m=void 0===h?1:h,g=s,v=e.length,y=f,b=e.indexOf(t,g),_=t.length,w=[],x=0;x<v;x+=1)w[x]=0;if(-1!==b){var S=r(t,{errors:0,currentLocation:b,expectedLocation:g,distance:c});if(y=Math.min(S,y),-1!==(b=e.lastIndexOf(t,g+_))){var E=r(t,{errors:0,currentLocation:b,expectedLocation:g,distance:c});y=Math.min(E,y)}}b=-1;for(var O=[],k=1,C=_+v,T=1<<_-1,N=0;N<_;N+=1){for(var A=0,I=C;A<I;){r(t,{errors:N,currentLocation:g+I,expectedLocation:g,distance:c})<=y?A=I:C=I,I=Math.floor((C-A)/2+A)}C=I;var M=Math.max(1,g-I+1),R=p?v:Math.min(g+I,v)+_,j=Array(R+2);j[R+1]=(1<<N)-1;for(var P=R;P>=M;P-=1){var D=P-1,L=n[e.charAt(D)];if(L&&(w[D]=1),j[P]=(j[P+1]<<1|1)&L,0!==N&&(j[P]|=(O[P+1]|O[P])<<1|1|O[P+1]),j[P]&T&&(k=r(t,{errors:N,currentLocation:D,expectedLocation:g,distance:c}))<=y){if(y=k,(b=D)<=g)break;M=Math.max(1,2*g-b)}}if(r(t,{errors:N+1,currentLocation:g,expectedLocation:g,distance:c})>y)break;O=j}return{isMatch:b>=0,score:0===k?.001:k,matchedIndices:i(w,m)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=n(2),s=n(0),u=function(){function e(t,n){var i=n.location,o=void 0===i?0:i,s=n.distance,u=void 0===s?100:s,c=n.threshold,l=void 0===c?.6:c,f=n.maxPatternLength,d=void 0===f?32:f,p=n.caseSensitive,h=void 0!==p&&p,m=n.tokenSeparator,g=void 0===m?/ +/g:m,v=n.findAllMatches,y=void 0!==v&&v,b=n.minMatchCharLength,_=void 0===b?1:b,w=n.id,x=void 0===w?null:w,S=n.keys,E=void 0===S?[]:S,O=n.shouldSort,k=void 0===O||O,C=n.getFn,T=void 0===C?a:C,N=n.sortFn,A=void 0===N?function(e,t){return e.score-t.score}:N,I=n.tokenize,M=void 0!==I&&I,R=n.matchAllTokens,j=void 0!==R&&R,P=n.includeMatches,D=void 0!==P&&P,L=n.includeScore,U=void 0!==L&&L,B=n.verbose,F=void 0!==B&&B;r(this,e),this.options={location:o,distance:u,threshold:l,maxPatternLength:d,isCaseSensitive:h,tokenSeparator:g,findAllMatches:y,minMatchCharLength:_,id:x,keys:E,includeMatches:D,includeScore:U,shouldSort:k,getFn:T,sortFn:A,verbose:F,tokenize:M,matchAllTokens:j},this.setCollection(t)}return i(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),n=t.tokenSearchers,r=t.fullSearcher,i=this._search(n,r),o=i.weights,a=i.results;return this._computeScore(o,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new o(n[r],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.list,r={},i=[];if("string"===typeof n[0]){for(var o=0,a=n.length;o<a;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var s={},u=0,c=n.length;u<c;u+=1)for(var l=n[u],f=0,d=this.options.keys.length;f<d;f+=1){var p=this.options.keys[f];if("string"!==typeof p){if(s[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else s[p]={weight:1};this._analyze({key:p,value:this.options.getFn(l,p),record:l,index:u},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,i=void 0===r?-1:r,o=e.value,a=e.record,u=e.index,c=t.tokenSearchers,l=void 0===c?[]:c,f=t.fullSearcher,d=void 0===f?[]:f,p=t.resultMap,h=void 0===p?{}:p,m=t.results,g=void 0===m?[]:m;if(void 0!==o&&null!==o){var v=!1,y=-1,b=0;if("string"===typeof o){this._log("\nKey: "+(""===n?"-":n));var _=d.search(o);if(this._log('Full text: "'+o+'", score: '+_.score),this.options.tokenize){for(var w=o.split(this.options.tokenSeparator),x=[],S=0;S<l.length;S+=1){var E=l[S];this._log('\nPattern: "'+E.pattern+'"');for(var O=!1,k=0;k<w.length;k+=1){var C=w[k],T=E.search(C),N={};T.isMatch?(N[C]=T.score,v=!0,O=!0,x.push(T.score)):(N[C]=1,this.options.matchAllTokens||x.push(1)),this._log('Token: "'+C+'", score: '+N[C])}O&&(b+=1)}y=x[0];for(var A=x.length,I=1;I<A;I+=1)y+=x[I];y/=A,this._log("Token score average:",y)}var M=_.score;y>-1&&(M=(M+y)/2),this._log("Score average:",M);var R=!this.options.tokenize||!this.options.matchAllTokens||b>=l.length;if(this._log("\nCheck Matches: "+R),(v||_.isMatch)&&R){var j=h[u];j?j.output.push({key:n,arrayIndex:i,value:o,score:M,matchedIndices:_.matchedIndices}):(h[u]={item:a,output:[{key:n,arrayIndex:i,value:o,score:M,matchedIndices:_.matchedIndices}]},g.push(h[u]))}}else if(s(o))for(var P=0,D=o.length;P<D;P+=1)this._analyze({key:n,arrayIndex:P,value:o[P],record:a,index:u},{resultMap:h,results:g,tokenSearchers:l,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,o=i.length,a=0,s=1,u=0;u<o;u+=1){var c=e?e[i[u].key].weight:1,l=1===c?i[u].score:i[u].score||.001,f=l*c;1!==c?s=Math.min(s,f):(i[u].nScore=f,a+=f)}t[n].score=1===s?a/o:s,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e));var n=[];this.options.includeMatches&&n.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(var r=0,i=e.length;r<i;r+=1){var o=e[r];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),n.length){for(var a={item:o.item},s=0,u=n.length;s<u;s+=1)n[s](o,a);t.push(a)}else t.push(o.item)}return t}},{key:"_log",value:function(){if(this.options.verbose){var e;(e=console).log.apply(e,arguments)}}}]),e}();e.exports=u}])})},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var s=n(17),u=n.n(s),c=n(87),l=n(88),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(){function e(t){a(this,e),this.store=t||new g}return d(e,[{key:"hasUser",value:function(){return this.store.has("user")}},{key:"getUser",value:function(){return this.store.get("user")}},{key:"setConversations",value:function(e){return this.store.set("conversations",e.map(function(e){return{type:e.getType(),data:e.getJSON()}}))}},{key:"getConversations",value:function(e){return this.store.get("conversations",[]).map(function(t){return l.b.fromJSON(t,e)})}},{key:"setUser",value:function(e){var t=Object.assign({},e);"string"!==typeof t.jid&&(t.jid=t.jid.full),this.store.set("user",t)}},{key:"getResource",value:function(){var e=this.store.get("resource","fossil/"+("000"+Math.floor(65536*Math.random()).toString(16)).substr(-4).toUpperCase());return this.store.set("resource",e),e}},{key:"setResource",value:function(e){this.store.set("resource",e)}},{key:"getTimelineItems",value:function(e){return this.store.get("contact/"+e+"/timeline/items",[])}},{key:"setTimelineItems",value:function(e,t){return this.store.set("contact/"+e+"/timeline/items",t)}},{key:"setName",value:function(e,t){return this.store.set("contact/"+e+"/name",t)}},{key:"getName",value:function(e){return this.store.get("contact/"+e+"/name")}},{key:"setRoster",value:function(e){return this.store.set("roster",e)}},{key:"getRoster",value:function(){return this.store.get("roster",[])}},{key:"getRosterVersion",value:function(){return this.store.get("roster/version")}},{key:"setRosterVersion",value:function(e){return this.store.set("roster/version",e)}},{key:"getAvatar",value:function(e){return this.store.get("contact/"+e+"/avatar")}},{key:"setAvatar",value:function(e,t){return this.store.set("contact/"+e+"/avatar",t)}},{key:"setActiveContact",value:function(e){return this.store.set("active-contact",e)}},{key:"getActiveContact",value:function(){return this.store.get("active-contact")}},{key:"getContactOmemoEnabled",value:function(e){return this.store.get("contact/"+e+"/omemo-enabled",!1)}},{key:"setContactOmemoEnabled",value:function(e,t){this.store.set("contact/"+e+"/omemo-enabled",t)}}]),e}(),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.store=new m("omemo/",e),n}return o(t,e),d(t,[{key:"getDeviceIds",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Set(this.store.get("contact/"+t+"/device-ids")));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"hasDeviceIds",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.has("contact/"+t+"/device-ids"));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeDeviceIds",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("contact/"+t+"/device-ids",Array.from(n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeWhisper",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("whisper/"+t+"/"+n,c.b.arrayBufferToBase64String(r));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getWhisper",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=this.store.get("whisper/"+t+"/"+n))){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",c.b.base64StringToArrayBuffer(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getLocalRegistrationId",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.store.get("registration-id"))){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",parseInt(t,10));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeLocalRegistrationId",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.set("registration-id",t));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getIdentityKeyPair",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.store.get("identity"))){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",{pubKey:c.b.base64StringToArrayBuffer(t.pubKey),privKey:c.b.base64StringToArrayBuffer(t.privKey)});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeIdentityKeyPair",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("identity",{pubKey:c.b.arrayBufferToBase64String(t.pubKey),privKey:c.b.arrayBufferToBase64String(t.privKey)});case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"isTrustedIdentity",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadIdentityKey",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.get("identity/"+t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",c.b.base64StringToArrayBuffer(n));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"saveIdentity",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("identity/"+t,c.b.arrayBufferToBase64String(n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadPreKey",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.get("prekey/"+t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",{privKey:c.b.base64StringToArrayBuffer(n.privKey),pubKey:c.b.base64StringToArrayBuffer(n.pubKey)});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"storePreKey",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("prekey/"+t,{privKey:c.b.arrayBufferToBase64String(n.privKey),pubKey:c.b.arrayBufferToBase64String(n.pubKey)});case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"removePreKey",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadSignedPreKey",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.get("signed-prekey/"+t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",{privKey:c.b.base64StringToArrayBuffer(n.privKey),pubKey:c.b.base64StringToArrayBuffer(n.pubKey)});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeSignedPreKey",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("signed-prekey/"+t,{privKey:c.b.arrayBufferToBase64String(n.privKey),pubKey:c.b.arrayBufferToBase64String(n.pubKey)});case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeSignedPreKey",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.remove("signed-prekey/"+t);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadSession",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.get("session/"+t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"storeSession",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.set("session/"+t,n);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeSession",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.store.remove("session/"+t);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeAllSessions",value:function(){function e(e){return n.apply(this,arguments)}var n=r(u.a.mark(function e(n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeAllSessions",this).call(this,n));case 1:case"end":return e.stop()}},e,this)}));return e}()}]),t}(c.a),m=function(){function e(t,n){a(this,e),this.store=n,this.prefix=t}return d(e,[{key:"buildKey",value:function(e){return this.prefix+e}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.store.get(this.buildKey(e),t)}},{key:"set",value:function(e,t){this.store.set(this.buildKey(e),t)}},{key:"remove",value:function(e){this.store.remove(this.buildKey(e))}},{key:"has",value:function(e){return this.store.has(this.buildKey(e))}}]),e}(),g=function(){function e(t){a(this,e),this.prefix=t||"fossil/"}return d(e,[{key:"buildKey",value:function(e){return this.prefix+e}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(this.buildKey(e));if(null===n)return t;try{return JSON.parse(n)}catch(e){return t}}},{key:"set",value:function(e,t){localStorage.setItem(this.buildKey(e),JSON.stringify(t))}},{key:"remove",value:function(e){localStorage.removeItem(this.buildKey(e))}},{key:"has",value:function(e){return null!==localStorage.getItem(this.buildKey(e))}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a=n(3),s=n.n(a),u=n(366),c=n(11),l=(n.n(c),n(372)),f=n(22),d=n.n(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contact=e.contact,n.fossil=e.fossil,n.forceBottom=!0,n}return o(t,e),p(t,[{key:"componentWillUpdate",value:function(){this.forceBottom=!(this.messageList&&this.messageList.scrollHeight!==this.messageList.scrollTop+this.messageList.offsetHeight)}},{key:"componentDidMount",value:function(){this.messageList.scrollTop=this.messageList.scrollHeight-this.messageList.offsetHeight}},{key:"componentDidUpdate",value:function(){this.forceBottom&&(this.messageList.scrollTop=this.messageList.scrollHeight-this.messageList.offsetHeight)}},{key:"openContacts",value:function(){this.fossil.windowState.seeChat=!1,this.fossil.onState(this.fossil)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"chat-window"},s.a.createElement("div",{className:"top-bar"},s.a.createElement("div",{className:"menu-button",onClick:function(){return e.openContacts()}},s.a.createElement(d.a,{icon:"align-justify"})),s.a.createElement("div",{className:"contact-info"},s.a.createElement("div",{className:"name"},this.contact.getDisplayName()),s.a.createElement("div",{className:"jid"},this.contact.jid.bare))),s.a.createElement("div",{className:"message-list",ref:function(t){return e.messageList=t}},this.contact.getTimelineItems().filter(function(e){return!!e.body}).map(function(t){var n="string"===typeof t.message.from?new c.JID(t.message.from):t.message.from;return s.a.createElement(u.a,{isSelf:n.bare===e.props.owner.bare,key:t.id,message:t})})),s.a.createElement(l.a,{fossil:this.fossil,chat:this.contact}))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(3),s=n.n(a),u=n(22),c=n.n(u),l=n(371),f=n.n(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.message;return e.message.encrypted&&!e.encrypted?null:s.a.createElement("div",{className:"message-row "+(this.props.isSelf?" self right":" left")},s.a.createElement("div",{className:"message"},s.a.createElement("div",{className:"body"},e.body),s.a.createElement("div",{className:"status"},f()(e.date).fromNow(),s.a.createElement(c.a,{icon:e.encrypted?"lock":"lock-open",className:"sec-icon"}))))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.asNewDefault,r=void 0!==n&&n,i=Object.keys(Oe),o=r?function(e){return~i.indexOf(e)&&!~Se.indexOf(e)}:function(e){return~i.indexOf(e)};Object.keys(e).forEach(function(t){o(t)&&(Oe[t]=e[t])})}function i(e){r({autoReplaceSvg:e,observeMutations:e})}function o(e){return~ve.indexOf(e)}function a(e){if(e&&se){var t=re.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=re.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i];["STYLE","LINK"].indexOf((o.tagName||"").toUpperCase())>-1&&(r=o)}return re.head.insertBefore(t,r),e}}function s(){return++je}function u(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function c(e){return e.classList?u(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function l(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||o(i)?null:i}function f(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+'="')+f(e[n])+'" '},"").trim()}function p(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+": ")+e[n]+";"},"")}function h(e){return e.size!==Re.size||e.x!==Re.x||e.y!==Re.y||e.rotate!==Re.rotate||e.flipX||e.flipY}function m(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth;return{outer:{transform:"translate("+n/2+" 256)"},inner:{transform:"translate("+32*t.x+", "+32*t.y+")  scale("+t.size/16*(t.flipX?-1:1)+", "+t.size/16*(t.flipY?-1:1)+")  rotate("+t.rotate+" 0 0)"},path:{transform:"translate("+r/2*-1+" -256)"}}}function g(e){var t=e.transform,n=e.width,r=void 0===n?ce:n,i=e.height,o=void 0===i?ce:i,a=e.startCentered,s=void 0!==a&&a,u="";return u+=s&&ue?"translate("+(t.x/Me-r/2)+"em, "+(t.y/Me-o/2)+"em) ":s?"translate(calc(-50% + "+t.x/Me+"em), calc(-50% + "+t.y/Me+"em)) ":"translate("+t.x/Me+"em, "+t.y/Me+"em) ",u+="scale("+t.size/Me*(t.flipX?-1:1)+", "+t.size/Me*(t.flipY?-1:1)+") ",u+="rotate("+t.rotate+"deg) "}function v(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,u=e.symbol,c=e.title,l=e.extra,f=e.watchable,d=void 0!==f&&f,p=r.found?r:n,h=p.width,m=p.height,g="fa-w-"+Math.ceil(h/m*16),v=[Oe.replacementClass,o?Oe.familyPrefix+"-"+o:"",g].concat(l.classes).join(" "),y={children:[],attributes:_e({},l.attributes,{"data-prefix":i,"data-icon":o,class:v,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+h+" "+m})};d&&(y.attributes[le]=""),c&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-"+s()},children:[c]});var b=_e({},y,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:u,styles:l.styles}),_=r.found&&n.found?De(b):Le(b),w=_.children,x=_.attributes;return b.children=w,b.attributes=x,u?Be(b):Ue(b)}function y(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,s=e.watchable,u=void 0!==s&&s,c=_e({},a.attributes,o?{title:o}:{},{class:a.classes.join(" ")});u&&(c[le]="");var l=_e({},a.styles);h(i)&&(l.transform=g({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=p(l);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function b(e,t){return Je[e][t]}function _(e,t){return Xe[e][t]}function w(e){return $e[e]||{prefix:null,iconName:null}}function x(e){return e.reduce(function(e,t){var n=l(Oe.familyPrefix,t);if(Ze[t])e.prefix=t;else if(n){var r="fa"===e.prefix?w(n):{};e.iconName=r.iconName||n,e.prefix=r.prefix||e.prefix}else t!==Oe.replacementClass&&0!==t.indexOf("fa-w-")&&e.rest.push(t);return e},et())}function S(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function E(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?f(e):"<"+t+" "+d(r)+">"+o.map(E).join("")+"</"+t+">"}function O(e){return"string"===typeof(e.getAttribute?e.getAttribute(le):null)}function k(){return!0===Oe.autoReplaceSvg?nt.replace:nt[Oe.autoReplaceSvg]||nt.replace}function C(e,t){var n="function"===typeof t?t:tt;if(0===e.length)n();else{(ne.requestAnimationFrame||function(e){return e()})(function(){var t=k(),r=Ve.begin("mutate");e.map(t),r(),n()})}}function T(e){rt=!0,e(),rt=!1}function N(e){if(ie){var t=e.treeCallback,n=e.nodeCallback,r=e.pseudoElementsCallback;it=new ie(function(e){rt||u(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!O(e.addedNodes[0])&&(Oe.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Oe.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&O(e.target)&&~ge.indexOf(e.attributeName))if("class"===e.attributeName){var i=x(c(e.target)),o=i.prefix,a=i.iconName;o&&e.target.setAttribute("data-prefix",o),a&&e.target.setAttribute("data-icon",a)}else n(e.target)})}),se&&it.observe(re.getElementsByTagName("body")[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function A(){it&&it.disconnect()}function I(e){for(var t="",n=0;n<e.length;n++){t+=("000"+e.charCodeAt(n).toString(16)).slice(-4)}return t}function M(e){var t=at(e),n=t.iconName,r=t.prefix,i=t.rest,o=ot(e),a=ut(e),s=ct(e),u=lt(e),c=ft(e);return{iconName:n,title:e.getAttribute("title"),prefix:r,transform:a,symbol:s,mask:c,extra:{classes:i,styles:o,attributes:u}}}function R(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}function j(e,t){var n={found:!1,width:512,height:512,icon:bt};if(e&&t&&_t[t]&&_t[t][e]){var r=_t[t][e];n={found:!0,width:r[0],height:r[1],icon:{tag:"path",attributes:{fill:"currentColor",d:r.slice(4)[0]}}}}else if(e&&t&&!Oe.showMissingIcons)throw new R("Icon is missing for prefix "+t+" with icon name "+e);return n}function P(e,t){var n=t.iconName,r=t.title,i=t.prefix,o=t.transform,a=t.symbol,s=t.mask,u=t.extra;return[e,v({icons:{main:j(n,i),mask:j(s.iconName,s.prefix)},prefix:i,iconName:n,transform:o,symbol:a,mask:s,title:r,extra:u,watchable:!0})]}function D(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,a=null;if(ue){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/s,a=u.height/s}return Oe.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),[e,y({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})]}function L(e){var t=M(e);return~t.extra.classes.indexOf(wt)?D(e,t):P(e,t)}function U(e){"function"===typeof e.remove?e.remove():e&&e.parentNode&&e.parentNode.removeChild(e)}function B(e){if(se){var t=Ve.begin("searchPseudoElements");T(function(){u(e.querySelectorAll("*")).forEach(function(e){[":before",":after"].forEach(function(t){var n=ne.getComputedStyle(e,t),r=n.getPropertyValue("font-family").match(xt),i=u(e.children),o=i.filter(function(e){return e.getAttribute(fe)===t})[0];if(o&&(o.nextSibling&&o.nextSibling.textContent.indexOf(fe)>-1&&U(o.nextSibling),U(o),o=null),r&&!o){var a=n.getPropertyValue("content"),s=re.createElement("i");s.setAttribute("class",""+St[r[1]]),s.setAttribute(fe,t),s.innerText=3===a.length?a.substr(1,1):a,":before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s)}})})}),t()}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(se){var n=re.documentElement.classList,r=function(e){return n.add(de+"-"+e)},i=function(e){return n.remove(de+"-"+e)},o=Object.keys(_t),a=["."+wt+":not(["+le+"])"].concat(o.map(function(e){return"."+e+":not(["+le+"])"})).join(", ");if(0!==a.length){var s=u(e.querySelectorAll(a));if(s.length>0){r("pending"),i("complete");var c=Ve.begin("onTree"),l=s.reduce(function(e,t){try{var n=L(t);n&&e.push(n)}catch(e){pe||e instanceof R&&console.error(e)}return e},[]);c(),C(l,function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t()})}}}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=L(e);n&&C([n],t)}function z(e,t){var n=Object.keys(t).reduce(function(e,n){var r=t[n];return!r.icon?e[n]=r:e[r.iconName]=r.icon,e},{});"function"===typeof Ce.hooks.addPack?Ce.hooks.addPack(e,n):Ce.styles[e]=_e({},Ce.styles[e]||{},n),"fas"===e&&z("fa",t)}function q(e){return{found:!0,width:e[0],height:e[1],icon:{tag:"path",attributes:{fill:"currentColor",d:e.slice(4)[0]}}}}function V(){Oe.autoAddCss&&(kt||a(Et()),kt=!0)}function Y(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return E(e)})}}),Object.defineProperty(e,"node",{get:function(){if(se){var t=re.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function G(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return S(Ct.definitions,n,r)||S(Ce.styles,n,r)}function W(){ae&&(ne.FontAwesome||(ne.FontAwesome=jt),Ie(function(){Object.keys(Ce.styles).length>0&&Pt(),Oe.observeMutations&&"function"===typeof MutationObserver&&N({treeCallback:F,nodeCallback:H,pseudoElementsCallback:B})})),Ce.hooks=_e({},Ce.hooks,{addPack:function(e,t){Ce.styles[e]=_e({},Ce.styles[e]||{},t),Qe(),Pt()},addShims:function(e){var t;(t=Ce.shims).push.apply(t,we(e)),Qe(),Pt()}})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"config",function(){return Dt}),n.d(t,"icon",function(){return It}),n.d(t,"noAuto",function(){return Tt}),n.d(t,"layer",function(){return Rt}),n.d(t,"text",function(){return Mt}),n.d(t,"library",function(){return Ct}),n.d(t,"dom",function(){return Nt}),n.d(t,"parse",function(){return At}),n.d(t,"findIconDefinition",function(){return G});var K=function(){},J={},X={},$=null,Q={mark:K,measure:K};try{"undefined"!==typeof window&&(J=window),"undefined"!==typeof document&&(X=document),"undefined"!==typeof MutationObserver&&($=MutationObserver),"undefined"!==typeof performance&&(Q=performance)}catch(e){}var Z=J.navigator||{},ee=Z.userAgent,te=void 0===ee?"":ee,ne=J,re=X,ie=$,oe=Q,ae=!!ne.document,se=!!re.documentElement&&!!re.head&&"function"===typeof re.addEventListener&&"function"===typeof re.createElement,ue=~te.indexOf("MSIE")||~te.indexOf("Trident/"),ce=16,le="data-fa-i2svg",fe="data-fa-pseudo-element",de="fontawesome-i2svg",pe=function(){try{return!0}catch(e){return!1}}(),he=[1,2,3,4,5,6,7,8,9,10],me=he.concat([11,12,13,14,15,16,17,18,19,20]),ge=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ve=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(he.map(function(e){return e+"x"})).concat(me.map(function(e){return"w-"+e})),ye=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},xe=ne.FontAwesomeConfig||{},Se=Object.keys(xe),Ee=_e({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},xe);Ee.autoReplaceSvg||(Ee.observeMutations=!1);var Oe=_e({},Ee);ne.FontAwesomeConfig=Oe;var ke=ne||{};ke.___FONT_AWESOME___||(ke.___FONT_AWESOME___={}),ke.___FONT_AWESOME___.styles||(ke.___FONT_AWESOME___.styles={}),ke.___FONT_AWESOME___.hooks||(ke.___FONT_AWESOME___.hooks={}),ke.___FONT_AWESOME___.shims||(ke.___FONT_AWESOME___.shims=[]);var Ce=ke.___FONT_AWESOME___,Te=[],Ne=function e(){re.removeEventListener("DOMContentLoaded",e),Ae=1,Te.map(function(e){return e()})},Ae=!1;se&&((Ae=(re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(re.readyState))||re.addEventListener("DOMContentLoaded",Ne));var Ie=function(e){se&&(Ae?setTimeout(e,0):Te.push(e))},Me=ce,Re={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},je=0,Pe={x:0,y:0,width:"100%",height:"100%"},De=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.mask,o=e.transform,a=r.width,u=r.icon,c=i.width,l=i.icon,f=m({transform:o,containerWidth:c,iconWidth:a}),d={tag:"rect",attributes:_e({},Pe,{fill:"white"})},p={tag:"g",attributes:_e({},f.inner),children:[{tag:"path",attributes:_e({},u.attributes,f.path,{fill:"black"})}]},h={tag:"g",attributes:_e({},f.outer),children:[p]},g="mask-"+s(),v="clip-"+s(),y={tag:"mask",attributes:_e({},Pe,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,h]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:[l]},y]};return t.push(b,{tag:"rect",attributes:_e({fill:"currentColor","clip-path":"url(#"+v+")",mask:"url(#"+g+")"},Pe)}),{children:t,attributes:n}},Le=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=e.styles,a=p(o);if(a.length>0&&(n.style=a),h(i)){var s=m({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:_e({},s.outer),children:[{tag:"g",attributes:_e({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:_e({},r.icon.attributes,s.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}},Ue=function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(h(a)&&n.found&&!r.found){var s=n.width,u=n.height,c={x:s/u/2,y:.5};i.style=p(_e({},o,{"transform-origin":c.x+a.x/16+"em "+(c.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:i,children:t}]},Be=function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?t+"-"+Oe.familyPrefix+"-"+n:o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_e({},i,{id:a}),children:r}]}]},Fe=function(){},He=Oe.measurePerformance&&oe&&oe.mark&&oe.measure?oe:{mark:Fe,measure:Fe},ze=function(e){return He.mark('FA "5.0.7" '+e+" begins"),function(){return qe(e)}},qe=function(e){He.mark('FA "5.0.7" '+e+" ends"),He.measure('FA "5.0.7" '+e,'FA "5.0.7" '+e+" begins",'FA "5.0.7" '+e+" ends")},Ve={begin:ze,end:qe},Ye=function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}},Ge=function(e,t,n,r){var i,o,a,s=Object.keys(e),u=s.length,c=void 0!==r?Ye(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<u;i++)o=s[i],a=c(a,e[o],o,e);return a},We=Ce.styles,Ke=Ce.shims,Je={},Xe={},$e={},Qe=function(){var e=function(e){return Ge(We,function(t,n,r){return t[r]=Ge(n,e,{}),t},{})};Je=e(function(e,t,n){return e[t[3]]=n,e}),Xe=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in We;$e=Ge(Ke,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e},{})};Qe();var Ze=Ce.styles,et=function(){return{prefix:null,iconName:null,rest:[]}},tt=function(){},nt={replace:function(e){var t=e[0],n=e[1],r=n.map(function(e){return E(e)}).join("\n");if(t.parentNode&&t.outerHTML)t.outerHTML=r+(Oe.keepOriginalSource&&"svg"!==t.tagName.toLowerCase()?"\x3c!-- "+t.outerHTML+" --\x3e":"");else if(t.parentNode){var i=document.createElement("span");t.parentNode.replaceChild(i,t),i.outerHTML=r}},nest:function(e){var t=e[0],n=e[1];if(~c(t).indexOf(Oe.replacementClass))return nt.replace(e);var r=new RegExp(Oe.familyPrefix+"-.*");delete n[0].attributes.style;var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===Oe.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" ");var o=n.map(function(e){return E(e)}).join("\n");t.setAttribute("class",i.toNode.join(" ")),t.setAttribute(le,""),t.innerHTML=o}},rt=!1,it=null,ot=function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n},at=function(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=x(c(e));return t&&n&&(i.prefix=t,i.iconName=n),i.prefix&&r.length>1?i.iconName=_(i.prefix,e.innerText):i.prefix&&1===r.length&&(i.iconName=b(i.prefix,I(e.innerText))),i},st=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},t):t},ut=function(e){return st(e.getAttribute("data-fa-transform"))},ct=function(e){var t=e.getAttribute("data-fa-symbol");return null!==t&&(""===t||t)},lt=function(e){var t=u(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),n=e.getAttribute("title");return Oe.autoA11y&&(n?t["aria-labelledby"]=Oe.replacementClass+"-title-"+s():t["aria-hidden"]="true"),t},ft=function(e){var t=e.getAttribute("data-fa-mask");return t?x(t.split(" ").map(function(e){return e.trim()})):et()};R.prototype=Object.create(Error.prototype),R.prototype.constructor=R;var dt={fill:"currentColor"},pt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ht={tag:"path",attributes:_e({},dt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},mt=_e({},pt,{attributeName:"opacity"}),gt={tag:"circle",attributes:_e({},dt,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:_e({},pt,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_e({},mt,{values:"1;0;1;1;0;1;"})}]},vt={tag:"path",attributes:_e({},dt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:_e({},mt,{values:"1;0;0;0;0;1;"})}]},yt={tag:"path",attributes:_e({},dt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_e({},mt,{values:"0;0;1;1;0;0;"})}]},bt={tag:"g",children:[ht,gt,vt,yt]},_t=Ce.styles,wt="fa-layers-text",xt=/Font Awesome 5 (Solid|Regular|Light|Brands)/,St={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Et=function(){var e="svg-inline--fa",t=Oe.familyPrefix,n=Oe.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==t||n!==e){var i=new RegExp("\\.fa\\-","g"),o=new RegExp("\\."+e,"g");r=r.replace(i,"."+t+"-").replace(o,"."+n)}return r},Ot=function(){function e(){ye(this,e),this.definitions={}}return be(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=_e({},e.definitions[t]||{},i[t]),z(t,i[t])})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a}),e}}]),e}(),kt=!1,Ct=new Ot,Tt=function(){i(!1),A()},Nt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(se){V();var t=e.node,n=void 0===t?re:t,r=e.callback,i=void 0===r?function(){}:r;Oe.searchPseudoElements&&B(n),F(n,i)}},css:Et,insertCss:function(){a(Et())}},At={transform:function(e){return st(e)}},It=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:G(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:G(i||{})),e(r,_e({},n,{mask:i}))}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Re:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,u=void 0===a?null:a,c=t.title,l=void 0===c?null:c,f=t.classes,d=void 0===f?[]:f,p=t.attributes,h=void 0===p?{}:p,m=t.styles,g=void 0===m?{}:m;if(e){var y=e.prefix,b=e.iconName,_=e.icon;return Y(_e({type:"icon"},e),function(){return V(),Oe.autoA11y&&(l?h["aria-labelledby"]=Oe.replacementClass+"-title-"+s():h["aria-hidden"]="true"),v({icons:{main:q(_),mask:u?q(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:b,transform:_e({},Re,r),symbol:o,title:l,extra:{attributes:h,styles:g,classes:d}})})}}),Mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Re:n,i=t.title,o=void 0===i?null:i,a=t.classes,s=void 0===a?[]:a,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return Y({type:"text",content:e},function(){return V(),y({content:e,transform:_e({},Re,r),title:o,extra:{attributes:c,styles:f,classes:[Oe.familyPrefix+"-layers-text"].concat(we(s))}})})},Rt=function(e){return Y({type:"layer"},function(){V();var t=[];return e(function(e){Array.isArray(e)?e.map(function(e){t=t.concat(e.abstract)}):t=t.concat(e.abstract)}),[{tag:"span",attributes:{class:Oe.familyPrefix+"-layers"},children:t}]})},jt={noAuto:Tt,dom:Nt,library:Ct,parse:At,findIconDefinition:G,icon:It,text:Mt,layer:Rt},Pt=function(){se&&Oe.autoReplaceSvg&&jt.dom.i2svg({node:re})};Object.defineProperty(jt,"config",{get:function(){return Oe},set:function(e){r(e)}}),se&&function(e){try{e()}catch(e){if(!pe)throw e}}(W);var Dt=jt.config;t.default=jt},function(e,t,n){"use strict";var r=n(23),i=n(369),o=n(370);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return Cr.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e){return void 0===e}function a(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Et(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=Tr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=f(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function g(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=p(t)),o(t._locale)||(e._locale=t._locale),Nr.length>0)for(n=0;n<Nr.length;n++)r=Nr[n],i=t[r],o(i)||(e[r]=i);return e}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ar&&(Ar=!0,t.updateOffset(this),Ar=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+o}function x(e){!1===t.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,n){var r=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function E(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Ir[e]||(x(n),Ir[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)t=e[n],O(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,i=l({},e);for(n in t)c(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function T(e){null!=e&&this.set(e)}function N(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return O(r)?r.call(t,n):r}function A(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function I(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var i=this._relativeTime[n];return O(i)?i(e,t,n,r):i.replace(/%d/i,e)}function j(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}function P(e,t){var n=e.toLowerCase();Lr[n]=Lr[n+"s"]=Lr[t]=e}function D(e){return"string"===typeof e?Lr[e]||Lr[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)c(e,n)&&(t=D(n))&&(r[t]=e[n]);return r}function U(e,t){Ur[e]=t}function B(e){var t=[];for(var n in e)t.push({unit:n,priority:Ur[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function H(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(zr[e]=i),t&&(zr[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(zr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(Br);for(t=0,n=r.length;t<n;t++)zr[r[t]]?r[t]=zr[r[t]]:r[t]=z(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=O(r[i])?r[i].call(t,e):r[i];return o}}function V(e,t){return e.isValid()?(t=Y(t,e.localeData()),Hr[t]=Hr[t]||q(t),Hr[t](e)):e.localeData().invalidDate()}function Y(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Fr.lastIndex=0;r>=0&&Fr.test(e);)e=e.replace(Fr,n),Fr.lastIndex=0,r-=1;return e}function G(e,t,n){ai[e]=O(t)?t:function(e,r){return e&&n?n:t}}function W(e,t){return c(ai,e)?ai[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)si[e[n]]=r}function $(e,t){X(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Q(e,t,n){null!=t&&c(si,e)&&si[e](t,n._a,n,e)}function Z(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ne(e,n){return function(r){return null!=r?(ie(this,e,r),t.updateOffset(this,n),this):re(this,e)}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function oe(e){return e=D(e),O(this[e])?this[e]():this}function ae(e,t){if("object"===typeof e){e=L(e);for(var n=B(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=D(e),O(this[e]))return this[e](t);return this}function se(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=se(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function ce(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||bi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function le(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[bi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=vi.call(this._shortMonthsParse,a))?i:(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=vi.call(this._longMonthsParse,a))?i:(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null)}function de(e,t,n){var r,i,o;if(this._monthsParseExact)return fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function pe(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(e){return null!=e?(pe(this,e),t.updateOffset(this,!0),this):re(this,"Month")}function me(){return ue(this.year(),this.month())}function ge(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=xi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ve(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Si),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ye(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=J(r[t]),i[t]=J(i[t]);for(t=0;t<24;t++)o[t]=J(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function be(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var r=7+t-n;return-(7+_e(e,0,r).getUTCDay()-t)%7+r-1}function xe(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=we(e,r,i),c=1+7*(t-1)+s+u;return c<=0?(o=e-1,a=Z(o)+c):c>Z(e)?(o=e+1,a=c-Z(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Se(e,t,n){var r,i,o=we(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Ee(i,t,n)):a>Ee(e.year(),t,n)?(r=a-Ee(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ee(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(Z(e)-r+i)/7}function Oe(e){return Se(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function Ce(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ne(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function Ie(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function je(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=vi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=vi.call(this._weekdaysParse,a))?i:-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=vi.call(this._minWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function De(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Pe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Be(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ti),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ni),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ze(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ai),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=J(s[t]),u[t]=J(u[t]),c[t]=J(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ve(){return this.hours()%12||12}function Ye(){return this.hours()||24}function Ge(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ke(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function $e(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Xe(e[o]).split("-"),t=i.length,n=Xe(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Qe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function Qe(t){var n=null;if(!Pi[t]&&"undefined"!==typeof e&&e&&e.exports)try{n=Ii._abbr;!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Ze(n)}catch(e){}return Pi[t]}function Ze(e,t){var n;return e&&(n=o(t)?nt(e):et(e,t))&&(Ii=n),Ii._abbr}function et(e,t){if(null!==t){var n=ji;if(t.abbr=e,null!=Pi[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Pi[e]._config;else if(null!=t.parentLocale){if(null==Pi[t.parentLocale])return Di[t.parentLocale]||(Di[t.parentLocale]=[]),Di[t.parentLocale].push({name:e,config:t}),null;n=Pi[t.parentLocale]._config}return Pi[e]=new T(C(n,t)),Di[e]&&Di[e].forEach(function(e){et(e.name,e.config)}),Ze(e),Pi[e]}return delete Pi[e],null}function tt(e,t){if(null!=t){var n,r,i=ji;r=Qe(e),null!=r&&(i=r._config),t=C(i,t),n=new T(t),n.parentLocale=Pi[e],Pi[e]=n,Ze(e)}else null!=Pi[e]&&(null!=Pi[e].parentLocale?Pi[e]=Pi[e].parentLocale:null!=Pi[e]&&delete Pi[e]);return Pi[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ii;if(!n(e)){if(t=Qe(e))return t;e=[e]}return $e(e)}function rt(){return Mr(Pi)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ci]<0||n[ci]>11?ci:n[li]<1||n[li]>ue(n[ui],n[ci])?li:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[di]||0!==n[pi]||0!==n[hi])?fi:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>59?pi:n[hi]<0||n[hi]>999?hi:-1,p(e)._overflowDayOfYear&&(t<ui||t>li)&&(t=li),p(e)._overflowWeeks&&-1===t&&(t=mi),p(e)._overflowWeekday&&-1===t&&(t=gi),p(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function at(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function st(e){var t,n,r,i,o,a=[];if(!e._d){for(r=at(e),e._w&&null==e._a[li]&&null==e._a[ci]&&ut(e),null!=e._dayOfYear&&(o=ot(e._a[ui],r[ui]),(e._dayOfYear>Z(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=_e(o,0,e._dayOfYear),e._a[ci]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fi]&&0===e._a[di]&&0===e._a[pi]&&0===e._a[hi]&&(e._nextDay=!0,e._a[fi]=0),e._d=(e._useUTC?_e:be).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fi]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function ut(e){var t,n,r,i,o,a,s,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=ot(t.GG,e._a[ui],Se(Ot(),1,4).year),r=ot(t.W,1),((i=ot(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Se(Ot(),o,a);n=ot(t.gg,e._a[ui],c.year),r=ot(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Ee(n,o,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=xe(n,r,i,o,a),e._a[ui]=s.year,e._dayOfYear=s.dayOfYear)}function ct(e){var t,n,r,i,o,a,s=e._i,u=Li.exec(s)||Ui.exec(s);if(u){for(p(e).iso=!0,t=0,n=Fi.length;t<n;t++)if(Fi[t][1].exec(u[1])){i=Fi[t][0],r=!1!==Fi[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Hi.length;t<n;t++)if(Hi[t][1].exec(u[3])){o=(u[2]||" ")+Hi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Bi.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),vt(e)}else e._isValid=!1}function lt(e,t,n,r,i,o){var a=[ft(e),wi.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function ft(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function dt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function pt(e,t,n){if(e){if(ki.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ht(e,t,n){if(e)return Vi[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function mt(e){var t=qi.exec(dt(e._i));if(t){var n=lt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!pt(t[1],n,e))return;e._a=n,e._tzm=ht(t[8],t[9],t[10]),e._d=_e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function gt(e){var n=zi.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));ct(e),!1===e._isValid&&(delete e._isValid,mt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function vt(e){if(e._f===t.ISO_8601)return void ct(e);if(e._f===t.RFC_2822)return void mt(e);e._a=[],p(e).empty=!0;var n,r,i,o,a,s=""+e._i,u=s.length,c=0;for(i=Y(e._f,e._locale).match(Br)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(W(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),zr[o]?(r?p(e).empty=!1:p(e).unusedTokens.push(o),Q(o,r,e)):e._strict&&!r&&p(e).unusedTokens.push(o);p(e).charsLeftOver=u-c,s.length>0&&p(e).unusedInput.push(s),e._a[fi]<=12&&!0===p(e).bigHour&&e._a[fi]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[fi]=yt(e._locale,e._a[fi],e._meridiem),st(e),it(e)}function yt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function bt(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],vt(t),h(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||o<r)&&(r=o,n=t));l(e,n||t)}function _t(e){if(!e._d){var t=L(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function wt(e){var t=new v(it(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xt(e){var t=e._i,r=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(it(t)):(s(t)?e._d=t:n(r)?bt(e):r?vt(e):St(e),h(e)||(e._d=null),e))}function St(e){var i=e._i;o(i)?e._d=new Date(t.now()):s(i)?e._d=new Date(i.valueOf()):"string"===typeof i?gt(e):n(i)?(e._a=u(i.slice(0),function(e){return parseInt(e,10)}),st(e)):r(i)?_t(e):a(i)?e._d=new Date(i):t.createFromInputFallback(e)}function Et(e,t,o,a,s){var u={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=o,u._i=e,u._f=t,u._strict=a,wt(u)}function Ot(e,t,n,r){return Et(e,t,n,r,!1)}function kt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ot();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function Ct(){return kt("isBefore",[].slice.call(arguments,0))}function Tt(){return kt("isAfter",[].slice.call(arguments,0))}function Nt(e){for(var t in e)if(-1===vi.call(Ki,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Ki.length;++r)if(e[Ki[r]]){if(n)return!1;parseFloat(e[Ki[r]])!==_(e[Ki[r]])&&(n=!0)}return!0}function At(){return this._isValid}function It(){return Xt(NaN)}function Mt(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=Nt(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function Rt(e){return e instanceof Mt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Dt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Ji)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Lt(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(e)||s(e)?e.valueOf():Ot(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):Ot(e).local()}function Ut(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(e,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Dt(ri,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(i=Ut(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?tn(this,Xt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ut(this)}function Ft(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ht(e){return this.utcOffset(0,e)}function zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this}function qt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Dt(ni,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Vt(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=xt(e),e._a){var t=e._isUTC?f(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!!this.isValid()&&!this._isUTC}function Kt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xt(e,t){var n,r,i,o=e,s=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Xi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[li])*n,h:_(s[fi])*n,m:_(s[di])*n,s:_(s[pi])*n,ms:_(jt(1e3*s[hi]))*n}):(s=$i.exec(e))?(n="-"===s[1]?-1:(s[1],1),o={y:$t(s[2],n),M:$t(s[3],n),w:$t(s[4],n),d:$t(s[5],n),h:$t(s[6],n),m:$t(s[7],n),s:$t(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Zt(Ot(o.from),Ot(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Mt(o),Rt(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){var n;return e.isValid()&&t.isValid()?(t=Lt(t,e),e.isBefore(t)?n=Qt(e,t):(n=Qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"===typeof n?+n:n,i=Xt(n,r),tn(this,i,e),this}}function tn(e,n,r,i){var o=n._milliseconds,a=jt(n._days),s=jt(n._months);e.isValid()&&(i=null==i||i,s&&pe(e,re(e,"Month")+s*r),a&&ie(e,"Date",re(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&t.updateOffset(e,a||s))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var r=e||Ot(),i=Lt(r,this).startOf("day"),o=t.calendarFormat(this,i)||"sameElse",a=n&&(O(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,Ot(r)))}function on(){return new v(this)}function an(e,t){var n=y(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=D(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function sn(e,t){var n=y(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=D(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function cn(e,t){var n,r=y(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&(t=D(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function ln(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function fn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=Lt(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t)){case"year":o=pn(this,r)/12;break;case"month":o=pn(this,r);break;case"quarter":o=pn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)}function pn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function hn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function vn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=V(this,e);return this.localeData().postformat(n)}function yn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Ot(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(Ot(),e)}function _n(e,t){return this.isValid()&&(y(e)&&e.isValid()||Ot(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.to(Ot(),e)}function xn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Sn(){return this._locale}function En(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function On(e){return void 0===(e=D(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function kn(){return this._d.valueOf()-6e4*(this._offset||0)}function Cn(){return Math.floor(this.valueOf()/1e3)}function Tn(){return new Date(this.valueOf())}function Nn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function An(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function In(){return this.isValid()?this.toISOString():null}function Mn(){return h(this)}function Rn(){return l({},p(this))}function jn(){return p(this).overflow}function Pn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){H(0,[e,e.length],0,t)}function Ln(e){return Hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Un(e){return Hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bn(){return Ee(this.year(),1,4)}function Fn(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function Hn(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=Ee(e,r,i),t>o&&(t=o),zn.call(this,e,t,n,r,i))}function zn(e,t,n,r,i){var o=xe(e,t,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function qn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Vn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Yn(e,t){t[hi]=_(1e3*("0."+e))}function Gn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Kn(e){return Ot(1e3*e)}function Jn(){return Ot.apply(null,arguments).parseZone()}function Xn(e){return e}function $n(e,t,n,r){var i=nt(),o=f().set(r,t);return i[n](o,e)}function Qn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return $n(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=$n(e,r,n,"month");return i}function Zn(e,t,n,r){"boolean"===typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=nt(),o=e?i._week.dow:0;if(null!=n)return $n(t,(n+o)%7,r,"day");var s,u=[];for(s=0;s<7;s++)u[s]=$n(t,(s+o)%7,r,"day");return u}function er(e,t){return Qn(e,t,"months")}function tr(e,t){return Qn(e,t,"monthsShort")}function nr(e,t,n){return Zn(e,t,n,"weekdays")}function rr(e,t,n){return Zn(e,t,n,"weekdaysShort")}function ir(e,t,n){return Zn(e,t,n,"weekdaysMin")}function or(){var e=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),e.milliseconds=uo(e.milliseconds),e.seconds=uo(e.seconds),e.minutes=uo(e.minutes),e.hours=uo(e.hours),e.months=uo(e.months),e.years=uo(e.years),this}function ar(e,t,n,r){var i=Xt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function sr(e,t){return ar(this,e,t,1)}function ur(e,t){return ar(this,e,t,-1)}function cr(e){return e<0?Math.floor(e):Math.ceil(e)}function lr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*cr(dr(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=b(o/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,n=b(t/60),u.hours=n%24,a+=b(n/24),i=b(fr(a)),s+=i,a-=cr(dr(i)),r=b(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function fr(e){return 4800*e/146097}function dr(e){return 146097*e/4800}function pr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=D(e))||"year"===e)return t=this._days+r/864e5,n=this._months+fr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(dr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function hr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function mr(e){return function(){return this.as(e)}}function gr(){return Xt(this)}function vr(e){return e=D(e),this.isValid()?this[e+"s"]():NaN}function yr(e){return function(){return this.isValid()?this._data[e]:NaN}}function br(){return b(this.days()/7)}function _r(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function wr(e,t,n){var r=Xt(e).abs(),i=Oo(r.as("s")),o=Oo(r.as("m")),a=Oo(r.as("h")),s=Oo(r.as("d")),u=Oo(r.as("M")),c=Oo(r.as("y")),l=i<=ko.ss&&["s",i]||i<ko.s&&["ss",i]||o<=1&&["m"]||o<ko.m&&["mm",o]||a<=1&&["h"]||a<ko.h&&["hh",a]||s<=1&&["d"]||s<ko.d&&["dd",s]||u<=1&&["M"]||u<ko.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,_r.apply(null,l)}function xr(e){return void 0===e?Oo:"function"===typeof e&&(Oo=e,!0)}function Sr(e,t){return void 0!==ko[e]&&(void 0===t?ko[e]:(ko[e]=t,"s"===e&&(ko.ss=t-1),!0))}function Er(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=wr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Or(e){return(e>0)-(e<0)||+e}function kr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=Co(this._milliseconds)/1e3,i=Co(this._days),o=Co(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,u=i,c=t,l=e,f=r?r.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",h=Or(this._months)!==Or(d)?"-":"",m=Or(this._days)!==Or(d)?"-":"",g=Or(this._milliseconds)!==Or(d)?"-":"";return p+"P"+(a?h+a+"Y":"")+(s?h+s+"M":"")+(u?m+u+"D":"")+(c||l||f?"T":"")+(c?g+c+"H":"")+(l?g+l+"M":"")+(f?g+f+"S":"")}var Cr,Tr;Tr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Nr=t.momentProperties=[],Ar=!1,Ir={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Mr;Mr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var Rr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},jr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Pr=/\d{1,2}/,Dr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Lr={},Ur={},Br=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hr={},zr={},qr=/\d/,Vr=/\d\d/,Yr=/\d{3}/,Gr=/\d{4}/,Wr=/[+-]?\d{6}/,Kr=/\d\d?/,Jr=/\d\d\d\d?/,Xr=/\d\d\d\d\d\d?/,$r=/\d{1,3}/,Qr=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,ei=/\d+/,ti=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ii=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ai={},si={},ui=0,ci=1,li=2,fi=3,di=4,pi=5,hi=6,mi=7,gi=8;H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),P("year","y"),U("year",1),G("Y",ti),G("YY",Kr,Vr),G("YYYY",Qr,Gr),G("YYYYY",Zr,Wr),G("YYYYYY",Zr,Wr),X(["YYYYY","YYYYYY"],ui),X("YYYY",function(e,n){n[ui]=2===e.length?t.parseTwoDigitYear(e):_(e)}),X("YY",function(e,n){n[ui]=t.parseTwoDigitYear(e)}),X("Y",function(e,t){t[ui]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var vi,yi=ne("FullYear",!0);vi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),U("month",8),G("M",Kr),G("MM",Kr,Vr),G("MMM",function(e,t){return t.monthsShortRegex(e)}),G("MMMM",function(e,t){return t.monthsRegex(e)}),X(["M","MM"],function(e,t){t[ci]=_(e)-1}),X(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ci]=i:p(n).invalidMonth=e});var bi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_i="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xi=oi,Si=oi;H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),U("week",5),U("isoWeek",5),G("w",Kr),G("ww",Kr,Vr),G("W",Kr),G("WW",Kr,Vr),$(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var Ei={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),G("d",Kr),G("e",Kr),G("E",Kr),G("dd",function(e,t){return t.weekdaysMinRegex(e)}),G("ddd",function(e,t){return t.weekdaysShortRegex(e)}),G("dddd",function(e,t){return t.weekdaysRegex(e)}),$(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),$(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var Oi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ki="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ci="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ti=oi,Ni=oi,Ai=oi;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ve),H("k",["kk",2],0,Ye),H("hmm",0,0,function(){return""+Ve.apply(this)+F(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Ve.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),P("hour","h"),U("hour",13),G("a",We),G("A",We),G("H",Kr),G("h",Kr),G("k",Kr),G("HH",Kr,Vr),G("hh",Kr,Vr),G("kk",Kr,Vr),G("hmm",Jr),G("hmmss",Xr),G("Hmm",Jr),G("Hmmss",Xr),X(["H","HH"],fi),X(["k","kk"],function(e,t,n){var r=_(e);t[fi]=24===r?0:r}),X(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),X(["h","hh"],function(e,t,n){t[fi]=_(e),p(n).bigHour=!0}),X("hmm",function(e,t,n){var r=e.length-2;t[fi]=_(e.substr(0,r)),t[di]=_(e.substr(r)),p(n).bigHour=!0}),X("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[fi]=_(e.substr(0,r)),t[di]=_(e.substr(r,2)),t[pi]=_(e.substr(i)),p(n).bigHour=!0}),X("Hmm",function(e,t,n){var r=e.length-2;t[fi]=_(e.substr(0,r)),t[di]=_(e.substr(r))}),X("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[fi]=_(e.substr(0,r)),t[di]=_(e.substr(r,2)),t[pi]=_(e.substr(i))});var Ii,Mi=/[ap]\.?m?\.?/i,Ri=ne("Hours",!0),ji={calendar:Rr,longDateFormat:jr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Pr,relativeTime:Dr,months:_i,monthsShort:wi,week:Ei,weekdays:Oi,weekdaysMin:Ci,weekdaysShort:ki,meridiemParse:Mi},Pi={},Di={},Li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ui=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bi=/Z|[+-]\d\d(?::?\d\d)?/,Fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Hi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zi=/^\/?Date\((\-?\d+)/i,qi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Yi=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Gi=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Wi=function(){return Date.now?Date.now():+new Date},Ki=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pt("Z",":"),Pt("ZZ",""),G("Z",ri),G("ZZ",ri),X(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(ri,e)});var Ji=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Xi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$i=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xt.fn=Mt.prototype,Xt.invalid=It;var Qi=en(1,"add"),Zi=en(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var eo=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),G("G",ti),G("g",ti),G("GG",Kr,Vr),G("gg",Kr,Vr),G("GGGG",Qr,Gr),G("gggg",Qr,Gr),G("GGGGG",Zr,Wr),G("ggggg",Zr,Wr),$(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),$(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),P("quarter","Q"),U("quarter",7),G("Q",qr),X("Q",function(e,t){t[ci]=3*(_(e)-1)}),H("D",["DD",2],"Do","date"),P("date","D"),U("date",9),G("D",Kr),G("DD",Kr,Vr),G("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),X(["D","DD"],li),X("Do",function(e,t){t[li]=_(e.match(Kr)[0])});var to=ne("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),U("dayOfYear",4),G("DDD",$r),G("DDDD",Yr),X(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),H("m",["mm",2],0,"minute"),P("minute","m"),U("minute",14),G("m",Kr),G("mm",Kr,Vr),X(["m","mm"],di);var no=ne("Minutes",!1);H("s",["ss",2],0,"second"),P("second","s"),U("second",15),G("s",Kr),G("ss",Kr,Vr),X(["s","ss"],pi);var ro=ne("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),U("millisecond",16),G("S",$r,qr),G("SS",$r,Vr),G("SSS",$r,Yr);var io;for(io="SSSS";io.length<=9;io+="S")G(io,ei);for(io="S";io.length<=9;io+="S")X(io,Yn);var oo=ne("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var ao=v.prototype;ao.add=Qi,ao.calendar=rn,ao.clone=on,ao.diff=dn,ao.endOf=On,ao.format=vn,ao.from=yn,ao.fromNow=bn,ao.to=_n,ao.toNow=wn,ao.get=oe,ao.invalidAt=jn,ao.isAfter=an,ao.isBefore=sn,ao.isBetween=un,ao.isSame=cn,ao.isSameOrAfter=ln,ao.isSameOrBefore=fn,ao.isValid=Mn,ao.lang=eo,ao.locale=xn,ao.localeData=Sn,ao.max=Gi,ao.min=Yi,ao.parsingFlags=Rn,ao.set=ae,ao.startOf=En,ao.subtract=Zi,ao.toArray=Nn,ao.toObject=An,ao.toDate=Tn,ao.toISOString=mn,ao.inspect=gn,ao.toJSON=In,ao.toString=hn,ao.unix=Cn,ao.valueOf=kn,ao.creationData=Pn,ao.year=yi,ao.isLeapYear=te,ao.weekYear=Ln,ao.isoWeekYear=Un,ao.quarter=ao.quarters=qn,ao.month=he,ao.daysInMonth=me,ao.week=ao.weeks=Te,ao.isoWeek=ao.isoWeeks=Ne,ao.weeksInYear=Fn,ao.isoWeeksInYear=Bn,ao.date=to,ao.day=ao.days=Le,ao.weekday=Ue,ao.isoWeekday=Be,ao.dayOfYear=Vn,ao.hour=ao.hours=Ri,ao.minute=ao.minutes=no,ao.second=ao.seconds=ro,ao.millisecond=ao.milliseconds=oo,ao.utcOffset=Bt,ao.utc=Ht,ao.local=zt,ao.parseZone=qt,ao.hasAlignedHourOffset=Vt,ao.isDST=Yt,ao.isLocal=Wt,ao.isUtcOffset=Kt,ao.isUtc=Jt,ao.isUTC=Jt,ao.zoneAbbr=Gn,ao.zoneName=Wn,ao.dates=S("dates accessor is deprecated. Use date instead.",to),ao.months=S("months accessor is deprecated. Use month instead",he),ao.years=S("years accessor is deprecated. Use year instead",yi),ao.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ft),ao.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Gt);var so=T.prototype;so.calendar=N,so.longDateFormat=A,so.invalidDate=I,so.ordinal=M,so.preparse=Xn,so.postformat=Xn,so.relativeTime=R,so.pastFuture=j,so.set=k,so.months=ce,so.monthsShort=le,so.monthsParse=de,so.monthsRegex=ve,so.monthsShortRegex=ge,so.week=Oe,so.firstDayOfYear=Ce,so.firstDayOfWeek=ke,so.weekdays=Me,so.weekdaysMin=je,so.weekdaysShort=Re,so.weekdaysParse=De,so.weekdaysRegex=Fe,so.weekdaysShortRegex=He,so.weekdaysMinRegex=ze,so.isPM=Ke,so.meridiem=Je,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=S("moment.lang is deprecated. Use moment.locale instead.",Ze),t.langData=S("moment.langData is deprecated. Use moment.localeData instead.",nt);var uo=Math.abs,co=mr("ms"),lo=mr("s"),fo=mr("m"),po=mr("h"),ho=mr("d"),mo=mr("w"),go=mr("M"),vo=mr("y"),yo=yr("milliseconds"),bo=yr("seconds"),_o=yr("minutes"),wo=yr("hours"),xo=yr("days"),So=yr("months"),Eo=yr("years"),Oo=Math.round,ko={ss:44,s:45,m:45,h:22,d:26,M:11},Co=Math.abs,To=Mt.prototype;return To.isValid=At,To.abs=or,To.add=sr,To.subtract=ur,To.as=pr,To.asMilliseconds=co,To.asSeconds=lo,To.asMinutes=fo,To.asHours=po,To.asDays=ho,To.asWeeks=mo,To.asMonths=go,To.asYears=vo,To.valueOf=hr,To._bubble=lr,To.clone=gr,To.get=vr,To.milliseconds=yo,To.seconds=bo,To.minutes=_o,To.hours=wo,To.days=xo,To.weeks=br,To.months=So,To.years=Eo,To.humanize=Er,To.toISOString=kr,To.toString=kr,To.toJSON=kr,To.locale=xn,To.localeData=Sn,To.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",kr),To.lang=eo,H("X",0,0,"unix"),H("x",0,0,"valueOf"),G("x",ti),G("X",ii),X("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),X("x",function(e,t,n){n._d=new Date(_(e))}),t.version="2.20.1",function(e){Cr=e}(Ot),t.fn=ao,t.min=Ct,t.max=Tt,t.now=Wi,t.utc=f,t.unix=Kn,t.months=er,t.isDate=s,t.locale=Ze,t.invalid=m,t.duration=Xt,t.isMoment=y,t.weekdays=nr,t.parseZone=Jn,t.localeData=nt,t.isDuration=Rt,t.monthsShort=tr,t.weekdaysMin=ir,t.defineLocale=et,t.updateLocale=tt,t.locales=rt,t.weekdaysShort=rr,t.normalizeUnits=D,t.relativeTimeRounding=xr,t.relativeTimeThreshold=Sr,t.calendarFormat=nn,t.prototype=ao,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})}).call(t,n(6)(e))},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var s=n(17),u=n.n(s),c=n(3),l=n.n(c),f=n(22),d=n.n(f),p=n(88),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fossil=e.fossil,n.chat=e.chat,n.state={hoverEncryption:!1,changingEncryptionState:!1},n}return a(t,e),h(t,[{key:"onTextInput",value:function(e){13!==e.keyCode||e.shiftKey||(this.chat.send(this.textInput.value),this.fossil.indexConversation(new p.a({client:this.fossil.client,contact:this.chat})),this.textInput.value="")}},{key:"toggleOmemo",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({changingEncryptionState:!0}),e.prev=1,e.next=4,this.chat.toggleOmemo();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:this.setState({changingEncryptionState:!1});case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return e}()},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"composer"},l.a.createElement("div",{className:"text-input"},l.a.createElement("input",{onKeyDown:this.onTextInput.bind(this),ref:function(t){return e.textInput=t},type:"text"})),l.a.createElement("div",{onMouseEnter:function(){return e.chat.omemoAvailable&&e.setState({hoverEncryption:!0})},onMouseLeave:function(){return e.chat.omemoAvailable&&e.setState({hoverEncryption:!1})},onClick:function(){return e.toggleOmemo()},className:"encryption-switch"},this.state.changingEncryptionState?l.a.createElement(d.a,{icon:"circle-notch",spin:!0}):this.chat.omemoEnabled!==this.state.hoverEncryption?l.a.createElement(d.a,{icon:"lock",className:"safe"}):l.a.createElement(d.a,{icon:"lock-open",className:this.chat.omemoAvailable?"unsafe":""})))}}]),t}(c.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(3),s=n.n(a),u=n(11),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fossil=e.fossil,n.state={advancedCollapsed:!1,errorMessage:null},n}return o(t,e),c(t,[{key:"onClick",value:function(){var e=this,n={jid:this.username.value,password:this.password.value};this.fossil.setResource(this.resource.value),""!==this.transport.value&&(n.transport=this.transport.value,"bosh"===n.transport?n.boshURL=this.url.value:n.wsURL=this.url.value);var r=new u.JID(this.username.value);r.domain in t.knownMap&&Object.assign(n,t.knownMap[r.domain]),this.fossil.client.once("auth:success",function(){e.fossil.storage.setUser(n)}),this.fossil.client.once("auth:failed",function(){e.setState({errorMessage:"Username or password are invalid"})}),this.fossil.client.once("session:error",function(t){e.setState({errorMessage:"Failed to connect to server: "+t.message})});try{this.fossil.client.connect(n)}catch(e){this.setState({errorMessage:"Failed to connect to server, check your input"})}this.fossil.jid=new u.JID(this.username.value)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"login-page"},s.a.createElement("div",{className:"center"},s.a.createElement("div",{className:"form"},s.a.createElement("h1",null,"Fossil"),null!==this.state.errorMessage?s.a.createElement("div",{className:"error"},this.state.errorMessage):s.a.createElement(a.Fragment,null),s.a.createElement("input",{ref:function(t){return e.username=t},className:"item",type:"text",placeholder:"Username"}),s.a.createElement("input",{ref:function(t){return e.password=t},className:"item",type:"password",placeholder:"Password"}),s.a.createElement("input",{ref:function(t){return e.resource=t},className:"item",type:"text",placeholder:"Name of device"}),s.a.createElement("div",{onClick:function(){return e.setState({advancedCollapsed:!e.state.advancedCollapsed})}},this.state.advancedCollapsed?"-":"+"," Advanced"),s.a.createElement("div",{className:"advanced",style:{height:this.state.advancedCollapsed?"auto":"0px"}},s.a.createElement("select",{ref:function(t){return e.transport=t},className:"item",name:"connection-type"},s.a.createElement("option",{value:""},"Automatic"),s.a.createElement("option",{value:"bosh"},"BOSH"),s.a.createElement("option",{value:"websocket"},"WebSocket"),s.a.createElement("option",{value:"old-websocket"},"Old WebSocket")),s.a.createElement("input",{type:"text",ref:function(t){return e.url=t},placeholder:"Url",className:"item"})),s.a.createElement("button",{onClick:this.onClick.bind(this),className:"item"},"Login"))))}}]),t}(a.Component);l.knownMap={"kode.im":{transport:"bosh",boshURL:"https://im.koderoot.net/http-bind"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var a=n(3),s=n.n(a),u=n(375),c=n(22),l=(n.n(c),n(376)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=e.onSelect,n}return o(t,e),f(t,[{key:"handleSelect",value:function(e){this.onSelect&&this.onSelect(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"conversation-list"},s.a.createElement(l.a,{ref:function(t){return e.newConvoModal=t},fossil:this.props.fossil}),s.a.createElement("div",{onClick:function(){return e.newConvoModal.open()},className:"new-conversation"},s.a.createElement("span",null,"New conversation...")),s.a.createElement("div",{className:"conversations"},this.props.conversations.map(function(t){return s.a.createElement(u.a,{conversation:t,onClick:function(){return e.handleSelect(t.getId())},active:t.id===e.props.active,key:"convo/"+t.getId()})})))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(3),s=n.n(a),u=n(11),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props.conversation.getLastMessage();return s.a.createElement("div",{onClick:this.props.onClick,className:"conversation"+(this.props.active?" active":"")},s.a.createElement("div",{className:"avatar",style:{backgroundImage:"url("+this.props.conversation.getImage()+")"}}),s.a.createElement("label",{className:"name"},this.props.conversation.getTitle()),s.a.createElement("span",{className:"last-item"},"contact"===this.props.conversation.getType()?s.a.createElement(a.Fragment,null,this.props.conversation.contact.jid.bare===new u.JID(e.message.to).bare?s.a.createElement("span",{className:"user"},"You: "):null,(e.body||"").split("\n").shift().substr(0,100)):s.a.createElement(a.Fragment,null)))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(3),s=n.n(a),u=n(377),c=n(386),l=n(11),f=(n.n(l),n(22)),d=n.n(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchValue:!1,quickContact:!1,isOpen:!1},n}return o(t,e),p(t,[{key:"updateSearch",value:function(){this.setState({searchValue:this.search.value,quickContact:/.+@.+/.test(this.search.value)})}},{key:"onQuickContact",value:function(){var e=new l.JID(this.state.searchValue.trim()).bare;this.props.fossil.roster.indexContact({jid:e,phantom:!0}),this.props.fossil.activateContact(e),this.close()}},{key:"onContactSelect",value:function(e){this.props.fossil.activateContact(e),this.close()}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1,searchValue:"",quickContact:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement(u.a,{className:"new-convo-modal",onRequestClose:function(){return e.close()},isOpen:this.state.isOpen},s.a.createElement("div",{className:"quick-search"},s.a.createElement("input",{ref:function(t){return e.search=t},onKeyUp:function(){return e.updateSearch()},type:"text",placeholder:"Search..."})),this.state.quickContact&&!this.props.fossil.roster.gotContact(this.state.searchValue.trim())?s.a.createElement("div",{onClick:function(){return e.onQuickContact()},className:"quick-add"},s.a.createElement("span",{className:"text"},"Contact ",new l.JID(this.state.searchValue).bare),s.a.createElement(d.a,{icon:"comment"})):null,s.a.createElement(c.a,{onSelect:function(t){return e.onContactSelect(t)},filter:this.state.searchValue,roster:this.props.fossil.roster}))}}]),t}(a.Component);t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var a=n(89),s=n.n(a),u=n(3),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e={overlayClassName:"modal-overlay",className:"modal-content",bodyOpenClassName:"modal-body-open",htmlOpenClassName:"modal-html-open",portalClassName:"modal-portal"};return c.a.createElement(s.a,Object.assign({},e,this.props,{className:"modal-content "+(this.props.className||"")}),this.props.children)}}]),t}(u.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e()}Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=r(l),d=n(50),p=r(d),h=n(47),m=r(h),g=n(379),v=r(g),y=n(91),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),_=n(92),w=r(_),x=n(385),S=t.portalClassName="ReactModalPortal",E=t.bodyOpenClassName="ReactModal__Body--open",O=void 0!==p.default.createPortal,k=O?p.default.createPortal:p.default.unstable_renderSubtreeIntoContainer,C=function(e){function t(){var e,n,r,a;i(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!O&&p.default.unmountComponentAtNode(r.node),s(r.props.parentSelector).removeChild(r.node)},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=k(r,f.default.createElement(v.default,u({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},a=n,o(r,a)}return a(t,e),c(t,[{key:"componentDidMount",value:function(){if(_.canUseDOM){O||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName;s(this.props.parentSelector).appendChild(this.node),!O&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:s(e.parentSelector),nextParent:s(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(_.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;if(e.portalClassName!==o&&(this.node.className=o),e.isOpen||i){var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),!O&&this.renderPortal(this.props)}}}},{key:"componentWillUnmount",value:function(){if(_.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return _.canUseDOM&&O?(!this.node&&O&&(this.node=document.createElement("div")),k(f.default.createElement(v.default,u({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){b.setElement(e)}}]),t}(l.Component);C.propTypes={isOpen:m.default.bool.isRequired,style:m.default.shape({content:m.default.object,overlay:m.default.object}),portalClassName:m.default.string,bodyOpenClassName:m.default.string,htmlOpenClassName:m.default.string,className:m.default.oneOfType([m.default.string,m.default.shape({base:m.default.string.isRequired,afterOpen:m.default.string.isRequired,beforeClose:m.default.string.isRequired})]),overlayClassName:m.default.oneOfType([m.default.string,m.default.shape({base:m.default.string.isRequired,afterOpen:m.default.string.isRequired,beforeClose:m.default.string.isRequired})]),appElement:m.default.instanceOf(w.default),onAfterOpen:m.default.func,onRequestClose:m.default.func,closeTimeoutMS:m.default.number,ariaHideApp:m.default.bool,shouldFocusAfterRender:m.default.bool,shouldCloseOnOverlayClick:m.default.bool,shouldReturnFocusAfterClose:m.default.bool,parentSelector:m.default.func,aria:m.default.object,role:m.default.string,contentLabel:m.default.string,shouldCloseOnEsc:m.default.bool,overlayRef:m.default.func,contentRef:m.default.func},C.defaultProps={isOpen:!1,portalClassName:S,bodyOpenClassName:E,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},C.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,x.polyfill)(C),t.default=C},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),d=i(f),p=n(47),h=i(p),m=n(380),g=r(m),v=n(381),y=i(v),b=n(91),_=r(b),w=n(383),x=r(w),S=n(92),E=i(S),O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},k=9,C=27,T=0,N=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;x.remove(document.body,o),i&&x.remove(document.getElementsByTagName("html")[0],i),r&&T>0&&0===(T-=1)&&_.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(g.returnFocus(),g.teardownScopedFocus()):g.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(g.setupScopedFocus(n.node),g.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===k&&(0,y.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===C&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":c(t))?t:{base:O[e],afterOpen:O[e]+"--after-open",beforeClose:O[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"===typeof t&&t?i+" "+t:i},n.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;x.add(document.body,i),r&&x.add(document.getElementsByTagName("html")[0],r),n&&(T+=1,_.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,r=e.defaultStyles,i=t?{}:r.content,o=n?{}:r.overlay;return this.shouldBeClosed()?null:d.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:u({},o,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},d.default.createElement("div",u({ref:this.setContentRef,style:u({},i,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(f.Component);N.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},N.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.instanceOf(E.default),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,testId:h.default.string},t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(){h=!0}function i(){if(h){if(h=!1,!p)return;setTimeout(function(){if(!p.contains(document.activeElement)){((0,f.default)(p)[0]||p).focus()}},0)}}function o(){d.push(document.activeElement)}function a(){var e=null;try{return void(0!==d.length&&(e=d.pop(),e.focus()))}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function s(){d.length>0&&d.pop()}function u(e){p=e,window.addEventListener?(window.addEventListener("blur",r,!1),document.addEventListener("focus",i,!0)):(window.attachEvent("onBlur",r),document.attachEvent("onFocus",i))}function c(){p=null,window.addEventListener?(window.removeEventListener("blur",r),document.removeEventListener("focus",i)):(window.detachEvent("onBlur",r),document.detachEvent("onFocus",i))}Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=r,t.handleFocus=i,t.markForFocusLater=o,t.returnFocus=a,t.popWithoutFocus=s,t.setupScopedFocus=u,t.teardownScopedFocus=c;var l=n(90),f=function(e){return e&&e.__esModule?e:{default:e}}(l),d=[],p=null,h=!1},function(e,t,n){"use strict";function r(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=t.shiftKey,i=n[0],a=n[n.length-1];if(e===document.activeElement){if(!r)return;s=a}var s;if(a!==document.activeElement||r||(s=i),i===document.activeElement&&r&&(s=a),s)return t.preventDefault(),void s.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var c=n.indexOf(document.activeElement);c>-1&&(c+=r?-1:1),t.preventDefault(),n[c].focus()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(90),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=r;var i={},o={},a=function(e,t){return e[t]||(e[t]=0),e[t]+=1,t},s=function(e,t){return e[t]&&(e[t]-=1),t},u=function(e,t,n){n.forEach(function(n){a(t,n),e.add(n)})},c=function(e,t,n){n.forEach(function(n){s(t,n),0===t[n]&&e.remove(n)})};t.add=function(e,t){return u(e.classList,"html"==e.nodeName.toLowerCase()?i:o,t.split(" "))},t.remove=function(e,t){return c(e.classList,"html"==e.nodeName.toLowerCase()?i:o,t.split(" "))}},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){var t=this.constructor.getDerivedStateFromProps(e,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(3),s=n.n(a),u=n(387),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=e.onSelect,n}return o(t,e),c(t,[{key:"handleSelect",value:function(e){this.onSelect&&this.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.props.roster.getContacts();return this.props.filter&&(t=this.props.roster.search(this.props.filter)),s.a.createElement("div",{className:"contact-list"},t.length>0?t.map(function(t){return s.a.createElement(u.a,{onClick:function(){return e.handleSelect(t.jid)},active:t.jid===e.props.active,key:t.jid,contact:t})}):s.a.createElement("div",{className:"no-contacts"},s.a.createElement("span",null,"No contacts",this.props.filter?" found":"")))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c});var a=n(3),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),u(t,[{key:"render",value:function(){return s.a.createElement("div",{onClick:this.props.onClick,className:"contact"+(this.props.active?" active":"")},s.a.createElement("div",{className:"avatar",style:{backgroundImage:"url("+this.props.contact.getAvatar()+")"}}),s.a.createElement("label",{className:"name"},this.props.contact.getDisplayName()),s.a.createElement("label",{className:"jid"},this.props.contact.jid.toString()))}}]),t}(a.Component)},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/Fossil",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/Fossil/service-worker.js";a?(o(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet client found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.161232de.js.map